Metadata-Version: 2.1
Name: taxotagger
Version: 0.0.1a1
Summary: Fungi DNA barcoder based on semantic searching
License: Apache-2.0 license
Project-URL: Repository, https://github.com/MycoAI/taxotagger
Keywords: Fungi,Taxonomy,Semantic search,Vector database,Machine learning
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Education
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Natural Language :: English
Classifier: Operating System :: MacOS
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: httpx
Requires-Dist: mycoai-its
Requires-Dist: pydantic
Requires-Dist: pymilvus
Requires-Dist: rich
Requires-Dist: torch
Provides-Extra: dev
Requires-Dist: build ; extra == 'dev'
Requires-Dist: wheel ; extra == 'dev'
Requires-Dist: ruff ; extra == 'dev'
Requires-Dist: pytest ; extra == 'dev'
Requires-Dist: pytest-cov ; extra == 'dev'
Requires-Dist: coverage[toml] ; extra == 'dev'
Requires-Dist: mypy ; extra == 'dev'
Requires-Dist: typing-extensions ; extra == 'dev'
Requires-Dist: types-Deprecated ; extra == 'dev'
Requires-Dist: black ; extra == 'dev'
Requires-Dist: mkdocs ; extra == 'dev'
Requires-Dist: mkdocs-material ; extra == 'dev'
Requires-Dist: mkdocs-exclude ; extra == 'dev'
Requires-Dist: mkdocs-redirects ; extra == 'dev'
Requires-Dist: mkdocstrings-python ; extra == 'dev'
Requires-Dist: mike ; extra == 'dev'

# TaxoTagger

Fungi DNA taxonomy label identification using semantic searching.

Features:
- Building vector databases directly from DNA sequences (FASTA file) with ease
- Supporting various embedding models
- Semantic searching with high efficiency

## Installation

Install from PyPI:

```bash
# create an virtual environment
conda create -n venv-3.10 python=3.10
conda activate venv-3.10

# install the `taxotagger` package
pip install --pre taxotagger
```

Or install from source code:
```bash
# create an virtual environment
conda create -n venv-3.10 python=3.10
conda activate venv-3.10

# install from this repo
pip install git+https://github.com/MycoAI/taxotagger
```

## Usage

### Build a vector database from a FASTA file

```python
from taxotagger import ProjectConfig
from taxotagger import TaxoTagger

config = ProjectConfig()
tt = TaxoTagger(config)

# creating the database will take ~30s
tt.create_db('data/database.fasta')
```

By default, the model [MycoAI-CNN.pt](https://zenodo.org/records/10904344) will be used as the embedding model, and the database will be created and stored in the default folder (`~/.cache/mycoai`) if you do not set a new value to `config.mycoai_home`. The embedding model is automatically downloaded to  there.


### Conduct a semantic search with FASTA file
```python
from taxotagger import ProjectConfig
from taxotagger import TaxoTagger

config = ProjectConfig()
tt = TaxoTagger(config)

# semantic search and return the top 1 result for each query sequence
res = tt.search('data/query.fasta', limit = 1)
```

The search results `res` will be a dictionary with taxonomic level names as keys and matched results as values for each query sequence. For example, `res['phylum']` will look like:

```python
[
    [{"id": "KY106088", "distance": 1.0, "entity": {"phylum": "Ascomycota"}}],
    [{"id": "KY106087", "distance": 0.9999998807907104, "entity": {"phylum": "Ascomycota"}}]
]
```

The first inner list is the top results for the first query sequence, and the second inner list is the top results for the second query sequence.


# Question and feedback
Please submit [an issue](https://github.com/MycoAI/taxotagger/issues) if you have any question or feedback.
