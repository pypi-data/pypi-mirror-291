package:
  stage: build
  rules:
    - if: $CI_COMMIT_TAG && $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH
  script:
    - hatch build
  artifacts:
    name: dist
    paths:
      - dist/

docs:
  stage: build
  needs: []
  script:
    - hatch run all
  artifacts:
    name: docs
    paths:
      - docs/build/html
