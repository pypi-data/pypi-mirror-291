"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([[2321],{22974:(e,t,a)=>{a.d(t,{l:()=>u});var r=a(27378),l=a(38944),n=a(25773),c=a(92739),s=a(36547),o=a(37270);function i(e){let{label:t,color:a,className:n,onClick:c}=e;return r.createElement("span",{className:(0,l.Z)("tag",n),style:{backgroundColor:a,color:(0,o.k)(a,"#fff","#000")},onClick:c},t)}function m(e){let{allowTags:t,onTagUpdate:a}=e;const[o,m]=(0,r.useState)([]),[d,u]=(0,r.useState)(""),[p,f]=(0,r.useState)("#ea5252"),g=Array.from(new Set(t.filter((e=>e.label.toLocaleLowerCase().includes(d))).map((e=>e.label)))).slice(0,5),E=()=>d.length>=1&&d.length<=10;return r.createElement(r.Fragment,null,r.createElement("label",{className:"flex flex-wrap gap-x-1 gap-y-1"},o.map(((e,t)=>r.createElement(i,(0,n.Z)({key:t},e,{className:"cursor-pointer",onClick:()=>(e=>{const t=o.filter(((t,a)=>a!==e));m(t),a(t)})(t)})))),o.length<3&&r.createElement("span",{className:(0,l.Z)("add-btn",{"add-btn-disabled":!E()}),onClick:()=>(()=>{if(!(o.length>=3)&&E()){const e={label:d,color:p},t=[...o,e];m(t),a(t)}})()},r.createElement(c.G,{className:"pr-1",icon:["fas","plus"]}),"\u65b0\u5efa\u6807\u7b7e")),r.createElement("div",{className:"form-item-container"},r.createElement("span",{className:"form-item-title"},"\u6807\u7b7e\u540d\u79f0"),r.createElement("div",{className:"dropdown dropdown-bottom w-full"},r.createElement("input",{type:"text",value:d,className:"form-item form-item-input",placeholder:"\u8bf7\u8f93\u5165",onChange:e=>u(e.target.value)}),g.length>0&&r.createElement("ul",{tabIndex:0,className:"dropdown-content z-10 menu p-2 shadow bg-base-100 rounded-box w-52"},g.map((e=>r.createElement("li",{key:e},r.createElement("a",{onClick:()=>u(e)},e))))))),r.createElement("div",{className:"form-item-container"},r.createElement("span",{className:"form-item-title"},"\u6807\u7b7e\u989c\u8272"),r.createElement(s.AI,{className:"my-4 fix-input-color",color:p,disableAlpha:!0,onChangeComplete:e=>{f(e.hex)}})))}var d=a(62434);function u(e){let{type:t,children:a,formItems:n,handleSubmit:c}=e;const[s,o]=(0,r.useState)(0),[i,m]=(0,r.useState)({}),[u,f]=(0,r.useState)([]);(0,r.useEffect)((()=>{(0,d.q)(t).then((e=>f(e.filter((e=>e.tags.length>0)).map((e=>e.tags)).flat()))).catch((e=>{console.error(e)}))}),[t]);const g=(e,t)=>{m({...i,[e]:t})};return r.createElement(r.Fragment,null,r.createElement("ul",{className:"steps"},n.map(((e,t)=>r.createElement("li",{key:t,className:(0,l.Z)("step",s===t&&"step-primary")},e.name)))),r.createElement("div",{className:"form-control w-full min-h-[300px]"},a||n[s].items.map((e=>r.createElement(p,{key:e.name,type:e.type,name:e.name,labelText:e.labelText,allowTags:u,result:i,setResult:g})))),r.createElement("div",{className:"flex justify-between"},r.createElement("button",{className:(0,l.Z)("form-btn form-btn-prev",{"form-btn-hidden":0===s}),onClick:()=>s>0&&o(s-1)},"\u4e0a\u4e00\u6b65"),r.createElement("button",{className:"form-btn form-btn-next",onClick:()=>s<n.length-1?void(n[s].items.map((e=>e.name)).every((e=>i[e]))&&o(s+1)):c(i)},s===n.length-1?"\u63d0\u4ea4":"\u4e0b\u4e00\u6b65")))}function p(e){let{type:t,name:a,labelText:n,allowTags:c,result:s,setResult:o}=e;return r.createElement(r.Fragment,null,r.createElement("label",{className:"label"},r.createElement("span",{className:"label-text"},n)),"text"===t&&r.createElement("input",{value:s[a]||"",type:"text",name:a,onChange:e=>o(a,e.target.value),placeholder:"\u8bf7\u8f93\u5165",className:(0,l.Z)("form-input",{"form-input-error":!s[a]})}),"text"===t&&!s[a]&&r.createElement("label",{className:"label"},r.createElement("span",{className:"form-label form-label-error"},"\u8bf7\u8f93\u5165",n)),"tag"===t&&r.createElement(m,{allowTags:c,onTagUpdate:e=>o(a,JSON.stringify(e))}))}},69220:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(27378),l=a(38944),n=a(31112);function c(e){let{setOpenModal:t,className:a,children:c,useCustomTitle:s,backdropExit:o,title:i}=e;const[m,d]=(0,r.useState)(""),u=()=>d("fade-out");return(0,r.useEffect)((()=>d("fade-in")),[]),r.createElement("div",{className:(0,l.Z)("nb-modal-root",a)},r.createElement("div",{className:(0,l.Z)("nb-modal-backdrop",m),onTransitionEnd:()=>"fade-out"===m&&t(!1),onClick:()=>o&&u()}),r.createElement("div",{className:(0,l.Z)("nb-modal-container",m)},r.createElement("div",{className:"card bg-base-100 shadow-xl max-w-2xl"},r.createElement("div",{className:"card-body"},!s&&r.createElement("div",{className:"nb-modal-title"},i,r.createElement("div",{className:"card-actions ml-auto"},r.createElement("button",{className:"btn btn-square btn-sm",onClick:u},r.createElement(n.Z,null)))),c))))}},12440:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(27378),l=a(38944),n=a(92739);const c=7;function s(e){let{className:t,totalPages:a,currentPage:s,setPreviousPage:o,setNextPage:i,setPage:m,previousEnabled:d,nextEnabled:u}=e;const p=(0,r.useCallback)(((e,t)=>{const a=[];for(let r=e=e>0?e:1;r<=t;r++)a.push(r);return a}),[]),f=[],g=r.createElement(n.G,{icon:"ellipsis-h"}),E=c%2==0?1:0,h=Math.floor(c/2),b=a-h+E+1;if(s+=1,a<=c)f.push(...p(1,a));else if(s>h&&s<b){const e=s-h+2,t=s+h-2-E,r=e-1===1+1?2:g,l=t+1===a-1?t+1:g;f.push(1,r,...p(e,t),l,a)}else if(s===h){const e=s+h-1-E;f.push(...p(1,e),g,a)}else if(s===b){const e=s-h+1;f.push(1,g,...p(e,a))}else f.push(...p(1,h),g,...p(b,a));return r.createElement("nav",{className:(0,l.Z)("paginate-container",t),role:"navigation","aria-label":"Pagination Navigation"},r.createElement("button",{className:"paginate-button",onClick:o,disabled:!d},r.createElement(n.G,{icon:["fas","chevron-left"]})),r.createElement("ul",{className:"paginate-pager"},f.map(((e,t)=>r.createElement("li",{key:t,className:(0,l.Z)("paginate-button","number"!=typeof e&&"ellipsis",s===e&&"active"),onClick:()=>"number"==typeof e&&s!==e&&m(e-1)},e)))),r.createElement("button",{className:"paginate-button",onClick:i,disabled:!u},r.createElement(n.G,{icon:["fas","chevron-right"]})))}},44633:(e,t,a)=>{a.d(t,{Z:()=>m});var r=a(25773),l=a(27378),n=a(38944),c=a(81884),s=a(92739),o=a(91857),i=a(84063);function m(e){let{resource:t,onClick:a,onTagClick:m,onAuthorClick:d,className:u}=e;const p=/^https:\/\/github.com\/[^/]+\/[^/]+/.test(t.homepage),f="plugin"===t.resourceType,g=f&&`https://registry.nonebot.dev/plugin/${t.project_link}:${t.module_name}`,E=`https://github.com/${t.author}`,h=`${E}.png?size=80`;return l.createElement("div",{className:(0,n.Z)("resource-card-container",u)},l.createElement("div",{className:"resource-card-header"},l.createElement("div",{className:"resource-card-header-title"},l.createElement("div",{className:"resource-card-header-text","data-tip":t.name},l.createElement("div",{className:"truncate min-w-0"},t.name)),t.is_official&&l.createElement(s.G,{className:"resource-card-header-check",icon:["fas","circle-check"]}),l.createElement(i.ZP,{className:"mx-2",resource:t,validLink:g,simple:!0})),l.createElement("div",{className:"resource-card-header-expand",onClick:a},l.createElement(s.G,{icon:["fas","expand"]}))),l.createElement("div",{className:"resource-card-desc"},t.desc),l.createElement("div",{className:"resource-card-footer"},l.createElement("div",{className:"resource-card-footer-tags"},t.tags.map(((e,t)=>l.createElement(o.Z,(0,r.Z)({className:"resource-card-footer-tag",key:t},e,{onClick:()=>m(e.label)}))))),l.createElement("div",{className:"divider resource-card-footer-divider"}),l.createElement("div",{className:"resource-card-footer-info"},l.createElement("div",{className:"resource-card-footer-group"},l.createElement(c.Z,{href:t.homepage},p?l.createElement(s.G,{className:"resource-card-footer-icon",icon:["fab","github"]}):l.createElement(s.G,{className:"resource-card-footer-icon",icon:["fas","link"]})),f&&l.createElement(c.Z,{href:g},l.createElement(s.G,{className:"resource-card-footer-icon",icon:["fas","cube"]}))),l.createElement("div",{className:"resource-card-footer-group"},l.createElement("div",{className:"avatar"},l.createElement("div",{className:"resource-card-footer-avatar"},l.createElement(c.Z,{href:E},l.createElement("img",{src:h,key:t.author})))),l.createElement("span",{className:"resource-card-footer-author",onClick:d},t.author)))))}},62445:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(25773),l=a(27378),n=a(92739),c=a(48062),s=a(91857),o=a(84063);function i(e){let{resource:t}=e;const[a,i]=(0,l.useState)(null),[m,d]=(0,l.useState)(!1),u=`https://github.com/${t.author}`,p=`${u}.png?size=100`,f="plugin"===t.resourceType&&`https://registry.nonebot.dev/plugin/${t.project_link}:${t.module_name}`,g=e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.project_link;default:return null}},E=e=>{const t=g(e);t&&((0,c.Z)(`nb ${e.resourceType} install ${t}`),d(!0),setTimeout((()=>d(!1)),2e3))};(0,l.useEffect)((()=>{const e=[];var a;"bot"!==t.resourceType&&"driver"!==t.resourceType&&(t.project_link&&e.push((a=t.project_link,fetch(`https://pypi.org/pypi/${a}/json`).then((e=>e.json())).then((e=>i(e))))),Promise.all(e))}),[t]);const h=g(t)||"\u65e0",b=(e=>{switch(e.resourceType){case"plugin":case"adapter":return e.module_name;case"driver":return e.module_name.replace(/~/,"nonebot.drivers.");default:return null}})(t)||"\u65e0",v=(e=>{switch(e.resourceType){case"plugin":case"adapter":case"driver":return e.homepage;default:return null}})(t)||void 0,N=(e=>{switch(e.resourceType){case"plugin":case"adapter":return`https://pypi.org/project/${e.project_link}`;default:return null}})(t)||void 0;return l.createElement(l.Fragment,null,l.createElement("div",{className:"detail-card-header"},l.createElement("img",{src:p,className:"detail-card-avatar",decoding:"async"}),l.createElement("div",{className:"detail-card-title"},l.createElement("span",{className:"detail-card-title-main flex items-center gap-x-1"},t.name,t.is_official&&l.createElement("div",{className:"rounded-md text-sm bg-green-400/10 text-green-600 px-1 py-0.5"},"\u5b98\u65b9")),l.createElement("a",{className:"detail-card-title-sub hover:underline hover:text-primary",target:"_blank",rel:"noreferrer",href:u},t.author)),l.createElement("div",{className:"detail-card-actions"},l.createElement(o.ZP,{resource:t,validLink:f,className:"detail-card-actions-desktop"}),l.createElement("button",{className:"detail-card-actions-button detail-card-actions-desktop w-28",onClick:()=>E(t)},m?"\u590d\u5236\u6210\u529f":"\u590d\u5236\u5b89\u88c5\u547d\u4ee4"))),l.createElement("div",{className:"divider detail-card-header-divider"}),l.createElement("div",{className:"detail-card-body"},l.createElement("div",{className:"detail-card-body-left"},l.createElement("span",{className:"h-full"},t.desc),l.createElement("div",{className:"resource-card-footer-tags mb-4"},t.tags.map(((e,t)=>l.createElement(s.Z,(0,r.Z)({className:"align-bottom",key:t},e)))))),l.createElement("div",{className:"detail-card-body-divider"}),l.createElement("div",{className:"detail-card-body-right"},l.createElement("div",{className:"detail-card-meta-item"},l.createElement("span",null,l.createElement(n.G,{fixedWidth:!0,icon:["fab","python"]})," ",a&&a.info.requires_python||"\u65e0")),l.createElement("div",{className:"detail-card-meta-item"},l.createElement(n.G,{fixedWidth:!0,icon:["fas","file-zipper"]})," ",a&&a.releases[a.info.version]&&a.releases[a.info.version].reduce(((e,t)=>e+t.size),0)/1e3+"K"||"\u65e0"),l.createElement("div",{className:"detail-card-meta-item"},l.createElement("span",null,l.createElement(n.G,{fixedWidth:!0,icon:["fas","scale-balanced"]})," ",a&&a.info.license||"\u65e0")),l.createElement("div",{className:"detail-card-meta-item"},l.createElement(n.G,{fixedWidth:!0,icon:["fas","tag"]})," ",a&&a.info.version||"\u65e0"),l.createElement("div",{className:"detail-card-meta-item"},l.createElement(n.G,{fixedWidth:!0,icon:["fas","fingerprint"]})," ",l.createElement("a",{href:v,target:"_blank",rel:"noreferrer",className:v&&"hover:underline hover:text-primary"},b)),l.createElement("div",{className:"detail-card-meta-item"},l.createElement(n.G,{fixedWidth:!0,icon:["fas","cubes"]})," ",l.createElement("a",{href:N,target:"_blank",rel:"noreferrer",className:N&&"hover:underline hover:text-primary"},h)),l.createElement("div",{className:"detail-card-actions"},l.createElement(o.ZP,{resource:t,validLink:f,className:"detail-card-actions-mobile"}),l.createElement("button",{className:"detail-card-actions detail-card-actions-button detail-card-actions-mobile w-28",onClick:()=>E(t)},m?"\u590d\u5236\u6210\u529f":"\u590d\u5236\u5b89\u88c5\u547d\u4ee4")))))}},91857:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(27378),l=a(38944),n=a(37270);function c(e){let{label:t,color:a,className:c,onClick:s}=e;return r.createElement("span",{className:(0,l.Z)("resource-tag",c),style:{backgroundColor:a,color:(0,n.k)(a,"#fff","#000")},onClick:s},t)}},84063:(e,t,a)=>{a.d(t,{ZP:()=>i});var r=a(27378),l=a(38944),n=a(92739);let c=function(e){return e.VALID="valid",e.INVALID="invalid",e.SKIP="skip",e.MISSING="missing",e}({});const s=e=>"plugin"===e.resourceType?e.skip_test?c.SKIP:e.valid?c.VALID:c.INVALID:c.MISSING,o={[c.VALID]:"plug-circle-check",[c.INVALID]:"plug-circle-xmark",[c.SKIP]:"plug-circle-exclamation",[c.MISSING]:"plug-circle-exclamation"};function i(e){let{resource:t,validLink:a,className:i,simple:m}=e;const d=s(t),u=d===c.VALID,p=d===c.INVALID,f=d===c.SKIP;return d!==c.MISSING&&r.createElement("a",{target:"_blank",rel:"noreferrer",href:a,className:i},r.createElement("div",{className:(0,l.Z)({"rounded-md text-sm flex items-center gap-x-1 px-2 py-1 whitespace-nowrap":!m,"bg-green-400/10":!m&&u,"text-green-600 dark:text-green-400":u,"bg-red-400/10":!m&&p,"text-red-600 dark:text-red-400":p,"bg-blue-400/10":!m&&f,"text-blue-600 dark:text-blue-400":f})},r.createElement(n.G,{icon:o[d]}),!m&&r.createElement(r.Fragment,null,u&&r.createElement("p",null,"\u63d2\u4ef6\u5df2\u901a\u8fc7\u6d4b\u8bd5"),p&&r.createElement("p",null,"\u63d2\u4ef6\u672a\u901a\u8fc7\u6d4b\u8bd5"),f&&r.createElement("p",null,"\u63d2\u4ef6\u8df3\u8fc7\u6d4b\u8bd5"))))}},30442:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(27378),l=a(38944),n=a(99213),c=a(92739);function s(e){let{onChange:t,onSubmit:a,onBackspace:s,onClear:o,onTagClick:i,tags:m=[],className:d,placeholder:u,disabled:p=!1}=e;const f=(0,r.useRef)(null);return r.createElement("div",{className:(0,l.Z)("searcher-box",d)},r.createElement("div",{className:"searcher-container"},m.map(((e,t)=>r.createElement("div",{key:t,className:"badge badge-primary searcher-tag",onClick:()=>i(t)},e))),r.createElement("input",{ref:f,className:"searcher-input",placeholder:u??(0,n.I)({id:"theme.searcher.input.placeholder",description:"Search input placeholder",message:"\u641c\u7d22"}),onChange:e=>t(e.currentTarget.value),onKeyDown:e=>{switch(e.key){case"Enter":(e=>{a(e.currentTarget.value),e.currentTarget.value="",e.preventDefault()})(e);break;case"Escape":(e=>{e.currentTarget.value=""})(e);break;case"Backspace":(e=>{""===e.currentTarget.value&&(s(),e.preventDefault())})(e)}},disabled:p})),r.createElement("div",{className:"searcher-action",onClick:()=>{f.current&&(f.current.value="",f.current.focus()),o()}},r.createElement(c.G,{className:"searcher-action-icon search",icon:["fas","magnifying-glass"]}),r.createElement(c.G,{className:"searcher-action-icon close",icon:["fas","xmark"]})))}},28160:(e,t,a)=>{a.d(t,{Z:()=>f});var r=a(25773),l=a(27378),n=a(1123),c=a(45161),s=a(11384),o=a(22256),i=a(37582),m=a(6671),d=a(92784);const u="ecosystem";function p(e){let{title:t,children:a}=e;const r=(0,s.Uo)((0,c.lO)()[0].name,u);return l.createElement(d.Z,{hideTableOfContents:!0,reduceContentWidth:!1},l.createElement(o.uB,{items:r}),l.createElement("article",{className:"prose max-w-full"},l.createElement("h1",{className:"store-title"},t),a))}function f(e){let{title:t,...a}=e;return l.createElement(l.Fragment,null,l.createElement(n.d,{title:t}),l.createElement(m.Z,null,l.createElement(i.Z,null),l.createElement(p,(0,r.Z)({title:t},a))))}},59015:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(25773),l=a(27378),n=a(38944),c=a(92739);function s(e){let{label:t,icon:a,choices:r,onSubmit:n}=e;const[s,o]=(0,l.useState)(""),i=r?.filter((e=>e.toLowerCase().includes(s.toLowerCase())))?.slice(0,5),m=e=>{"Enter"===e.key&&(n(e.currentTarget.innerText),e.preventDefault())};return l.createElement("div",{className:"dropdown"},l.createElement("label",{className:"btn btn-sm btn-outline btn-primary no-animation",tabIndex:0},l.createElement(c.G,{icon:a}),t),l.createElement("div",{className:"dropdown-content store-toolbar-dropdown"},l.createElement("input",{type:"text",placeholder:"\u641c\u7d22",value:s,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(i&&i.length>0?n(i[0]):null===r&&n(s),e.preventDefault())},className:"input input-sm input-bordered w-full"}),i&&l.createElement("ul",{className:"menu menu-sm"},i.map(((e,t)=>l.createElement("li",{key:t,onClick:()=>n(e),onKeyDown:m},l.createElement("a",{tabIndex:0},e)))))))}function o(e){let{filters:t,action:a,className:o}=e;return t&&t.length>0||a?l.createElement("div",{className:(0,n.Z)("store-toolbar",o)},t&&t.length>0&&l.createElement("div",{className:"store-toolbar-filters"},t.map(((e,t)=>l.createElement(s,(0,r.Z)({key:t},e))))),a&&l.createElement("div",{className:"store-toolbar-action"},l.createElement("button",{className:"btn btn-sm btn-primary no-animation",onClick:a.onClick},l.createElement(c.G,{icon:a.icon}),a.label))):null}},37270:(e,t,a)=>{function r(e,t,a){const r="#"===e.charAt(0)?e.substring(1,7):e;return.299*parseInt(r.substring(0,2),16)+.587*parseInt(r.substring(2,4),16)+.114*parseInt(r.substring(4,6),16)>186?a:t}a.d(t,{k:()=>r})},28927:(e,t,a)=>{a.d(t,{Ac:()=>c,IA:()=>s,RQ:()=>n,SY:()=>o});var r=a(27378),l=a(99213);const n=e=>({type:"tag",id:`tag-${e}`,displayName:(0,l.I)({id:"pages.store.filter.tagDisplayName",description:"The display name of tag filter",message:"\u6807\u7b7e: {tag}"},{tag:e}),filter:t=>t.tags.map((e=>e.label)).includes(e)}),c=e=>({type:"author",id:`author-${e}`,displayName:(0,l.I)({id:"pages.store.filter.authorDisplayName",description:"The display name of author filter",message:"\u4f5c\u8005: {author}"},{author:e}),filter:t=>t.author===e}),s=e=>({type:"query",id:`query-${e}`,displayName:e,filter:t=>{if(!e)return!0;const a=e.toLowerCase(),r="plugin"===t.resourceType&&(t.module_name?.toLowerCase().includes(a)||t.project_link?.toLowerCase().includes(a)),l=t.name.toLowerCase().includes(a)||t.desc.toLowerCase().includes(a)||t.author.toLowerCase().includes(a)||t.tags.filter((e=>e.label.toLowerCase().includes(a))).length>0;return r||l}});function o(e){const[t,a]=(0,r.useState)([]),l=(0,r.useCallback)((e=>{t.some((t=>t.id===e.id))||a((t=>[...t,e]))}),[t,a]),n=(0,r.useCallback)((e=>{a((t=>t.filter((t=>"string"==typeof e?t.id!==e:t!==e))))}),[a]),c=(0,r.useCallback)((()=>function(e,t){return e.filter((e=>t.every((t=>t.filter(e)))))}(e,t)),[e,t]);return{filters:t,addFilter:l,removeFilter:n,filteredResources:c()}}},75799:(e,t,a)=>{a.d(t,{r:()=>n});var r=a(27378),l=a(28927);function n(e){const[t,a]=(0,r.useState)(null),{filters:n,addFilter:c,removeFilter:s,filteredResources:o}=(0,l.SY)(e),[i,m]=(0,r.useState)([]);(0,r.useEffect)((()=>{m(n.filter((e=>!(t&&e===t))))}),[n,t]);const d=(0,r.useCallback)((e=>{if(""===e)return t&&s(t),void a(null);const r=(0,l.IA)(e);t?.id!==r.id&&(t&&s(t),a(r),c(r))}),[t,a,c,s]),u=(0,r.useCallback)((()=>{a(null)}),[a]),p=(0,r.useCallback)((()=>{s(i[i.length-1])}),[s,i]),f=(0,r.useCallback)((()=>{i.forEach((e=>s(e)))}),[s,i]),g=(0,r.useCallback)((e=>{s(i[e])}),[s,i]);return{filteredResources:o,searcherTags:i.map((e=>e.displayName)),addFilter:c,onSearchQueryChange:d,onSearchQuerySubmit:u,onSearchBackspace:p,onSearchClear:f,onSearchTagClick:g}}},62434:(e,t,a)=>{async function r(e){const t=await fetch(`https://registry.nonebot.dev/${e}s.json`).catch((t=>{throw new Error(`Failed to fetch ${e}s: ${t}`)}));if(!t.ok)throw new Error(`Failed to fetch ${e}s: ${t.status} ${t.statusText}`);return(await t.json()).map((t=>({...t,resourceType:e})))}a.d(t,{J:()=>l,q:()=>r});const l=(0,a(99213).I)({id:"pages.store.loadFailed.title",message:"\u52a0\u8f7d\u5931\u8d25",description:"Title to display when loading content failed"})},34338:(e,t,a)=>{a.d(t,{S:()=>l});var r=a(28927);function l(e){let{resources:t,addFilter:a}=e;return{filters:[{label:"\u4f5c\u8005",icon:["fas","user"],choices:Array.from(new Set(t.map((e=>e.author)))),onSubmit:e=>{a((0,r.Ac)(e))}},{label:"\u6807\u7b7e",icon:["fas","tag"],choices:Array.from(new Set(t.flatMap((e=>e.tags.map((e=>e.label)))))),onSubmit:e=>{a((0,r.RQ)(e))}}]}}},18356:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var r=a(27378),l=a(99213),n=a(22600),c=a(7817),s=a(22974);function o(){return r.createElement(s.l,{type:"adapter",formItems:[{name:"\u57fa\u672c\u4fe1\u606f",items:[{type:"text",name:"name",labelText:"\u9002\u914d\u5668\u540d\u79f0"},{type:"text",name:"description",labelText:"\u9002\u914d\u5668\u63cf\u8ff0"},{type:"text",name:"homepage",labelText:"\u9002\u914d\u5668\u9879\u76ee\u4ed3\u5e93/\u4e3b\u9875\u94fe\u63a5"}]},{name:"\u5305\u4fe1\u606f",items:[{type:"text",name:"pypi",labelText:"PyPI \u9879\u76ee\u540d"},{type:"text",name:"module",labelText:"\u9002\u914d\u5668 import \u5305\u540d"}]},{name:"\u5176\u4ed6\u4fe1\u606f",items:[{type:"tag",name:"tags",labelText:"\u6807\u7b7e"}]}],handleSubmit:e=>{window.open(`https://github.com/nonebot/nonebot2/issues/new?${new URLSearchParams({assignees:"",labels:"Adapter",projects:"",template:"adapter_publish.yml",title:`Adapter: ${e.name}`,...e})}`)}})}var i=a(69220),m=a(12440),d=a(44633),u=a(62445),p=a(30442),f=a(59015),g=a(28927),E=a(75799),h=a(62434),b=a(34338);function v(){const[e,t]=(0,r.useState)(null),a=e?.length??0,s=null===e,[v,N]=(0,r.useState)(null),[y,k]=(0,r.useState)(!1),[x,C]=(0,r.useState)(!1),[S,w]=(0,r.useState)(null),{filteredResources:Z,searcherTags:T,addFilter:I,onSearchQueryChange:P,onSearchQuerySubmit:A,onSearchBackspace:G,onSearchClear:L,onSearchTagClick:$}=(0,E.r)(e??[]),_=Z.length,{startIndex:F,endIndex:D,totalPages:j,currentPage:R,setNextPage:M,setPreviousPage:K,setPage:V,previousEnabled:q,nextEnabled:z}=(0,n.h0)({totalItems:Z.length,initialPageSize:12}),Q=Z.slice(F,D+1);(0,r.useEffect)((()=>{(0,h.q)("adapter").then(t).catch((e=>{N(e),console.error(e)}))}),[]);const{filters:W}=(0,b.S)({resources:e??[],addFilter:I}),B={label:"\u53d1\u5e03\u9002\u914d\u5668",icon:["fas","plus"],onClick:()=>{k(!0)}},O=(0,r.useCallback)((e=>{w(e),C(!0)}),[]),U=(0,r.useCallback)((e=>{I((0,g.RQ)(e))}),[I]),J=(0,r.useCallback)((e=>{I((0,g.Ac)(e))}),[I]);return r.createElement(r.Fragment,null,r.createElement("p",{className:"store-description"},a===_?r.createElement(l.Z,{id:"pages.store.adapter.info",description:"Adapters info of the adapter store page",values:{adapterCount:a}},"\u5f53\u524d\u5171\u6709 {adapterCount} \u4e2a\u9002\u914d\u5668"):r.createElement(l.Z,{id:"pages.store.adapter.searchInfo",description:"Adapters search info of the adapter store page",values:{adapterCount:a,filteredAdapterCount:_}},"\u5f53\u524d\u5171\u6709 {filteredAdapterCount} / {adapterCount} \u4e2a\u9002\u914d\u5668")),r.createElement(p.Z,{className:"store-searcher not-prose",onChange:P,onSubmit:A,onBackspace:G,onClear:L,onTagClick:$,tags:T,disabled:s}),r.createElement(f.Z,{className:"not-prose",filters:W,action:B}),v?r.createElement(c.Z,{type:"caution",title:h.J},v.message):s?r.createElement("p",{className:"store-loading-container"},r.createElement("span",{className:"loading loading-dots loading-lg store-loading"})):r.createElement("div",{className:"store-container"},Q.map(((e,t)=>r.createElement(d.Z,{key:t,className:"not-prose",resource:e,onClick:()=>O(e),onTagClick:U,onAuthorClick:()=>J(e.author)})))),r.createElement(m.Z,{className:"not-prose",totalPages:j,currentPage:R,setNextPage:M,setPreviousPage:K,setPage:V,nextEnabled:z,previousEnabled:q}),y&&r.createElement(i.Z,{className:"not-prose",title:"\u53d1\u5e03\u9002\u914d\u5668",setOpenModal:k},r.createElement(o,null)),x&&r.createElement(i.Z,{className:"not-prose",title:"\u9002\u914d\u5668\u8be6\u60c5",backdropExit:!0,setOpenModal:C},S&&r.createElement(u.Z,{resource:S})))}var N=a(28160);function y(){const e=(0,l.I)({id:"pages.store.adapter.title",message:"\u9002\u914d\u5668\u5546\u5e97",description:"Title for the adapter store page"});return r.createElement(N.Z,{title:e},r.createElement(v,null))}},48062:(e,t,a)=>{function r(e,t){let{target:a=document.body}=void 0===t?{}:t;if("string"!=typeof e)throw new TypeError(`Expected parameter \`text\` to be a \`string\`, got \`${typeof e}\`.`);const r=document.createElement("textarea"),l=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const n=document.getSelection(),c=n.rangeCount>0&&n.getRangeAt(0);a.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch{}return r.remove(),c&&(n.removeAllRanges(),n.addRange(c)),l&&l.focus(),s}a.d(t,{Z:()=>r})}}]);