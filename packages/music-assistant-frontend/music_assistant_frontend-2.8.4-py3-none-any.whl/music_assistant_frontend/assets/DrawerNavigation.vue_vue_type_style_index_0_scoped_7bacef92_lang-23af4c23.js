import{B as ue}from"./Button-b1542585.js";import{d as ce,m as ve,f as de,g as me,b as he,i as fe,j as F,l as ge,n as ye,P as pe,Q as we,c as be,z as ke,K as Se,V as Z}from"./VListItem-0186c915.js";import{u as _e,V as Ee,a as Me}from"./VList-92308f1a.js";import{L as N,z as p,D as Te,o as Q,N as P,a as ee,aG as Ve,ad as H,ae as xe,aw as Ne,l as Be,aH as Le,v as Ce,m as Pe,J as De,I as Ie,y as q,a6 as Re,B as He,r as W,C as Ye,f as k,G,aI as We,F as te,U as $e,d as Oe,c as Y,e as j,w as R,g as ze,h as Xe,u as Ue,p as Ae,k as Fe,i as ae}from"./index-af8b7753.js";import{e as Ze,b as qe,g as Ge}from"./VMenu-cf6ae0bc.js";import{m as je,a as Je}from"./layout-db5fa092.js";const Ke=""+new URL("icon-adc3602b.png",import.meta.url).href;function Qe(e){let{rootEl:o,isSticky:a,layoutItemStyles:_}=e;const t=N(!1),s=N(0),n=p(()=>{const w=typeof t.value=="boolean"?"top":t.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[w]:Te(s.value)}:{top:_.value.top}]});Q(()=>{P(a,w=>{w?window.addEventListener("scroll",E,{passive:!0}):window.removeEventListener("scroll",E)},{immediate:!0})}),ee(()=>{window.removeEventListener("scroll",E)});let g=0;function E(){const w=g>window.scrollY?"up":"down",v=o.value.getBoundingClientRect(),d=parseFloat(_.value.top??0),c=window.scrollY-Math.max(0,s.value-d),h=v.height+Math.max(s.value,d)-window.scrollY-window.innerHeight,y=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-d?(t.value="top",s.value=d):w==="up"&&t.value==="bottom"||w==="down"&&t.value==="top"?(s.value=window.scrollY+v.top-y,t.value=!0):w==="down"&&h<=0?(s.value=0,t.value="bottom"):w==="up"&&c<=0&&(y?t.value!=="top"&&(s.value=-c+y+d,t.value="top"):(s.value=v.top+c,t.value="top")),g=window.scrollY}return{isStuck:t,stickyStyles:n}}const et=100,tt=20;function J(e){const o=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*o}function K(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const _=J(o),t=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);o+=(t-_)*Math.abs(t),a===e.length-1&&(o*=.5)}return J(o)*1e3}function at(){const e={};function o(t){Array.from(t.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new Ve(tt))).push([t.timeStamp,s])})}function a(t){Array.from(t.changedTouches).forEach(s=>{delete e[s.identifier]})}function _(t){var w;const s=(w=e[t])==null?void 0:w.values().reverse();if(!s)throw new Error(`No samples for touch id ${t}`);const n=s[0],g=[],E=[];for(const v of s){if(n[0]-v[0]>et)break;g.push({t:v[0],d:v[1].clientX}),E.push({t:v[0],d:v[1].clientY})}return{x:K(g),y:K(E),get direction(){const{x:v,y:d}=this,[c,h]=[Math.abs(v),Math.abs(d)];return c>h&&v>=0?"right":c>h&&v<=0?"left":h>c&&d>=0?"down":h>c&&d<=0?"up":nt()}}}return{addMovement:o,endTouch:a,getVelocity:_}}function nt(){throw new Error}function ot(e){let{el:o,isActive:a,isTemporary:_,width:t,touchless:s,position:n}=e;Q(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",D,{passive:!0})}),ee(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",D)});const g=p(()=>["left","right"].includes(n.value)),{addMovement:E,endTouch:w,getVelocity:v}=at();let d=!1;const c=N(!1),h=N(0),y=N(0);let S;function B(l,i){return(n.value==="left"?l:n.value==="right"?document.documentElement.clientWidth-l:n.value==="top"?l:n.value==="bottom"?document.documentElement.clientHeight-l:x())-(i?t.value:0)}function L(l){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=n.value==="left"?(l-y.value)/t.value:n.value==="right"?(document.documentElement.clientWidth-l-y.value)/t.value:n.value==="top"?(l-y.value)/t.value:n.value==="bottom"?(document.documentElement.clientHeight-l-y.value)/t.value:x();return i?Math.max(0,Math.min(1,r)):r}function T(l){if(s.value)return;const i=l.changedTouches[0].clientX,r=l.changedTouches[0].clientY,u=25,f=n.value==="left"?i<u:n.value==="right"?i>document.documentElement.clientWidth-u:n.value==="top"?r<u:n.value==="bottom"?r>document.documentElement.clientHeight-u:x(),m=a.value&&(n.value==="left"?i<t.value:n.value==="right"?i>document.documentElement.clientWidth-t.value:n.value==="top"?r<t.value:n.value==="bottom"?r>document.documentElement.clientHeight-t.value:x());(f||m||a.value&&_.value)&&(S=[i,r],y.value=B(g.value?i:r,a.value),h.value=L(g.value?i:r),d=y.value>-20&&y.value<80,w(l),E(l))}function M(l){const i=l.changedTouches[0].clientX,r=l.changedTouches[0].clientY;if(d){if(!l.cancelable){d=!1;return}const f=Math.abs(i-S[0]),m=Math.abs(r-S[1]);(g.value?f>m&&f>3:m>f&&m>3)?(c.value=!0,d=!1):(g.value?m:f)>3&&(d=!1)}if(!c.value)return;l.preventDefault(),E(l);const u=L(g.value?i:r,!1);h.value=Math.max(0,Math.min(1,u)),u>1?y.value=B(g.value?i:r,!0):u<0&&(y.value=B(g.value?i:r,!1))}function D(l){if(d=!1,!c.value)return;E(l),c.value=!1;const i=v(l.changedTouches[0].identifier),r=Math.abs(i.x),u=Math.abs(i.y);(g.value?r>u&&r>400:u>r&&u>3)?a.value=i.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||x()):a.value=h.value>.5}const C=p(()=>c.value?{transform:n.value==="left"?`translateX(calc(-100% + ${h.value*t.value}px))`:n.value==="right"?`translateX(calc(100% - ${h.value*t.value}px))`:n.value==="top"?`translateY(calc(-100% + ${h.value*t.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${h.value*t.value}px))`:x(),transition:"none"}:void 0);return H(c,()=>{var r,u;const l=((r=o.value)==null?void 0:r.style.transform)??null,i=((u=o.value)==null?void 0:u.style.transition)??null;xe(()=>{var f,m,V,I;(m=o.value)==null||m.style.setProperty("transform",((f=C.value)==null?void 0:f.transform)||"none"),(I=o.value)==null||I.style.setProperty("transition",((V=C.value)==null?void 0:V.transition)||null)}),Ne(()=>{var f,m;(f=o.value)==null||f.style.setProperty("transform",l),(m=o.value)==null||m.style.setProperty("transition",i)})}),{isDragging:c,dragProgress:h,dragStyles:C}}function x(){throw new Error}const lt=["start","end","left","right","top","bottom"],it=Be({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>lt.includes(e)},sticky:Boolean,...ce(),...ve(),...Ze(),...Le({mobile:null}),...de(),...je(),...me(),...he({tag:"nav"}),...Ce()},"VNavigationDrawer"),st=Pe()({name:"VNavigationDrawer",props:it(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:a,emit:_,slots:t}=o;const{isRtl:s}=De(),{themeClasses:n}=Ie(e),{borderClasses:g}=fe(e),{backgroundColorClasses:E,backgroundColorStyles:w}=F(q(e,"color")),{elevationClasses:v}=ge(e),{displayClasses:d,mobile:c}=Re(e),{roundedClasses:h}=ye(e),y=pe(),S=He(e,"modelValue",null,b=>!!b),{ssrBootStyles:B}=_e(),{scopeId:L}=qe(),T=W(),M=N(!1),{runOpenDelay:D,runCloseDelay:C}=Ge(e,b=>{M.value=b}),l=p(()=>e.rail&&e.expandOnHover&&M.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),i=p(()=>we(e.location,s.value)),r=p(()=>e.persistent),u=p(()=>!e.permanent&&(c.value||e.temporary)),f=p(()=>e.sticky&&!u.value&&i.value!=="bottom");H(()=>e.expandOnHover&&e.rail!=null,()=>{P(M,b=>_("update:rail",!b))}),H(()=>!e.disableResizeWatcher,()=>{P(u,b=>!e.permanent&&$e(()=>S.value=!b))}),H(()=>!e.disableRouteWatcher&&!!y,()=>{P(y.currentRoute,()=>u.value&&(S.value=!1))}),P(()=>e.permanent,b=>{b&&(S.value=!0)}),e.modelValue==null&&!u.value&&(S.value=e.permanent||!c.value);const{isDragging:m,dragProgress:V}=ot({el:T,isActive:S,isTemporary:u,width:l,touchless:q(e,"touchless"),position:i}),I=p(()=>{const b=u.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):l.value;return m.value?b*V.value:b}),oe=p(()=>["top","bottom"].includes(e.location)?0:l.value),{layoutItemStyles:$,layoutItemScrimStyles:le,layoutIsReady:ie}=Je({id:e.name,order:p(()=>parseInt(e.order,10)),position:i,layoutSize:I,elementSize:oe,active:p(()=>S.value||m.value),disableTransitions:p(()=>m.value),absolute:p(()=>e.absolute||f.value&&typeof O.value!="string")}),{isStuck:O,stickyStyles:se}=Qe({rootEl:T,isSticky:f,layoutItemStyles:$}),z=F(p(()=>typeof e.scrim=="string"?e.scrim:null)),re=p(()=>({...m.value?{opacity:V.value*.2,transition:"none"}:void 0,...le.value}));return Ye({VList:{bgColor:"transparent"}}),be(()=>{const b=t.image||e.image;return k(te,null,[k(e.tag,G({ref:T,onMouseenter:D,onMouseleave:C,class:["v-navigation-drawer",`v-navigation-drawer--${i.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":M.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":u.value,"v-navigation-drawer--persistent":r.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":f.value},n.value,E.value,g.value,d.value,v.value,h.value,e.class],style:[w.value,$.value,B.value,se.value,e.style,["top","bottom"].includes(i.value)?{height:"auto"}:{}]},L,a),{default:()=>{var X,U,A;return[b&&k("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?k(Se,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):k(ke,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&k("div",{class:"v-navigation-drawer__prepend"},[(X=t.prepend)==null?void 0:X.call(t)]),k("div",{class:"v-navigation-drawer__content"},[(U=t.default)==null?void 0:U.call(t)]),t.append&&k("div",{class:"v-navigation-drawer__append"},[(A=t.append)==null?void 0:A.call(t)])]}}),k(We,{name:"fade-transition"},{default:()=>[u.value&&(m.value||S.value)&&!!e.scrim&&k("div",G({class:["v-navigation-drawer__scrim",z.backgroundColorClasses.value],style:[re.value,z.backgroundColorStyles.value],onClick:()=>{r.value||(S.value=!1)}},L),null)]})])}),ie.then(()=>({isStuck:O}))}}),ne=e=>(Ae("data-v-7bacef92"),e=e(),Fe(),e),rt=ne(()=>ae("img",{class:"logo_icon",size:"40",src:Ke},null,-1)),ut=ne(()=>ae("div",{class:"logo_text"},"Music Assistant",-1)),ct=["home","search","artists","albums","tracks","playlists","radios","browse"],vt=function(){const e=localStorage.getItem("frontend.settings.menu_items"),o=e?e.split(","):ct,a=[];return o.includes("home")&&a.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o.includes("search")&&a.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o.includes("artists")&&a.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0}),o.includes("albums")&&a.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0}),o.includes("tracks")&&a.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0}),o.includes("playlists")&&a.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0}),o.includes("radios")&&a.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0}),o.includes("browse")&&a.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o.includes("settings")&&a.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0}),a},pt=Oe({__name:"DrawerNavigation",setup(e){const o=W(!0),a=W(!1),_=vt();return(t,s)=>(Y(),j(st,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),app:"",rail:a.value,width:280},{default:R(()=>[k(Z,{style:{height:"55px"},active:!1},{prepend:R(()=>[rt]),title:R(()=>[ut]),_:1}),k(Ee),k(Me,{lines:"one",density:"compact",nav:""},{default:R(()=>[(Y(!0),ze(te,null,Xe(Ue(_),n=>(Y(),j(Z,{key:n.path,nav:"",density:"compact",height:15,title:t.$t(n.label),"prepend-icon":n.icon,to:n.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),k(ue,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:a.value?"mdi-chevron-right":"mdi-chevron-left",title:t.$t("tooltip.show_menu"),onClick:s[0]||(s[0]=n=>a.value=!a.value)},null,8,["icon","title"])]),_:1},8,["modelValue","rail"]))}});export{ct as D,st as V,pt as _,vt as g};
