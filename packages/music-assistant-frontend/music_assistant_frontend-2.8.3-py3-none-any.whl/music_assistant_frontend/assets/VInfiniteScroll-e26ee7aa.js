import{d as G,b as K,c as E,f as U}from"./VMenu-7c0a2933.js";import{V as W,u as j}from"./layout-5d6a8c71.js";import{E as J,F as Q,g as X,G as Z,H as p,I as ee,n as te,c as B,J as ne,D as ae,K as ie,a as re,b as oe,L as le,u as se,y as F,s as ce}from"./VListItem-e4eaa8b1.js";import{l as q,v as ue,E as de,m as H,B as ve,I as fe,r as R,L as T,S as me,ad as ge,N as D,o as O,at as ye,z as Y,f as l,G as $,au as Se,U as N,ae as ke,av as be,Y as he,D as Ve,K as Te}from"./index-1ff95979.js";function Pe(e){const c=T(e());let t=-1;function i(){clearInterval(t)}function a(){i(),N(()=>c.value=e())}function u(f){const h=f?getComputedStyle(f):{transitionDuration:.2},m=parseFloat(h.transitionDuration)*1e3||200;if(i(),c.value<=0)return;const y=performance.now();t=window.setInterval(()=>{const P=performance.now()-y+m;c.value=Math.max(e()-P,0),c.value<=0&&i()},m)}return Se(i),{clear:i,time:c,start:u,reset:a}}const Ie=q({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...J({location:"bottom"}),...Q(),...X(),...Z(),...ue(),...de(G({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Le=H()({name:"VSnackbar",props:Ie(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const i=ve(e,"modelValue"),{positionClasses:a}=p(e),{scopeId:u}=K(),{themeClasses:f}=fe(e),{colorClasses:h,colorStyles:m,variantClasses:y}=ee(e),{roundedClasses:P}=te(e),d=Pe(()=>Number(e.timeout)),L=R(),I=R(),w=T(!1),x=T(0),C=R(),M=me(W,void 0);ge(()=>!!M,()=>{const o=j();ke(()=>{C.value=o.mainStyles.value})}),D(i,S),D(()=>e.timeout,S),O(()=>{i.value&&S()});let V=-1;function S(){d.reset(),window.clearTimeout(V);const o=Number(e.timeout);if(!i.value||o===-1)return;const g=ye(I.value);d.start(g),V=window.setTimeout(()=>{i.value=!1},o)}function A(){d.reset(),window.clearTimeout(V)}function n(){w.value=!0,A()}function r(){w.value=!1,S()}function v(o){x.value=o.touches[0].clientY}function s(o){Math.abs(x.value-o.changedTouches[0].clientY)>50&&(i.value=!1)}const k=Y(()=>e.location.split(" ").reduce((o,g)=>(o[`v-snackbar--${g}`]=!0,o),{}));return B(()=>{const o=E.filterProps(e),g=!!(t.default||t.text||e.text);return l(E,$({ref:L,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},k.value,a.value,e.class],style:[C.value,e.style]},o,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,contentProps:$({class:["v-snackbar__wrapper",f.value,h.value,P.value,y.value],style:[m.value],onPointerenter:n,onPointerleave:r},o.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:v,onTouchend:s},u),{default:()=>{var b,_;return[ne(!1,"v-snackbar"),e.timer&&!w.value&&l("div",{key:"timer",class:"v-snackbar__timer"},[l(ae,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),g&&l("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((b=t.text)==null?void 0:b.call(t))??e.text,(_=t.default)==null?void 0:_.call(t)]),t.actions&&l(ie,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[l("div",{class:"v-snackbar__actions"},[t.actions({isActive:i})])]})]},activator:t.activator})}),U({},L)}});const we=q({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...re(),...oe()},"VInfiniteScroll"),z=be({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootRef:null,rootMargin:String},emits:{intersect:(e,c)=>!0},setup(e,c){let{emit:t}=c;const{intersectionRef:i,isIntersecting:a}=le(u=>{},e.rootMargin?{rootMargin:e.rootMargin}:void 0);return D(a,async u=>{t("intersect",e.side,u)}),B(()=>l("div",{class:"v-infinite-scroll-intersect",ref:i},[he("Â ")])),{}}}),Re=H()({name:"VInfiniteScroll",props:we(),emits:{load:e=>!0},setup(e,c){let{slots:t,emit:i}=c;const a=R(),u=T("ok"),f=T("ok"),h=Y(()=>Ve(e.margin)),m=T(!1);function y(n){if(!a.value)return;const r=e.direction==="vertical"?"scrollTop":"scrollLeft";a.value[r]=n}function P(){if(!a.value)return 0;const n=e.direction==="vertical"?"scrollTop":"scrollLeft";return a.value[n]}function d(){if(!a.value)return 0;const n=e.direction==="vertical"?"scrollHeight":"scrollWidth";return a.value[n]}function L(){if(!a.value)return 0;const n=e.direction==="vertical"?"clientHeight":"clientWidth";return a.value[n]}O(()=>{a.value&&(e.side==="start"?y(d()):e.side==="both"&&y(d()/2-L()/2))});function I(n,r){n==="start"?u.value=r:n==="end"&&(f.value=r)}function w(n){return n==="start"?u.value:f.value}let x=0;function C(n,r){m.value=r,m.value&&M(n)}function M(n){if(e.mode!=="manual"&&!m.value)return;const r=w(n);if(!a.value||["empty","loading"].includes(r))return;x=d(),I(n,"loading");function v(s){I(n,s),N(()=>{s==="empty"||s==="error"||(s==="ok"&&n==="start"&&y(d()-x+P()),e.mode!=="manual"&&N(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{M(n)})})})}))})}i("load",{side:n,done:v})}const{t:V}=Te();function S(n,r){var k,o,g,b,_;if(e.side!==n&&e.side!=="both")return;const v=()=>M(n),s={side:n,props:{onClick:v,color:e.color}};return r==="error"?(k=t.error)==null?void 0:k.call(t,s):r==="empty"?((o=t.empty)==null?void 0:o.call(t,s))??l("div",null,[V(e.emptyText)]):e.mode==="manual"?r==="loading"?((g=t.loading)==null?void 0:g.call(t,s))??l(F,{indeterminate:!0,color:e.color},null):((b=t["load-more"])==null?void 0:b.call(t,s))??l(ce,{variant:"outlined",color:e.color,onClick:v},{default:()=>[V(e.loadMoreText)]}):((_=t.loading)==null?void 0:_.call(t,s))??l(F,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:A}=se(e);B(()=>{const n=e.tag,r=e.side==="start"||e.side==="both",v=e.side==="end"||e.side==="both",s=e.mode==="intersect";return l(n,{ref:a,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":r,"v-infinite-scroll--end":v}],style:A.value},{default:()=>{var k;return[l("div",{class:"v-infinite-scroll__side"},[S("start",u.value)]),a.value&&r&&s&&l(z,{key:"start",side:"start",onIntersect:C,rootRef:a.value,rootMargin:h.value},null),(k=t.default)==null?void 0:k.call(t),a.value&&v&&s&&l(z,{key:"end",side:"end",onIntersect:C,rootRef:a.value,rootMargin:h.value},null),l("div",{class:"v-infinite-scroll__side"},[S("end",f.value)])]}})})}});export{Le as V,Re as a};
