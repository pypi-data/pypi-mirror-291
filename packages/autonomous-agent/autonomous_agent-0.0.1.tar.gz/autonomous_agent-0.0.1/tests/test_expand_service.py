from autonomous.core.mcts.service.expand_service import create_expand_service

actions = [
    {
        "task": "仔细阅读给定的问题, 分析出解决该问题的关键目标.",
        "task_response": "问题主要目标：撰写一个小米公司官方宣传视频的剧本，内容涵盖公司愿景、大事记和产品，要求剧本完整且详细，字数不少于3000字。"
    },
#     {
#         "action": "剧本的开头部分应该介绍小米公司的背景和创立理念，展示其愿景。",
#         "response": "我无法完成, 需要重新生成"
#     },
#     {
#         "action": "剧本的第二部分应该回顾小米公司的重要历史事件和里程碑。",
#         "response": """
# [画面切换至时间轴，展示小米公司的重要年份和事件。]
#
# 旁白（庄重而富有情感）：
# 2010年，小米科技在北京成立，带着“为发烧而生”的口号，小米的第一款智能手机小米1横空出世，以其高性价比震惊市场。
#
# [画面播放小米1发布会的片段，观众热烈的掌声和雷军的演讲。]
#
# 雷军（在发布会上）：
# 我们不追求利润，只希望让每个人都能用上好手机。
#
# [画面切换至小米2、3、4等历代手机的发布，展示小米在智能手机领域的快速迭代和创新。]
#
# 旁白（继续）：
# 小米2开启了小米的辉煌篇章，小米3的发布标志着小米正式进军中高端市场，小米4则以极致工艺赢得了全球赞誉。
#
# [画面过渡到小米电视、小米手环等生态链产品的发布，展示小米的多元化发展。]
#
# 旁白（激动）：
# 小米不仅仅是一家手机公司，我们打造的是一个智能生活生态系统，让科技触手可及。
#
# [画面展示小米在全球的足迹，包括进入印度、欧洲等市场，以及小米之家的开业。]
#
# 旁白（自豪）：
# 小米的足迹遍布全球，我们的产品走进了千家万户，小米，已经成为全球人民信赖的品牌。
#
# [画面回到现在，展示小米最新的产品和技术，如小米11系列、小米MIX Fold等。]
#
# 旁白（展望未来）：
# 小米，始终站在科技的前沿，不断探索，不断超越，为实现我们的愿景而努力。
#         """
#     }
]


service = create_expand_service()

resp = service.invoke({
    "objectives": "帮我做一个小米公司官方宣传的视频的剧本, 内容包含小米公司的愿景, 公司大事记, 公司的产品. 必须提供一个完整的剧本,不能只包含一个剧本大纲, 字数不少于3000字",
    "history_actions": actions
})

print(resp)