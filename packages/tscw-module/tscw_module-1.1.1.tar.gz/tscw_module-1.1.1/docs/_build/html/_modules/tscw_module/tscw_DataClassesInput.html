<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tscw_module.tscw_DataClassesInput &mdash; Dokumentation tscw_module  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Dokumentation tscw_module
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Inhaltsverzeichnis:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../source/Einleitung.html">Übersicht</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../source/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../source/Input.html">TSCW GACA - INPUT - Erstellung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../source/Input_TSGF.html">TSCW TSGF - INPUT - Erstellung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../source/Output_Raw.html">TSCW - OUTPUT - Plots und Daten Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../source/Output_Calculate.html">TSCW - OUTPUT - Axialkraftberechnung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../source/Bibliography.html">Literaturverzeichnis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">Klassen- und Funktionsübersicht tscw_module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Dokumentation tscw_module</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">tscw_module.tscw_DataClassesInput</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for tscw_module.tscw_DataClassesInput</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">from</span> <span class="nn">.helper_func</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TextIO</span>
<span class="kn">import</span> <span class="nn">numbers</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">get_args</span>

<div class="viewcode-block" id="FieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData">[docs]</a>
<span class="k">class</span> <span class="nc">FieldData</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Class to create a field data file (\*_gaca.fd.txt) as input for TSWC-GACA.</span>
<span class="sd">    Later on the following methods need to be performed for each instance of the class.</span>
<span class="sd">    For each step the according methods will check for correct inputs and prevent error in the exported txt-file.</span>

<span class="sd">    Workflow for Generating field data.</span>

<span class="sd">    ---- 1. BOREHOLE ----</span>
<span class="sd">        1. &#39;add_boreholeVector&#39;</span>
<span class="sd">        2. &#39;add_radialComment&#39; (optional)</span>
<span class="sd">        3. &#39;add_boreholeInclination&#39;</span>
<span class="sd">        4. &#39;add_materialProperty&#39; (depending on vertical discretisation)</span>
<span class="sd">        5. &#39;add_temperature&#39; - borehole</span>
<span class="sd">    ---- 2. CAVNERN ----</span>
<span class="sd">        1. &#39;add_cavernVector&#39;</span>
<span class="sd">        2. &#39;add_temperature&#39; - cavern</span>
<span class="sd">        3. &#39;add_cavernCharacteristics&#39;</span>

<span class="sd">    ---- The last step is to export the field data to an txt-file with the method &#39;export_fieldData&#39;. ----</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="c1">#: Doc comment for class attribute Foo.bar.</span>
    <span class="c1">#: It can have multiple lines.</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_fluid</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">tvd</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                 <span class="n">medium_type</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="n">medium_id</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise GacaFieldData class.</span>

<span class="sd">        :param n_boreholes:  usually 1</span>
<span class="sd">        :type n_boreholes: int</span>
<span class="sd">        :param n_fluid: how many flow spaces (Strömungsräume)</span>
<span class="sd">        :type n_fluid: int</span>
<span class="sd">        :param tvd: maximum TVD of the borehole</span>
<span class="sd">        :type tvd: float</span>
<span class="sd">        :param delta_z: vertical discretisation of TVD_max</span>
<span class="sd">        :type delta_z: float</span>
<span class="sd">        :param medium_type_cavern: Which medium type (must be &#39;GAS&#39;)</span>
<span class="sd">        :type medium_type_cavern: str</span>
<span class="sd">        :param medium_id_cavern: which substance (defined in fluid library of TSWC)</span>
<span class="sd">        :type medium_id_cavern: str</span>
<span class="sd">        &quot;&quot;&quot;</span>        

        <span class="bp">self</span><span class="o">.</span><span class="n">n_fluid</span>            <span class="o">=</span> <span class="n">n_fluid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span>         <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">tvd</span> <span class="o">/</span> <span class="n">delta_z</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delta_z</span>    	    <span class="o">=</span> <span class="n">delta_z</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_type</span>        <span class="o">=</span> <span class="n">medium_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span>          <span class="o">=</span> <span class="n">medium_id</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span>         <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>   <span class="c1"># specified later, -1 for assertation purpose</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m_cavern</span>           <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tvd</span>   <span class="o">=</span> <span class="n">tvd</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span>      <span class="o">=</span> <span class="kc">None</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">materialNames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span>    <span class="o">=</span> <span class="p">[]</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span>             <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span>      <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tvd</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="c1"># for format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>

<div class="viewcode-block" id="FieldData.add_boreholeVector">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_boreholeVector">[docs]</a>
    <span class="k">def</span> <span class="nf">add_boreholeVector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">radial_vector</span><span class="p">,</span> <span class="n">aggregate_state</span><span class="p">):</span> <span class="c1">#TODO: Unit conversion</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a radial vector within the borehole [m] and respective aggregate states (&#39;FLUID&#39; or &#39;SOLID&#39;).</span>

<span class="sd">        :param radial_vector: must be strictly increasing, will define self.m_borehole [int].</span>
<span class="sd">        :type radial_vector:  list or array [m] </span>
<span class="sd">        :param aggregate_state: list of strings either &#39;FLUID&#39; or &#39;SOLID&#39;.</span>
<span class="sd">                                Does not need to have the same length as radial_vector.</span>
<span class="sd">                                Remaining values will be filled with &#39;SOLID&#39;.</span>
<span class="sd">        :type aggregate_state: string array</span>
<span class="sd">        &quot;&quot;&quot;</span>      

        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">radial_vector</span><span class="p">,</span> <span class="n">radial_vector</span><span class="p">[</span><span class="mi">1</span><span class="p">:])),</span> <span class="s1">&#39;List is not strictly increasing!&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span>    <span class="o">=</span> <span class="n">radial_vector</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span>                <span class="o">=</span> <span class="n">radial_vector</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># Create vector for aggregate states (column_character_borehole), check spelling</span>
        <span class="n">column_character_borehole</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">aggregate_state</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="k">assert</span> <span class="n">state</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;FLUID&#39;</span><span class="p">,</span> <span class="s1">&#39;SOLID&#39;</span><span class="p">],</span> <span class="s1">&#39;Rechtschreibfehler in column_character_borehole </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="n">column_character_borehole</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">column_character_borehole</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;FLUID&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_fluid</span><span class="p">,</span> <span class="s1">&#39;&quot;FLUID&quot; does not match self.n_fluid!&#39;</span>
        
        <span class="n">diff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">column_character_borehole</span><span class="p">)</span> 
        <span class="k">if</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span> <span class="c1"># Fill remaining values with &#39;SOLID&#39; so user only needs to define states near construction (formation points are always solid)</span>
        
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">diff</span><span class="p">):</span>
                <span class="n">column_character_borehole</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;SOLID&#39;</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">column_character_borehole</span> <span class="o">=</span> <span class="n">column_character_borehole</span>

        <span class="c1"># pre-allocate space for material properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">))</span><span class="o">*-</span><span class="mi">1</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span>        <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">))</span><span class="o">*-</span><span class="mi">1</span> </div>

       

<div class="viewcode-block" id="FieldData.add_radialComment">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_radialComment">[docs]</a>
    <span class="k">def</span> <span class="nf">add_radialComment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">radialComment</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add comments for radial borehole vector. Will be displayed lather in txt file (OPTIONAL - for overview purpose only).</span>
<span class="sd">        If the array has a length of e.g. 5, then the comment is valid for the first five radial elements.</span>
<span class="sd">        </span>

<span class="sd">        :param radialComment: E.g. [&#39;ID 858&#39;,&#39;OD 858&#39;,&#39;ID 1134&#39;, &#39;ZEMENT&#39;, &#39;FORMATION&#39;]</span>
<span class="sd">        :type radialComment: array</span>
<span class="sd">        &quot;&quot;&quot;</span>      
        <span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span> <span class="o">=</span> <span class="n">radialComment</span></div>




<div class="viewcode-block" id="FieldData.add_boreholeInclination">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_boreholeInclination">[docs]</a>
    <span class="k">def</span> <span class="nf">add_boreholeInclination</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">inclination</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add inclination for borehole</span>

<span class="sd">        :param inclination: either array [1 x p_borehole] with deg data or &#39;vertical&#39;</span>
<span class="sd">        :type inclination: array [1xp_borehole] oder &#39;vertical&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">inclination</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">inclination</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inclination</span> <span class="o">=</span> <span class="n">inclination</span></div>


    
<div class="viewcode-block" id="FieldData.add_materialProperty">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_materialProperty">[docs]</a>
    <span class="k">def</span> <span class="nf">add_materialProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">top</span><span class="p">,</span><span class="n">bottom</span><span class="p">,</span><span class="n">heat_capacity</span><span class="p">,</span><span class="n">thermal_conductivity</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds material properties to the borehole.</span>
<span class="sd">        The value for the center of gravity of the layer is then modeled, with indication in relation to the bottom edge of the layer. </span>
<span class="sd">        Hierarchical; new values overwrite respective old values at the same intervals.</span>

<span class="sd">        :param top: start of layer [m]</span>
<span class="sd">        :type top: int or float</span>
<span class="sd">        :param bottom: end of layer [m]</span>
<span class="sd">        :type bottom: int or float</span>
<span class="sd">        :param heat_capacity:  [MJ/(m3K)]</span>
<span class="sd">        :type heat_capacity: array [1 x m_borehole]</span>
<span class="sd">        :param thermal_conductivity: [1 x m_borehole] </span>
<span class="sd">        :type thermal_conductivity: [W/(m K)]</span>
<span class="sd">        :param name:  Name of the layer, will be displayed in .txt file when exported, defaults to None</span>
<span class="sd">        :type name: str, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Please define radial_vector_borehole via add_boreholeVector first.&#39;</span>
        <span class="k">assert</span> <span class="n">heat_capacity</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">,</span> <span class="s1">&#39;Fehler bei cp in </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">thermal_conductivity</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">,</span> <span class="s1">&#39;Fehler bei T in </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="n">idx_top</span>     <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">,</span><span class="n">top</span><span class="p">)</span>
        <span class="n">idx_bottom</span>  <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">,</span><span class="n">bottom</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span><span class="p">[</span><span class="n">idx_top</span><span class="p">:</span><span class="n">idx_bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,:]</span>        <span class="o">=</span> <span class="n">heat_capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">[</span><span class="n">idx_top</span><span class="p">:</span><span class="n">idx_bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">thermal_conductivity</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">idx_top</span><span class="p">,</span> <span class="n">idx_bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">materialNames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span></div>


<div class="viewcode-block" id="FieldData.initialise_formation">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.initialise_formation">[docs]</a>
    <span class="k">def</span> <span class="nf">initialise_formation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radial_vector_formation</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initilise radial points for formation</span>

<span class="sd">        :param radial_vector_formation: radial points</span>
<span class="sd">        :type radial_vector_formation: array</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">radial_vector_formation</span><span class="p">,</span> <span class="n">radial_vector_formation</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;radial_vector is not strictly increasing, it will be sorted&#39;</span><span class="p">)</span>
            <span class="n">radial_vector_formation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">radial_vector_formation</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span> <span class="o">=</span> <span class="n">radial_vector_formation</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span>        <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span> <span class="o">=</span> <span class="n">radial_vector_formation</span></div>


<div class="viewcode-block" id="FieldData.add_formation">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_formation">[docs]</a>
    <span class="k">def</span> <span class="nf">add_formation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">top</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">bottom</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">material_data</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add Formation elements after having initilised formation.</span>

<span class="sd">        :param top: start of layer [m]</span>
<span class="sd">        :type top: float</span>
<span class="sd">        :param bottom: end of layer [m]</span>
<span class="sd">        :type bottom: float</span>
<span class="sd">        :param material_data: for example: {&#39;rho&#39;: 1000, &#39;cp&#39;: 4180,&#39;lambda&#39;: 0.6} Units respt. in [kg/m3],  [J/kg*K],  [W/(m*K)], </span>
<span class="sd">        :type material_data: dict</span>
<span class="sd">        :param name: _description_, defaults to None</span>
<span class="sd">        :type name: str, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">idx_top</span>     <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">,</span><span class="n">top</span><span class="p">)</span>
        <span class="n">idx_bottom</span>  <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">,</span><span class="n">bottom</span><span class="p">)</span>


        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="n">material_data</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;cp&#39;</span><span class="p">,</span> <span class="s1">&#39;lambda&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span><span class="p">[</span><span class="n">idx_top</span><span class="p">:</span><span class="n">idx_bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,:]</span>        <span class="o">=</span> <span class="n">material_data</span><span class="p">[</span><span class="s1">&#39;rho&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">material_data</span><span class="p">[</span><span class="s1">&#39;cp&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e-6</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">[</span><span class="n">idx_top</span><span class="p">:</span><span class="n">idx_bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">material_data</span><span class="p">[</span><span class="s1">&#39;lambda&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">idx_top</span><span class="p">,</span> <span class="n">idx_bottom</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">materialNames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span></div>


<div class="viewcode-block" id="FieldData.add_element">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_element">[docs]</a>
    <span class="k">def</span> <span class="nf">add_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">starting_coor</span><span class="p">:</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">end_coor</span><span class="p">:</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">material_data</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add material properties of an element to the borehole model. </span>

<span class="sd">        :param starting_coor: (z0, x0) - Top coordinates of element at the top left corner.</span>
<span class="sd">        :type starting_coor: tuple</span>
<span class="sd">        :param end_coor: (z1, x1) - Bottom coordinates of element at the bottom right corner.</span>
<span class="sd">        :type end_coor: tuple</span>
<span class="sd">        :param material_data: for example: {&#39;rho&#39;: 1000, &#39;cp&#39;: 4180,&#39;lambda&#39;: 0.6} Units respt. in [kg/m3],  [J/kg*K],  [W/(m*K)], </span>
<span class="sd">        :type material_data: dict</span>
<span class="sd">        :param name: Name, defaults to None</span>
<span class="sd">        :type name: _type_, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="n">material_data</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;cp&#39;</span><span class="p">,</span> <span class="s1">&#39;lambda&#39;</span><span class="p">])</span>

        <span class="n">radial_vector_borehole</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span>
        <span class="n">thermal_conductivity</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span>
        <span class="n">heat_capacity</span>          <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span>

        <span class="c1"># check if matrices have been initilized</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">([</span><span class="n">heat_capacity</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">,</span> <span class="n">thermal_conductivity</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">]):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please initilise the geological formation with the function initialise_formation() and add values to it with add_formation().&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="c1"># check all points have non-zero values in matrices</span>
        <span class="c1"># if np.any([np.nonzero(heat_capacity == 0), np.nonzero(thermal_conductivity == 0)]):</span>
        <span class="c1">#     print(&#39;There are still zero values in the matrices heat_capacity or thermal_conductivity. Please check that all points have been allocated with values.&#39;)</span>
        <span class="c1">#     return</span>

        <span class="n">x0</span> <span class="o">=</span> <span class="n">starting_coor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">end_coor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">z0</span> <span class="o">=</span> <span class="n">starting_coor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">z1</span> <span class="o">=</span> <span class="n">end_coor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  

        <span class="n">z_i0</span> <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">,</span> <span class="n">z0</span><span class="p">)</span>
        <span class="n">z_i1</span> <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">,</span> <span class="n">z1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># +1 due to slicing principle in python</span>

        <span class="n">i_x_new</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">x_val</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">x_val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">radial_vector_borehole</span><span class="p">:</span> 
                <span class="n">i_new_temp</span> <span class="o">=</span> <span class="n">bisect</span><span class="p">(</span><span class="n">radial_vector_borehole</span><span class="p">,</span> <span class="n">x_val</span><span class="p">)</span>
                <span class="n">radial_vector_borehole</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">radial_vector_borehole</span><span class="p">,</span> <span class="n">i_new_temp</span><span class="p">,</span> <span class="n">x_val</span><span class="p">)</span> <span class="c1"># add new x_val to radial borehole vector</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Inserted new radial point at </span><span class="si">%.4f</span><span class="s1">m&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x_val</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">i_new_temp</span> <span class="o">==</span> <span class="n">thermal_conductivity</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="n">new_col_therm</span> <span class="o">=</span> <span class="n">thermal_conductivity</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_col_therm</span> <span class="o">=</span> <span class="n">thermal_conductivity</span><span class="p">[:,</span> <span class="n">i_new_temp</span><span class="p">]</span>
                <span class="n">thermal_conductivity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">thermal_conductivity</span><span class="p">,</span> <span class="n">i_new_temp</span><span class="p">,</span> <span class="n">new_col_therm</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">i_new_temp</span> <span class="o">==</span> <span class="n">heat_capacity</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="n">new_col_heat</span> <span class="o">=</span> <span class="n">heat_capacity</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_col_heat</span> <span class="o">=</span> <span class="n">heat_capacity</span><span class="p">[:,</span> <span class="n">i_new_temp</span><span class="p">]</span>
                <span class="n">heat_capacity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">heat_capacity</span><span class="p">,</span> <span class="n">i_new_temp</span><span class="p">,</span> <span class="n">new_col_heat</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

                <span class="n">i_x_new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i_new_temp</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">i_x_new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">find_nearest</span><span class="p">(</span><span class="n">radial_vector_borehole</span><span class="p">,</span> <span class="n">x_val</span><span class="p">))</span>

        <span class="n">heat_capacity_val</span> <span class="o">=</span> <span class="n">material_data</span><span class="p">[</span><span class="s1">&#39;rho&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">material_data</span><span class="p">[</span><span class="s1">&#39;cp&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e-6</span>
        <span class="n">thermal_conductivity_val</span> <span class="o">=</span> <span class="n">material_data</span><span class="p">[</span><span class="s1">&#39;lambda&#39;</span><span class="p">]</span>

        <span class="n">thermal_conductivity</span><span class="p">[</span><span class="n">z_i0</span><span class="p">:</span><span class="n">z_i1</span><span class="p">,</span> <span class="n">i_x_new</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="n">i_x_new</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">thermal_conductivity_val</span>
        <span class="n">heat_capacity</span><span class="p">[</span><span class="n">z_i0</span><span class="p">:</span><span class="n">z_i1</span><span class="p">,</span> <span class="n">i_x_new</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="n">i_x_new</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>        <span class="o">=</span> <span class="n">heat_capacity_val</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Updated values for points:&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">z_val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">[</span><span class="n">z_i0</span><span class="p">:</span><span class="n">z_i1</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;- </span><span class="si">%.2f</span><span class="s1"> m |  &#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">z_val</span><span class="p">),</span> <span class="n">end</span> <span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x_val</span> <span class="ow">in</span> <span class="n">radial_vector_borehole</span><span class="p">[</span><span class="n">i_x_new</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="n">i_x_new</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1"> m </span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">x_val</span><span class="p">)</span> <span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;| c*rho = </span><span class="si">%.2f</span><span class="s1"> MJ/(K*m3) | lambda = </span><span class="si">%.2f</span><span class="s1"> W/(m*K)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">heat_capacity_val</span><span class="p">,</span> <span class="n">thermal_conductivity_val</span><span class="p">),</span> <span class="n">end</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">z_i0</span><span class="p">,</span> <span class="n">z_i1</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">materialNames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span>      <span class="o">=</span> <span class="n">thermal_conductivity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span>             <span class="o">=</span> <span class="n">heat_capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span>    <span class="o">=</span> <span class="n">radial_vector_borehole</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span>                <span class="o">=</span> <span class="n">radial_vector_borehole</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">column_character_borehole</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SOLID&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span></div>


<div class="viewcode-block" id="FieldData.define_fluid_space">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.define_fluid_space">[docs]</a>
    <span class="k">def</span> <span class="nf">define_fluid_space</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indices</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Define which elements of radial_borehole_vector are not &#39;SOLID&#39;-</span>

<span class="sd">        :param indices: If integer -&gt; index, if float -&gt; search for closest match in radial_borehole_vector</span>
<span class="sd">        :type indices: int or float</span>
<span class="sd">        :param names: either &#39;FLUID&#39; or ???</span>
<span class="sd">        :type names: string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span> <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span> <span class="n">indices</span> <span class="p">]</span>

        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">idx_temp</span> <span class="o">=</span> <span class="n">idx</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
                <span class="n">idx_temp</span> <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Could not find any match for </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s1">. Please check if it is either a int or float.&#39;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">column_character_borehole</span><span class="p">[</span><span class="n">idx_temp</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;FLUID&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span><span class="p">[:,</span> <span class="n">idx_temp</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">[:,</span> <span class="n">idx_temp</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Set </span><span class="si">%.4f</span><span class="s1"> m as &quot;FLUID&quot;. Material properties for this element are set to 0.&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span><span class="p">[</span><span class="n">idx_temp</span><span class="p">]))</span></div>



<div class="viewcode-block" id="FieldData.add_temperature">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.add_temperature">[docs]</a>
    <span class="k">def</span> <span class="nf">add_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Adds temperature data to the borehole or cavern.</span>

<span class="sd">        :param temperature: (p_borehole x m_borehole) array for &#39;borehole or</span>
<span class="sd">                        (m_cavern) for cavern </span>
<span class="sd">        :type temperature: _type_</span>
<span class="sd">        :param mode: either &#39;borehole&#39;, &#39;cavern&#39;, &#39;reservoir&#39;</span>
<span class="sd">        :type mode: str</span>
<span class="sd">        &quot;&quot;&quot;</span>    
        <span class="k">match</span> <span class="n">mode</span><span class="p">:</span>
            <span class="k">case</span> <span class="s1">&#39;borehole&#39;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Please define radial_vector_borehole via add_boreholeVector first.&#39;</span>
                <span class="k">assert</span> <span class="n">temperature</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">temperature_borehole</span> <span class="o">=</span> <span class="n">temperature</span>

            <span class="k">case</span> <span class="s1">&#39;cavern&#39;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_cavern</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Please define radial_vector_cavern via add_boreholeVector first.&#39;</span>
                <span class="k">assert</span> <span class="n">temperature</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m_cavern</span><span class="p">,)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">temperature_cavern</span> <span class="o">=</span> <span class="n">temperature</span>

            <span class="k">case</span> <span class="s1">&#39;reservoir&#39;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">temperature</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">temperature_reservoir</span> <span class="o">=</span> <span class="n">temperature</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Added Temperature&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FieldData.plot_geometry">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.FieldData.plot_geometry">[docs]</a>
    <span class="k">def</span> <span class="nf">plot_geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xlimits</span><span class="p">:</span><span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">export_folder</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plots geometry.</span>

<span class="sd">        :param xlimits: start and end value of radial range, defaults to None</span>
<span class="sd">        :type xlimits: list, optional</span>
<span class="sd">        :param export_folder: Export plot data into folder, defaults to None</span>
<span class="sd">        :type export_folder: str, optional</span>
<span class="sd">        :return: Two figures for heat capacity * rho and lambda</span>
<span class="sd">        :rtype: fig_cp, fig_lambda</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span>  
        <span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="n">colormap</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">colormaps</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="s1">&#39;jet&#39;</span><span class="p">)</span>
        <span class="n">colormap</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="s1">&#39;magenta&#39;</span><span class="p">)</span>
        <span class="c1"># heat capacity * rho</span>
        <span class="n">fig_cp</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
        <span class="n">fig_cp</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">set_window_title</span><span class="p">(</span><span class="s1">&#39;Geometry_HeatCapactiyRho&#39;</span><span class="p">)</span> 
        <span class="n">Z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span>

        <span class="n">cm</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">colormap</span><span class="p">)</span>
        
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Dichte * spez. Wärmekapazität&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Visualisierung der Modellgeometrie durch Stoffwertematrix&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x [m] (Beginned ab Bohrlochachse)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;z [m]&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">xlimits</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="n">xlimits</span><span class="p">)</span>

        <span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">)</span> <span class="c1">#, format = &#39;%.1f K&#39;, label = &#39;Temperature&#39;)</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;[MJ/(K*m3)]&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        
        <span class="c1"># mplcursors.cursor(hover=2)</span>
        <span class="c1"># thermal conductivity</span>
        <span class="n">fig_lambda</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
        <span class="n">fig_lambda</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">set_window_title</span><span class="p">(</span><span class="s1">&#39;Geometry_ThermalConductivity&#39;</span><span class="p">)</span> 
        <span class="n">Z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span>
        <span class="n">cm</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">colormap</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Wärmeleitfähigkeit&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Visualisierung der Modellgeometrie durch Stoffwertematrix&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x [m] (Beginned ab Bohrlochachse)&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;z [m]&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">xlimits</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="n">xlimits</span><span class="p">)</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="p">)</span> <span class="c1">#, format = &#39;%.1f K&#39;, label = &#39;Temperature&#39;)</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;[W/(m*K)]&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">export_folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">Path</span><span class="p">(</span><span class="n">export_folder</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">Path</span><span class="p">(</span><span class="n">export_folder</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span> <span class="c1"># it must be a valid path and a folder</span>
                <span class="n">width</span>  <span class="o">=</span> <span class="mi">406</span> <span class="o">/</span> <span class="mf">25.4</span> <span class="c1"># inches</span>
                <span class="n">height</span> <span class="o">=</span> <span class="mi">229</span> <span class="o">/</span> <span class="mf">25.4</span> <span class="c1"># inches</span>
                <span class="n">dpi</span>    <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="mi">1536</span><span class="o">/</span><span class="n">width</span><span class="p">,</span> <span class="mi">864</span><span class="o">/</span><span class="n">height</span><span class="p">])</span>
                <span class="n">save_geom_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">export_folder</span><span class="p">)</span>

                <span class="n">fig_cp</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
                <span class="n">fig_cp</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_geom_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;Geometry_HeatCapactiyRho.png&#39;</span><span class="p">),</span> <span class="n">dpi</span> <span class="o">=</span> <span class="n">dpi</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Exported </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">save_geom_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;Geometry_HeatCapactiyRho.png&#39;</span><span class="p">)))</span>

                <span class="n">fig_lambda</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
                <span class="n">fig_lambda</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_geom_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;Geometry_ThermalConductivity.png&#39;</span><span class="p">),</span> <span class="n">dpi</span> <span class="o">=</span> <span class="n">dpi</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Exported </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">save_geom_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;Geometry_ThermalConductivity.png&#39;</span><span class="p">)))</span>   
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Für den Export bitte einen gültigen Ordnerpfad angeben.</span><span class="se">\n</span><span class="si">%s</span><span class="s1"> konnte nicht gefunden werden.</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">export_folder</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">fig_cp</span><span class="p">,</span> <span class="n">fig_lambda</span></div>


    <span class="k">def</span> <span class="nf">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span>  <span class="n">fid</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bottom_edges</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">matrix</span><span class="o">.</span><span class="n">ndim</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
                <span class="n">row</span><span class="o">.</span><span class="n">tofile</span><span class="p">(</span><span class="n">fid</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">bottom_edges</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1"># UK </span><span class="si">%.2f</span><span class="s1">m - </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">bottom_edges</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">materialNames</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>    
        <span class="k">else</span><span class="p">:</span>
            <span class="n">matrix</span><span class="o">.</span><span class="n">tofile</span><span class="p">(</span><span class="n">fid</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.4f</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_export_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_folder</span><span class="p">:</span><span class="n">Path</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">suffix</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">:</span><span class="nb">bool</span><span class="p">):</span>
        <span class="n">save_path</span> <span class="o">=</span> <span class="n">save_folder</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">project_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">save_path</span><span class="o">.</span><span class="n">exists</span><span class="p">()):</span>
            <span class="n">save_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Created new folder </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">save_path</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">is_binary_export</span><span class="p">:</span>
            <span class="n">pickle_path</span> <span class="o">=</span> <span class="n">save_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">project_name</span> <span class="o">+</span> <span class="s1">&#39;_fd.pickle&#39;</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pickle_path</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Exported </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">pickle_path</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">save_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">project_name</span> <span class="o">+</span> <span class="n">suffix</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_export_meta_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fid</span><span class="p">:</span><span class="n">TextIO</span><span class="p">):</span>															
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;N_FLUID</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_fluid</span><span class="p">)</span>	<span class="p">)</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;M_BOREHOLE</span><span class="se">\t</span><span class="si">%d</span><span class="se">\t</span><span class="s1"># (M)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m_borehole</span><span class="p">)</span>	<span class="p">)</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;P_BOREHOLE</span><span class="se">\t</span><span class="si">%d</span><span class="se">\t</span><span class="s1"># (P)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">p_borehole</span><span class="p">)</span>	<span class="p">)</span>															
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DL</span><span class="se">\t</span><span class="si">%.4f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delta_z</span><span class="p">)</span>	<span class="p">)</span>

    <span class="k">def</span> <span class="nf">_export_borehole_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fid</span><span class="p">:</span><span class="n">TextIO</span><span class="p">):</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;RADIAL_VECTOR_BOREHOLE # [m]</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;#</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span><span class="p">)))</span>		
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_borehole</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;COLUMN_CHARACTER_BOREHOLE # [/] der Radialelemente um die Bohrung (M Werte)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>	
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">column_character_borehole</span><span class="p">))</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;HEAT_CAPACITY_BOREHOLE # [MJ/(K*m3)]  Dichte * spez. Waermekapazitaet der Radialelemente um die Bohrung (P*M Werte)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;#</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heat_capacity</span><span class="p">,</span> <span class="n">fid</span><span class="p">,</span> <span class="n">bottom_edges</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;THERMAL_CONDUCTIVITY_BOREHOLE # [W/(m*K)]  Waermeleitfaehigkeit der Radialelemente um die Bohrung (P*M Werte)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;#</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span> <span class="n">fid</span><span class="p">,</span> <span class="n">bottom_edges</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;TEMPERATURE_BOREHOLE  # [deg C] Temperatur der Radialelemente um die Bohrung (P*M Werte)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;#</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radialComment</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_borehole</span><span class="p">,</span> <span class="n">fid</span><span class="p">,</span> <span class="n">bottom_edges</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;WELL_VERTICALITY  # [deg] Winkel zwischen Bohrlochachse und Bohrung (P Werte)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inclination</span><span class="p">,</span> <span class="n">fid</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">bottom_edges</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_edge_vertical</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span></div>


<div class="viewcode-block" id="TsgfFieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.TsgfFieldData">[docs]</a>
<span class="k">class</span> <span class="nc">TsgfFieldData</span><span class="p">(</span><span class="n">FieldData</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_fluid</span><span class="p">,</span> <span class="n">tvd</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">,</span> <span class="n">medium_type_cavern</span><span class="p">,</span> <span class="n">medium_id_cavern</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">n_fluid</span><span class="p">,</span> <span class="n">tvd</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">,</span> <span class="n">medium_type_cavern</span><span class="p">,</span> <span class="n">medium_id_cavern</span><span class="p">)</span>

<div class="viewcode-block" id="TsgfFieldData.add_reservoirCharacteristics">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.TsgfFieldData.add_reservoirCharacteristics">[docs]</a>
    <span class="k">def</span> <span class="nf">add_reservoirCharacteristics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">refdepth_reservoir</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">pressure_reservoir</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">minsky_A</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">minsky_B</span><span class="p">:</span><span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds reservoir characteristics.</span>

<span class="sd">        :param refdepth_reservoir: reference depth for reservoir pressure and modeling [m]</span>
<span class="sd">        :type refdepth_reservoir: float</span>
<span class="sd">        :param pressure_reservoir: reservoir pressure [MPa]</span>
<span class="sd">        :type pressure_reservoir: float</span>
<span class="sd">        :param minsky_A: Filtration coefficient A </span>
<span class="sd">        :type minsky_A: float</span>
<span class="sd">        :param minsky_B: Filtration coefficient B</span>
<span class="sd">        :type minsky_B: float</span>
<span class="sd">        &quot;&quot;&quot;</span>        

        <span class="bp">self</span><span class="o">.</span><span class="n">refdepth_reservoir</span> <span class="o">=</span> <span class="n">refdepth_reservoir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pressure_reservoir</span> <span class="o">=</span> <span class="n">pressure_reservoir</span>            
        <span class="bp">self</span><span class="o">.</span><span class="n">minsky_A</span>           <span class="o">=</span> <span class="n">minsky_A</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minsky_B</span>           <span class="o">=</span> <span class="n">minsky_B</span></div>


<div class="viewcode-block" id="TsgfFieldData.export_fieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.TsgfFieldData.export_fieldData">[docs]</a>
    <span class="k">def</span> <span class="nf">export_fieldData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_folder</span><span class="p">:</span><span class="n">Path</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exports TSCW konform txt-File with suffix &quot;_tsgf.fd.txt&quot;. </span>

<span class="sd">        Args:</span>
<span class="sd">            save_folder (Path): Folder where the project is located.</span>
<span class="sd">            project_name (str): Project name (this will be a subfolder in save_folder)</span>
<span class="sd">            is_binary_export (bool, optional): Export an additional *.pickle file which can be later loaded into python. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_export_folder</span><span class="p">(</span><span class="n">save_folder</span><span class="p">,</span> <span class="n">project_name</span><span class="p">,</span> <span class="s1">&#39;_tsgf.fd.txt&#39;</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">)</span>
        <span class="n">fid</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_export_meta_data</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
											
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">MEDIUM_TYPE_RESERVOIR&#39;</span> 	<span class="p">)</span>
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_type</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>																		
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">MEDIUM_ID_RESERVOIR&#39;</span> <span class="p">)</span>	
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>	 						
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">DEPTH_RESERVOIR</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1"># Referenztiefe fuer Druck&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refdepth_reservoir</span><span class="p">)</span>	<span class="p">)</span>		
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_export_borehole_data</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;TEMPERATURE_RESERVOIR</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[deg C]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_reservoir</span><span class="p">))</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;PRESSURE_RESERVOIR</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[MPa]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pressure_reservoir</span><span class="p">))</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;FILTRATION_COEFFICIENT_A</span><span class="se">\t</span><span class="si">%.2e</span><span class="se">\t</span><span class="s1">#[MPa2/(Nm3/h)]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minsky_A</span><span class="p">))</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;FILTRATION_COEFFICIENT_B</span><span class="se">\t</span><span class="si">%.2e</span><span class="se">\t</span><span class="s1">#[MPa2/(Nm3/h)2]&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minsky_B</span><span class="p">))</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Run sucessfull&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">file_path</span></div>
</div>


<div class="viewcode-block" id="GacaFieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.GacaFieldData">[docs]</a>
<span class="k">class</span> <span class="nc">GacaFieldData</span><span class="p">(</span><span class="n">FieldData</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_boreholes</span><span class="p">,</span> <span class="n">n_fluid</span><span class="p">,</span> <span class="n">tvd</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">,</span> <span class="n">medium_type_cavern</span><span class="p">,</span> <span class="n">medium_id_cavern</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n_boreholes</span> <span class="o">=</span> <span class="n">n_boreholes</span>   
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">n_fluid</span><span class="p">,</span> <span class="n">tvd</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">,</span> <span class="n">medium_type_cavern</span><span class="p">,</span> <span class="n">medium_id_cavern</span><span class="p">)</span>

<div class="viewcode-block" id="GacaFieldData.add_cavernVector">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.GacaFieldData.add_cavernVector">[docs]</a>
    <span class="k">def</span> <span class="nf">add_cavernVector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">radial_vector</span><span class="p">):</span> 
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a radial vector within the cavern. The first element is the cavern radius.</span>

<span class="sd">        :param radial_vector: must be strictly increasing, will define self.m_cavern [int].</span>
<span class="sd">        :type radial_vector: list or array [m]</span>
<span class="sd">        &quot;&quot;&quot;</span>      
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">radial_vector</span><span class="p">,</span> <span class="n">radial_vector</span><span class="p">[</span><span class="mi">1</span><span class="p">:])),</span> <span class="s1">&#39;List is not strictly increasing!&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_cavern</span> <span class="o">=</span> <span class="n">radial_vector</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m_cavern</span> <span class="o">=</span> <span class="n">radial_vector</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="GacaFieldData.add_cavernCharacteristics">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.GacaFieldData.add_cavernCharacteristics">[docs]</a>
    <span class="k">def</span> <span class="nf">add_cavernCharacteristics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">refdepth_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span><span class="n">density_salt</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span><span class="n">specific_heat_capacity_salt</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span><span class="n">heat_conductivity_salt</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">height_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">volume_brine_equivalent</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">radius_brine_level</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">pressure_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">temperature_brine_equivalent</span><span class="p">:</span><span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add cavern characteristics:</span>

<span class="sd">        :param refdepth_cavern: reference depth for cavern pressure and modeling [m]</span>
<span class="sd">        :type refdepth_cavern: float</span>
<span class="sd">        :param density_salt:  [kg/m3]</span>
<span class="sd">        :type density_salt: float</span>
<span class="sd">        :param specific_heat_capacity_salt: [J/kgK]</span>
<span class="sd">        :type specific_heat_capacity_salt: float</span>
<span class="sd">        :param heat_conductivity_salt: [W/mK]</span>
<span class="sd">        :type heat_conductivity_salt: float</span>
<span class="sd">        :param height_cavern: consists of H_zy + 2*rad_cav [m]</span>
<span class="sd">        :type height_cavern: float</span>
<span class="sd">        :param volume_brine_equivalent: [m3]</span>
<span class="sd">        :type volume_brine_equivalent: float</span>
<span class="sd">        :param radius_brine_level: [m]</span>
<span class="sd">        :type radius_brine_level: float</span>
<span class="sd">        :param pressure_cavern: [MPa]</span>
<span class="sd">        :type pressure_cavern: float</span>
<span class="sd">        :param temperature_brine_equivalent: [°C], defaults to None</span>
<span class="sd">        :type temperature_brine_equivalent: float, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">refdepth_cavern</span>              <span class="o">=</span> <span class="n">refdepth_cavern</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">density_salt</span>                 <span class="o">=</span> <span class="n">density_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">specific_heat_capacity_salt</span>  <span class="o">=</span> <span class="n">specific_heat_capacity_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_conductivity_salt</span>       <span class="o">=</span> <span class="n">heat_conductivity_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_cavern</span>                <span class="o">=</span> <span class="n">height_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume_brine_equivalent</span>      <span class="o">=</span> <span class="n">volume_brine_equivalent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius_brine_level</span>           <span class="o">=</span> <span class="n">radius_brine_level</span>      
        <span class="bp">self</span><span class="o">.</span><span class="n">temperature_brine_equivalent</span> <span class="o">=</span> <span class="n">temperature_brine_equivalent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pressure_cavern</span>              <span class="o">=</span> <span class="n">pressure_cavern</span></div>


<div class="viewcode-block" id="GacaFieldData.export_fieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.GacaFieldData.export_fieldData">[docs]</a>
    <span class="k">def</span> <span class="nf">export_fieldData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_folder</span><span class="p">:</span><span class="n">Path</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exports TSCW konform txt-File with suffix &quot;_gaca.fd.txt&quot;. </span>

<span class="sd">        Args:</span>
<span class="sd">            save_folder (Path): Folder where the project is located.</span>
<span class="sd">            project_name (str): Project name (this will be a subfolder in save_folder)</span>
<span class="sd">            is_binary_export (bool, optional): Export an additional *.pickle file which can be later loaded into python. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>   
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_export_folder</span><span class="p">(</span><span class="n">save_folder</span><span class="p">,</span> <span class="n">project_name</span><span class="p">,</span> <span class="s1">&#39;_gaca.fd.txt&#39;</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">)</span>
        <span class="n">fid</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;NUMBER_BOREHOLES</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_boreholes</span><span class="p">))</span>	

        <span class="bp">self</span><span class="o">.</span><span class="n">_export_meta_data</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;M_CAVERN</span><span class="se">\t</span><span class="si">%d</span><span class="se">\t</span><span class="s1"># (MK)</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m_cavern</span><span class="p">)</span>	<span class="p">)</span>													
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;MEDIUM_TYPE_CAVERN&#39;</span><span class="p">)</span>
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_type</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>																		
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;MEDIUM_ID_CAVERN&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>			 						
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DEPTH_CAVERN</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1"># Referenztiefe fuer Druck&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refdepth_cavern</span><span class="p">)</span>	<span class="p">)</span>		
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_export_borehole_data</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;RADIAL_VECTOR_CAVERN # [m] (MK Werte)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radial_vector_cavern</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;TEMPERATURE_CAVERN  #  [deg C] Temperatur der Radialelemente um die Kaverne (MK Werte) </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_npMatrix2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_cavern</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DENSITY_SALT</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[kg/m3]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">density_salt</span><span class="p">))</span>																	
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;SPECIFIC_HEAT_CAPACITY_SALT</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[J/(kg*K)]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">specific_heat_capacity_salt</span><span class="p">))</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;HEAT_CONDUCTIVITY_SALT</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[W/(m*K)]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heat_conductivity_salt</span><span class="p">))</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;HEIGHT_CAVERN</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height_cavern</span><span class="p">))</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;VOLUME_BRINE_EQUIVALENT</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[m3]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volume_brine_equivalent</span><span class="p">))</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;RADIUS_BRINE_LEVEL</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius_brine_level</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">temperature_brine_equivalent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;TEMPERATURE_BRINE_EQUIVALENT</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[deg C] optional</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_brine_equivalent</span><span class="p">))</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;PRESSURE_CAVERN</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1">#[MPa] at DEPTH_CAVERN </span><span class="si">%.2f</span><span class="s1">m</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pressure_cavern</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">refdepth_cavern</span><span class="p">))</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Run sucessfull&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></div>
</div>

        
<div class="viewcode-block" id="TsclFieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.TsclFieldData">[docs]</a>
<span class="k">class</span> <span class="nc">TsclFieldData</span><span class="p">(</span><span class="n">FieldData</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_fluid</span><span class="p">,</span> <span class="n">tvd</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">,</span> <span class="n">medium_type_cavern</span><span class="p">,</span> <span class="n">medium_id_cavern</span><span class="p">):</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">n_fluid</span><span class="p">,</span> <span class="n">tvd</span><span class="p">,</span> <span class="n">delta_z</span><span class="p">,</span> <span class="n">medium_type_cavern</span><span class="p">,</span> <span class="n">medium_id_cavern</span><span class="p">)</span>
        
    
<div class="viewcode-block" id="TsclFieldData.add_cavernCharacteristics">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.TsclFieldData.add_cavernCharacteristics">[docs]</a>
    <span class="k">def</span> <span class="nf">add_cavernCharacteristics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">cavern_net_volume_0</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">medium_type_cavern</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
                                  <span class="n">medium_id_cavern</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                  <span class="n">depth_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">dr_max_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>  
                                  <span class="n">dr_1_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">dr_1_saltrock</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">f_dr</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">r_max_cavern</span><span class="p">:</span><span class="nb">float</span> <span class="p">,</span>
                                  <span class="n">temperature_cavern</span><span class="p">:</span><span class="nb">float</span> <span class="p">,</span>
                                  <span class="n">temperature_salt</span><span class="p">:</span><span class="nb">float</span> <span class="p">,</span>
                                  <span class="n">density_salt</span><span class="p">:</span><span class="nb">float</span> <span class="p">,</span>
                                  <span class="n">specific_heat_capacity_salt</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">heat_conductivity_salt</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">height_cavern</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
                                  <span class="n">conductance_weight_factor</span><span class="p">:</span><span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add cavern charistics</span>

<span class="sd">        Args:</span>
<span class="sd">            cavern_net_volume_0 (float): _description_</span>
<span class="sd">            medium_type_cavern (str): _description_</span>
<span class="sd">            medium_id_cavern (int): _description_</span>
<span class="sd">            depth_cavern (float): _description_</span>
<span class="sd">            dr_max_cavern (float): _description_</span>
<span class="sd">            dr_1_cavern (float): _description_</span>
<span class="sd">            dr_1_saltrock (float): _description_</span>
<span class="sd">            f_dr (float): _description_</span>
<span class="sd">            r_max_cavern (float): _description_</span>
<span class="sd">            temperature_cavern (float): _description_</span>
<span class="sd">            temperature_salt (float): _description_</span>
<span class="sd">            density_salt (float): _description_</span>
<span class="sd">            specific_heat_capacity_salt (float): _description_</span>
<span class="sd">            heat_conductivity_salt (float): _description_</span>
<span class="sd">            height_cavern (float): _description_</span>
<span class="sd">            conductance_weight_factor (float): _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">cavern_net_volume_0</span> <span class="o">=</span> <span class="n">cavern_net_volume_0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_type_cavern</span> <span class="o">=</span> <span class="n">medium_type_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_id_cavern</span> <span class="o">=</span> <span class="n">medium_id_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">depth_cavern</span> <span class="o">=</span> <span class="n">depth_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dr_max_cavern</span> <span class="o">=</span> <span class="n">dr_max_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dr_1_cavern</span> <span class="o">=</span> <span class="n">dr_1_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dr_1_saltrock</span> <span class="o">=</span> <span class="n">dr_1_saltrock</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f_dr</span> <span class="o">=</span> <span class="n">f_dr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r_max_cavern</span> <span class="o">=</span> <span class="n">r_max_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temperature_cavern</span> <span class="o">=</span> <span class="n">temperature_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temperature_salt</span> <span class="o">=</span> <span class="n">temperature_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density_salt</span> <span class="o">=</span> <span class="n">density_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">specific_heat_capacity_salt</span> <span class="o">=</span> <span class="n">specific_heat_capacity_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heat_conductivity_salt</span> <span class="o">=</span> <span class="n">heat_conductivity_salt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height_cavern</span> <span class="o">=</span> <span class="n">height_cavern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conductance_weight_factor</span> <span class="o">=</span> <span class="n">conductance_weight_factor</span></div>



<div class="viewcode-block" id="TsclFieldData.export_fieldData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.TsclFieldData.export_fieldData">[docs]</a>
    <span class="k">def</span> <span class="nf">export_fieldData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_folder</span><span class="p">:</span><span class="n">Path</span><span class="p">,</span> <span class="n">project_name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exports TSCW konform txt-File with suffix &quot;_tscl.fd.txt&quot;. </span>

<span class="sd">        Args:</span>
<span class="sd">            save_folder (Path): Folder where the project is located.</span>
<span class="sd">            project_name (str): Project name (this will be a subfolder in save_folder)</span>
<span class="sd">            is_binary_export (bool, optional): Export an additional *.pickle file which can be later loaded into python. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>   
        <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_export_folder</span><span class="p">(</span><span class="n">save_folder</span><span class="p">,</span> <span class="n">project_name</span><span class="p">,</span> <span class="s1">&#39;_tscl.fd.txt&#39;</span><span class="p">,</span> <span class="n">is_binary_export</span><span class="p">)</span>
        <span class="n">fid</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_export_meta_data</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;CAVERN_NET_VOLUME_0</span><span class="se">\t</span><span class="si">%d</span><span class="se">\t</span><span class="s1"># [m3]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cavern_net_volume_0</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;MEDIUM_TYPE_CAVERN</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="s1"># [-]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_type_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;MEDIUM_ID_CAVERN</span><span class="se">\t</span><span class="si">%d</span><span class="se">\t</span><span class="s1"># [-]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DEPTH_CAVERN</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">depth_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DR_MAX_CAVERN</span><span class="se">\t</span><span class="si">%.2f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dr_max_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DR_1_CAVERN</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dr_1_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DR_1_SALTROCK</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dr_1_saltrock</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;F_DR</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [-]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f_dr</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_export_borehole_data</span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
        
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vspace</span><span class="p">)</span>
        
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;R_MAX_CAVERN</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r_max_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;TEMPERATURE_CAVERN</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [deg]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;TEMPERATURE_SALT</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [deg]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_salt</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DENSITY_SALT</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [kg/m3]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">density_salt</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;SPECIFIC_HEAT_CAPACITY_SALT</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [J/(kg*K)]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">specific_heat_capacity_salt</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;HEAT_CONDUCTIVITY_SALT</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [W/(m*K)]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heat_conductivity_salt</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;HEIGHT_CAVERN</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [m]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height_cavern</span><span class="p">)</span>	<span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;CONDUCTANCE_WEIGHT_FACTOR</span><span class="se">\t</span><span class="si">%.3f</span><span class="se">\t</span><span class="s1"># [-]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conductance_weight_factor</span><span class="p">)</span>	<span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Run sucessfull&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></div>
</div>


<span class="c1">####################################################################################</span>




<span class="n">_FILE_EXT</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;gaca&#39;</span><span class="p">,</span><span class="s1">&#39;tsgf&#39;</span><span class="p">,</span><span class="s1">&#39;tscl&#39;</span><span class="p">]</span>

<div class="viewcode-block" id="ProcessData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.ProcessData">[docs]</a>
<span class="k">class</span> <span class="nc">ProcessData</span><span class="p">():</span>
    
    <span class="n">MAP_MODULE_TO_FILE_EXT</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;gaca&#39;</span> <span class="p">:</span> <span class="s1">&#39;_gaca.pd.txt&#39;</span><span class="p">,</span>
            <span class="s1">&#39;tsgf&#39;</span> <span class="p">:</span> <span class="s1">&#39;_tsgf.pd.txt&#39;</span><span class="p">,</span>
            <span class="s1">&#39;tscl&#39;</span> <span class="p">:</span> <span class="s1">&#39;_tscl.pd.txt&#39;</span>
    <span class="p">}</span>
    
    
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">description</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">coupled_annuli</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">medium_type</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">medium_id</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">tscw_module</span><span class="p">:</span> <span class="n">_FILE_EXT</span> <span class="o">=</span> <span class="s1">&#39;gaca&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Created process data for TSWC that can be exported to a txt-file.</span>

<span class="sd">        :param description: description to be displayed in txt-file.</span>
<span class="sd">        :type description: str</span>
<span class="sd">        :param coupled_annuli: _description_</span>
<span class="sd">        :type coupled_annuli: list or np.array [1 x N_FLUID]</span>
<span class="sd">        :param medium_type: _description_</span>
<span class="sd">        :type medium_type: string array [1 x N_FLUID]</span>
<span class="sd">        :param medium_id: _description_</span>
<span class="sd">        :type medium_id: list [1 x N_FLUID]</span>
<span class="sd">        :param tscw_module: defined in self.MAP_MODULE_TO_FILE_EXT</span>
<span class="sd">        :type tscw_module: list [1 x N_FLUID]</span>
<span class="sd">        &quot;&quot;&quot;</span>     
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coupled_annuli</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">medium_id</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">coupled_annuli</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">medium_id</span><span class="p">),</span> <span class="s1">&#39;MEDIUM ID und COUPLED ANNULI do must have same length!&#39;</span>
        <span class="k">assert</span> <span class="n">tscw_module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAP_MODULE_TO_FILE_EXT</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="sa">f</span><span class="s1">&#39;Incorrect module name: </span><span class="si">{</span><span class="n">tscw_module</span><span class="si">}</span><span class="s1">.&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">description</span>    <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_type</span>    <span class="o">=</span> <span class="n">medium_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span>      <span class="o">=</span> <span class="n">medium_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coupled_annuli</span> <span class="o">=</span> <span class="n">coupled_annuli</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tscw_module</span>    <span class="o">=</span> <span class="n">tscw_module</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n_stages</span>   <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages_param</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">medium_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_fluid</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">n_fluid</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">medium_type</span><span class="p">)</span>

<div class="viewcode-block" id="ProcessData.add_stage">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.ProcessData.add_stage">[docs]</a>
    <span class="k">def</span> <span class="nf">add_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">stage_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Erlaubt flexibles hinzufügen von stages. Stages werden chronologisch hinzugefügt.</span>
<span class="sd">        WICHTIG: Schlüsselnamen aus dict müssen mit Variablenname von TSWC übereinstimmen, erlaubt sind folgende Namen:</span>
<span class="sd">            - &#39;TERMINATION_ID&#39;,</span>
<span class="sd">            - &#39;TERMINATION_QUANTITY&#39;,</span>
<span class="sd">            - &#39;DT_MAX&#39;,</span>
<span class="sd">            - &#39;FLOW_RATE&#39;,</span>
<span class="sd">            - &#39;P_BOUNDARY_CONDITION&#39;,</span>
<span class="sd">            - &#39;BOUNDARY_PRESSURE&#39;,</span>
<span class="sd">            - &#39;T_BOUNDARY_CONDITION&#39;,</span>
<span class="sd">            - &#39;BOUNDARY_TEMPERATURE&#39;,</span>
<span class="sd">            - &#39;K_S&#39;</span>

<span class="sd">        &#39;TERMINATION_ID&#39; und &#39;TERMINATION_QUANTITY&#39; müssen eingegeben werden!</span>

<span class="sd">        :param stage_data: Enthält alle erforderlichen Parameter in der Form {Schlüssel: Wert}</span>
<span class="sd">        :type stage_data: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>        <span class="s1">&#39;&#39;&#39;</span>

<span class="s1">        &#39;&#39;&#39;</span>

        <span class="c1"># allowed key names</span>
        <span class="n">variable_names_pd</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;TERMINATION_ID&#39;</span><span class="p">,</span>
        <span class="s1">&#39;TERMINATION_QUANTITY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DT_MAX&#39;</span><span class="p">,</span>
        <span class="s1">&#39;FLOW_RATE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;P_BOUNDARY_CONDITION&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BOUNDARY_PRESSURE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;T_BOUNDARY_CONDITION&#39;</span><span class="p">,</span>
        <span class="s1">&#39;BOUNDARY_TEMPERATURE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;K_S&#39;</span><span class="p">,</span>
        <span class="s1">&#39;CAVERN_NET_VOLUME&#39;</span><span class="p">,</span>
        <span class="s1">&#39;STAGE_DURATION&#39;</span>
        <span class="p">]</span>

        <span class="c1"># boundary_conditions_module = {</span>
        <span class="c1">#     &#39;gaca&#39; : [&#39;WELLHEAD&#39;, &#39;BOTTOM&#39;, &#39;CAVERN&#39;, &#39;COUPLED&#39;, &#39;NONE&#39;],</span>
        <span class="c1">#     &#39;tsgf&#39; : [&#39;WELLHEAD&#39;, &#39;BOTTOM&#39;, &#39;RESERVOIR&#39;, &#39;COUPLED&#39;, &#39;NONE&#39;],</span>
        <span class="c1"># }</span>

        <span class="c1"># termination_id_module = {</span>
        <span class="c1">#     &#39;gaca&#39; : [1,2,3,4,6,7,8,9,10],</span>
        <span class="c1">#     &#39;tsgf&#39; : [1],</span>
        <span class="c1"># }</span>

        <span class="c1"># check spelling of keys:</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">stage_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">assert</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">variable_names_pd</span><span class="p">,</span> <span class="s1">&#39;Spelling error </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="c1"># assert &#39;TERMINATION_ID&#39; in stage_data.keys()</span>
        <span class="c1"># assert &#39;TERMINATION_QUANTITY&#39; in stage_data.keys()</span>

        <span class="c1"># add stage to stages_param</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages_param</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">n_stages</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">stage_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_stages</span> <span class="o">+=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="ProcessData.export_processData">
<a class="viewcode-back" href="../../tscw_module.html#tscw_module.tscw_DataClassesInput.ProcessData.export_processData">[docs]</a>
    <span class="k">def</span> <span class="nf">export_processData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">save_folder</span><span class="p">:</span><span class="n">Path</span><span class="p">,</span><span class="n">project_name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">subfolder</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exports class to a txt-File with the suffix depending on tscw_module.</span>
<span class="sd">        Will will be exported to a folder named (path, project_name, suffix). If it does not exist, it will be created.</span>

<span class="sd">        :param save_folder: _description_</span>
<span class="sd">        :type save_folder: str</span>
<span class="sd">        :param project_name: _description_</span>
<span class="sd">        :type project_name: str</span>
<span class="sd">        :param subfolder: defaults to &#39;&#39;</span>
<span class="sd">        :type subfolder: str, optional</span>
<span class="sd">        &quot;&quot;&quot;</span>     
        <span class="n">save_path</span> <span class="o">=</span> <span class="n">save_folder</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">project_name</span><span class="p">,</span> <span class="n">subfolder</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">save_path</span><span class="o">.</span><span class="n">exists</span><span class="p">()):</span>
            <span class="n">save_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Created new folder </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">save_path</span><span class="p">))</span>

        <span class="n">file_name</span> <span class="o">=</span>  <span class="n">save_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">project_name</span> <span class="o">+</span> <span class="n">subfolder</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAP_MODULE_TO_FILE_EXT</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tscw_module</span><span class="p">])</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file_name</span><span class="p">))</span> <span class="o">&lt;=</span> <span class="mi">260</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Process data file path is </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file_name</span><span class="p">))</span><span class="si">}</span><span class="s1"> but max length is 260.&#39;</span>
        <span class="n">fid</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;DESCRIPTION</span><span class="se">\t</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">))</span>																	
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;N_FLUID</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_fluid</span><span class="p">)</span>	<span class="p">)</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;NUMBER_OF_STAGES [/]</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_stages</span><span class="p">)</span>	<span class="p">)</span>														
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;MEDIUM_TYPE [/]&#39;</span><span class="p">)</span>
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_type</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">MEDIUM_ID [/]&#39;</span><span class="p">)</span>
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">medium_id</span><span class="p">,</span> <span class="n">fid</span><span class="p">)</span>    
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">COUPLED_ANNULI [integer required!]&#39;</span><span class="p">)</span>
        <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coupled_annuli</span><span class="p">,</span><span class="n">fid</span><span class="p">)</span>    
        <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i_stage</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_stages</span><span class="p">):</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1"># ++++++++++++++++++++++++++++++++</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;STAGE</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">i_stage</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>	<span class="p">)</span>
            <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;# ++++++++++++++++++++++++++++++++</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stages_param</span><span class="p">[</span><span class="n">i_stage</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">fid</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
                <span class="n">write_kwargs2Fid</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="n">fid</span><span class="p">)</span>

        <span class="n">fid</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Run sucessfull&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">file_name</span></div>
</div>


<span class="c1">####################################################################################</span>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, UGS GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>