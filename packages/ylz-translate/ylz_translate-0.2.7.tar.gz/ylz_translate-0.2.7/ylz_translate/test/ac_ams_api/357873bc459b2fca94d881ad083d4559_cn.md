API变更历史 | 产品API | 支付宝文档
===============

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](./img_m_a52690f40beef33d7d37f1bda6f48c27.svg)![图片2：中国领先的第三方在线支付解决方案 - 支付宝](./img_m_d70d46fd32b98952674df01c03131d87.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fchangehistory)

[返回首页](../../)

产品API

[支付宝API](/docs/ac/ams/api)

[概览](/docs/ac/ams/api_fund)

[幂等性](/docs/ac/ams/idempotency)

[消息编码](/docs/ac/ams/me)

[使用SDK进行请求签名和验证签名](/docs/ac/ams/signature_sdk)

[请求签名和验证签名](/docs/ac/ams/digital_signature?pageVersion=34)

[API变更历史](/docs/ac/ams/changehistory)

在线支付

店内支付

API变更历史
==================

2023-11-09 09:36

API变更历史为您提供与API相关的变更信息。

2023年11月9日
================

店内支付
-----------------

*   在[**cancel**](../ams/paymentc) API中添加了错误代码 `ORDER_STATUS_INVALID`。
*   在[**refund**](../ams/refund) API中添加了错误代码 `ACCESS_DENIED` 和 `ORDER_IS_CANCELED`。

2023年10月31日
================

*   在请求头中添加了可选参数 _agent-token_，以授权ISV进行API调用。详情请参阅[agent-token](api_fund#sjPLz)。

2023年8月31日
===============

在线支付
---------------

*   添加了订阅支付的[**创建**](https://global.alipay.com/docs/ac/ams/create_sub)、[**订阅通知**](https://global.alipay.com/docs/ac/ams/notify_sub)、[**支付通知**](https://global.alipay.com/docs/ac/ams/notify_subpayment)、[**修改**](https://global.alipay.com/docs/ac/ams/change_sub)和[**取消**](https://global.alipay.com/docs/ac/ams/cancel_sub)API。

2023年8月30日
===============

在线支付
---------

*   在[**支付（收银台支付）**](https://global.alipay.com/docs/ac/ams/payment_cashier)、[**支付通知**](https://global.alipay.com/docs/ac/ams/paymentrn_online)和[**查询支付**](https://global.alipay.com/docs/ac/ams/paymentri_online)API中添加了错误代码`CARD_NOT_SUPPORTED`、`USER_BALANCE_NOT_ENOUGH`、`INVALID_EXPIRATION_DATE`和`INVALID_CARD_NUMBER`。

2023年8月11日
===============

在线支付
---------

*   添加了[**创建支付会话（收银台支付）**](https://global.alipay.com/docs/ac/ams/session_cashier) API，用于信用卡支付。

2023年7月27日
=============

在线支付
---------

*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)、[支付（自动扣款）](https://global.alipay.com/docs/ac/ams/payment_agreement)、[支付（用户出示模式支付）](https://global.alipay.com/docs/ac/ams/upm)、[支付（订单码支付）](https://global.alipay.com/docs/ac/ams/oc)和[支付（入口码支付）](https://global.alipay.com/docs/ac/ams/ec)的请求参数中，弃用了字段`customerId`。

2023年7月26日
=============

在线支付
---------

*   添加了[创建支付会话（简易支付）](https://global.alipay.com/docs/ac/ams/createpaymentsession_easypay) API，用于简易支付产品。
*   在[通知授权](https://global.alipay.com/docs/ac/ams/notifyauth) API 的请求参数中，向字段 _authorizationNotifyType_ 添加了枚举值 `TOKEN_CREATED`。

2023年6月25日
=============

在线支付
---------

*   在[支付方式](https://global.alipay.com/docs/ac/ref/payment_method)中，为收银台支付和自动扣款添加了枚举值 `NAVERPAY`，为收银台支付添加了 `TOSS`。
*   修改了收银台支付和自动扣款API请求发送的域名。详情请参阅[调用API](https://global.alipay.com/docs/ac/ams/api#call)。
*   修改了`Request-Time`的格式，现在是一个精确到毫秒的时间戳。详情请参阅[构建待签名内容](https://global.alipay.com/docs/ac/ams/digital_signature#Adgbs)。

2023年5月31日
============

在线支付
---------------

*   在[_支付方式_](https://global.alipay.com/docs/ac/ref/payment_method)中为收银台支付和自动扣款添加了枚举值`ZALOPAY`。
*   在[咨询](https://global.alipay.com/docs/ac/ams/authconsult)和[申请令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp)API的请求参数中，将参数`customerBelongsTo`的长度从16改为64。
*   在[pay（自动扣款）](https://global.alipay.com/docs/ac/ams/payment_agreement)API的请求参数中，将参数`paymentMethod.paymentMethodType`的长度从32改为64。

2023年4月28日
==============

在线支付
---------------

*   弃用了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API响应参数中的`_redirectActionForm_`参数。
*   弃用了[咨询](https://global.alipay.com/docs/ac/ams/authconsult)API响应参数中的`_authUrl_`参数。

2023年4月7日
============

在线支付
---------

*   在[查询支付](https://global.alipay.com/docs/ac/ams/paymentri_online)API的响应参数中，弃用了参数`cardInfo.eci`。
*   在[查询支付](https://global.alipay.com/docs/ac/ams/paymentri_online)API的响应参数中，新增了参数`cardInfo.threeDSResult`。
*   在[通知支付](https://global.alipay.com/docs/ac/ams/paymentrn_online)API的请求参数中，弃用了参数`cardInfo.eci`。
*   在[查询支付](https://global.alipay.com/docs/ac/ams/paymentri_online)API的请求参数中，新增了参数`cardInfo.threeDSResult`。

2023年4月6日
============

在线支付
--------

*   更新了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中，Blik支付方式的参数`order.env.clientIp`和`order.env.userAgent`的描述。

2023年3月22日
============

在线支付
--------

*   为Payeasy和Konbini场景在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中添加了参数`paymentMethod.paymentMethodMetaData.payerEmail`。
*   更新了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中`order.shipping.shippingPhoneNo`、`order.buyer.buyerPhoneNo`、`order.buyer.buyerName.firstName`和`order.shipping.shippingName.firstName`参数的描述。

2023年3月21日
===============

在线支付
--------

*   将[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)和[支付（自动扣款）](https://global.alipay.com/docs/ac/ams/payment_agreement)API的请求参数中的`clientIp`参数长度从32位改为64位。

店内支付
--------

*   将[支付（用户出示模式支付）](https://global.alipay.com/docs/ac/ams/upm)、[支付（订单码支付）](https://global.alipay.com/docs/ac/ams/oc)和[支付（入口码支付）](https://global.alipay.com/docs/ac/ams/ec)API的请求参数中_clientIp_参数的长度从32位增加到64位。

2023年3月14日
==============

在线支付
---------

*   更新了[notifyPayment](https://global.alipay.com/docs/ac/ams/paymentrn_online) API请求参数中_result.resultStatus_参数的描述。

2023年3月2日
==============

在线支付
---------

*   在[applyToken](https://global.alipay.com/docs/ac/ams/accesstokenapp) API中添加了错误代码`AUTH_IN_PROCESS`。

2023年3月1日
==============

**2023年2月17日**
=====================

在线支付
---------------

*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中，为字段 _paymentOptions.paymentMethodCategory_ 添加了枚举值 `OTC`。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，为字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `QRIS`。

**2023年2月14日**
=================

在线支付
---------------

* 在[查询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier)API的响应参数中，向字段`paymentOptions.paymentMethodType`添加了枚举值`MERCADOPAGO_BR`、`MERCADOPAGO_MX`、`MERCADOPAGO_CL`和`MERCADOPAGO_PE`。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中，向字段`paymentMethod.paymentMethodType`添加了枚举值`MERCADOPAGO_BR`、`MERCADOPAGO_MX`、`MERCADOPAGO_CL`和`MERCADOPAGO_PE`。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中，向`paymentMethod.paymentMethodMetaData`参数添加了针对Mercado Pago场景的参数`cpf`和`payerEmail`。

* 更新了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中 _paymentMethod.paymentMethodMetaData_ 参数的描述。

2023年2月8日
==========

在线支付
---------

*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值 `BILLEASE`。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `BILLEASE`。
*   更新了[概述](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)中的请求头大小写规则。

2023年2月7日
==========

在线支付
---------

*   更新了[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier)和[支付通知](https://global.alipay.com/docs/ac/ams/paymentrn_online) API 的代码示例。

2023年1月19日
==========

在线支付
---------

* 将API [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) 的请求参数中的 `_allowedPspRegions_` 参数改为 `_allowedPaymentMethodRegions_`。
* 在API [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) 的响应参数中的 `_PaymentOptions.paymentOptionDetail.supportCardBrands.cardBrand_` 参数中，新增了 [枚举值列表](https://global.alipay.com/docs/ac/ref/payment_method)。
* 在API [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) 的响应参数中的 `_PaymentOptions.paymentOptionDetail.supportCardBrands.logo.logoName_` 参数中，新增了 [枚举值列表](https://global.alipay.com/docs/ac/ref/payment_method)。
* 在API [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) 的响应参数中，新增了参数 `_PaymentOptions.paymentOptionDetail.funding_`。

* 更新了[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中 _PaymentOptions.paymentMethodRegion_ 参数的描述。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中添加了 _paymentMethod.paymentMethodMetaData.dateOfBirth, paymentMethod.paymentMethodMetaData.businessNo, paymentMethod.paymentMethodMetaData.cardPasswordDigest, paymentMethod.paymentMethodMetaData.payerEmail_ 以及 _paymentMethod.paymentMethodMetaData.payMentMethodRegion_。
* 在[通知支付](https://global.alipay.com/docs/ac/ams/paymentrn_online) API 的请求参数中添加了 _cardInfo.issuingCountry, cardInfo.funding_ 以及 _cardInfo.paymentMethodRegion_。

* 在[查询支付](https://global.alipay.com/docs/ac/ams/paymentri_online)API的响应参数中，新增了参数`cardInfo.issuingCountry`，`cardInfo.funding`和`cardInfo.paymentMethodRegion`。
* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier)API的响应参数中，将参数`PaymentOptions.installment`的数据类型修改为对象。

2023年1月13日
==============

在线支付
---------

*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值 `AKULAKU_PAYLATER_PH` 和 `GRABPAY_MY`。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `AKULAKU_PAYLATER_PH` 和 `GRABPAY_MY`。

**2022年12月30日**
=====================

在线支付
---------

* 在[咨询](https://global.alipay.com/docs/ac/ams/authconsult)API的请求参数中，向字段`customerBelongsTo`添加了枚举值`MAYA`。
* 在[申请令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp)API的请求参数中，向字段`customerBelongsTo`添加了枚举值`MAYA`。
* 在[支付（自动扣款）](https://global.alipay.com/docs/ac/ams/payment_agreement)API的请求参数中，向字段`paymentMethod.paymentMethodType`添加了枚举值`MAYA`。

2022年12月26日
===============

在线支付
---------

*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值 `LINKAJA`, `OVO`, `GOPAY_ID`, `OCTOCLICKS`, `ONLINEBANKING_BNI`, `ONLINEBANKING_MANDIRI`, `ONLINEBANKING_BRI`, `ONLINEBANKING_BCA`, `BANKTRANSFER_MAYBANK`, `BANKTRANSFER_BNI`, `BANKTRANSFER_PERMATA`, `CIMBNIAGA`, `BANKTRANSFER_MANDIRI`, `BANKTRANSFER_BSI`, 和 `ATMTRANSFER_ID`。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `LINKAJA`, `OVO`, `GOPAY_ID`, `OCTOCLICKS`, `ONLINEBANKING_BNI`, `ONLINEBANKING_MANDIRI`, `ONLINEBANKING_BRI`, `ONLINEBANKING_BCA`, `BANKTRANSFER_MAYBANK`, `BANKTRANSFER_BNI`, `BANKTRANSFER_PERMATA`, `CIMBNIAGA`, `BANKTRANSFER_MANDIRI`, `BANKTRANSFER_BSI`, 和 `ATMTRANSFER_ID`。

2022年12月12日
===============

在线支付
--------------

*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值 `DOLFIN`, `GRABPAY_SG`, 和 `PAYNOW`。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `DOLFIN`, `GRABPAY_SG`, 和 `PAYNOW`。

2022年11月29日
================

在线支付
--------------

*   [支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，已弃用字段 _cookieId_。
*   修改了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 请求参数中 _order.env.deviceTokenId, shipToEmail_ 和 _goodsCategory_ 字段的描述。

2022年11月24日
=================

在线支付
--------------

*   在[查询](https://global.alipay.com/docs/ac/ams/authconsult)和[申请令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp)API的请求参数中，向字段`customerBelongsTo`添加了枚举值`EASYPAISA`。
*   在[支付（自动扣款）](https://global.alipay.com/docs/ac/ams/payment_agreement)API的请求参数中，向字段`paymentMethodType`添加了枚举值`EASYPAISA`。
*   在[查询](https://global.alipay.com/docs/ac/ams/authconsult)和[申请令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp)API中添加了错误代码`NO_PAY_OPTIONS`。

2022年11月18日
=================

*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)、[notifyPayment](https://global.alipay.com/docs/ac/ams/paymentrn_online)和[inquiryPayment](https://global.alipay.com/docs/ac/ams/paymentri_online) API 中添加了错误代码 FRAUD_REJECT。
*   在[notifyPayment](https://global.alipay.com/docs/ac/ams/paymentrn_online)和[inquiryPayment](https://global.alipay.com/docs/ac/ams/paymentri_online) API 中添加了错误代码 SUSPECTED_RISK。
*   修改了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)、[notifyPayment](https://global.alipay.com/docs/ac/ams/paymentrn_online)和[inquiryPayment](https://global.alipay.com/docs/ac/ams/paymentri_online) API 中的错误代码 RISK_REJECT 的描述。

* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值 `PROMPTPAY`。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `PROMPTPAY`。
* 修改了[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 响应参数中 _orderCodeForm, orderCodeForm.codeDetails.codeValue_ 字段的描述。

**2022年10月20日**
====================

在线支付
------------

### Introduction

In the digital age, online payments have become an essential part of daily transactions. Companies like **Ant Group** (parent company of **Alipay**), have revolutionized the way people pay for goods and services, making it faster, more convenient, and secure.

### Key Components

1. **Payment Gateway**: The heart of online transactions, it connects merchants' websites to financial networks, processing payment information securely.
2. **Mobile Wallets**: Digital wallets like Alipay allow users to store payment methods and make transactions with just a few taps on their smartphones.
3. **Risk Management**: Advanced algorithms analyze transactions in real-time to detect and prevent fraud, ensuring user safety.
4. **API Integration**:商户可以通过开放的API接口将支付功能无缝集成到自己的应用程序或网站中。
5. **Blockchain Technology**: Exploring the use of blockchain for secure, transparent, and tamper-proof transactions.

### Security Measures

- **Two-Factor Authentication (2FA)**: An extra layer of security requiring users to provide a second form of identification.
- **Tokenization**: Replacing sensitive card data with unique, non-sensitive tokens for storage and transmission.
- **End-to-End Encryption**: Ensuring data privacy by encrypting information throughout its journey from sender to receiver.

### Alipay's Services

- **In-Store Payments**: QR code scanning for quick, contactless payments in physical stores.
- **Online Shopping**: Seamless checkout experience for e-commerce platforms.
- **Bill Payments**: Utility bills, credit card payments, and more, all managed from one app.
- **Investment and Wealth Management**: Offering financial products and investment advice.
- **Microloans**: Instant credit for consumers and small businesses.

### Future Trends

- **Widespread Adoption of Digital Currencies**
- **AI-Powered Personalized Finance**
- **Increased Emphasis on Sustainability and Social Impact**

As technology continues to evolve, online payment systems will become even more integrated into our daily lives, shaping the future of commerce.

### Conclusion

Online payments, driven by innovations like those from Ant Group, have transformed the financial landscape. By prioritizing security, convenience, and accessibility, they have paved the way for a more connected and cashless society.

* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值 `PAYPAY`。
* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的响应参数中，向字段 _paymentOptions.paymentMethodCategory_ 添加了枚举值 `WALLET`。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值 `PAYPAY`。
* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API中添加了错误代码 CURRENCY\_NOT\_SUPPORT。
* 修改了[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API响应参数中字段 _paymentOptions.paymentOptionDetail_ 的描述。

*   将[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中的 `paymentOptions.installments.interestRate` 修改为可选字段。
*   在 [通知纠纷](https://global.alipay.com/docs/ac/ams/notify_dispute) API 的请求参数中添加了字段 `_disputeJudgedTime`。
*   在 [扣款（收银台支付）](https://global.alipay.com/docs/ac/ams/capture) 和 [通知扣款（收银台支付）](https://global.alipay.com/docs/ac/ams/notify_capture) APIs 中添加了错误代码 `MULTI_CAPTURE_NOT_SUPPORTED`。
*   在 [通知纠纷](https://global.alipay.com/docs/ac/ams/notify_dispute) API 的请求参数中添加了字段 `_disputeJudgedResult` 的描述。
*   在 [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API 的响应参数中添加了字段 `_paymentOptions.intallments`。

* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的响应参数中，新增了字段 _paymentOptions.paymentOptionDetail.supportBanks_。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，向字段 _paymentMethodMetaData_ 添加了子参数 _blikCode_ 和 _payerEmail_。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，新增了字段 _paymentMethod.paymentMethodMetaData.bankIdentifierCode_。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，新增了字段 _paymentMethod.paymentMethodMetaData.cpf_。

*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，新增了 order.buyer.buyerPhoneNo 和 order.buyer.buyerEmail 字段的描述。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，新增了 paymentMethod.paymentMethodMetaData.billingAddress 字段的描述。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，新增了 paymentMethod.paymentMethodMetaData.cpf 字段的描述。
*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API 的请求参数中，为 creditPayPlan.installmentNum 字段添加了值的范围说明。

2022年10月18日
===============

在线支付
---------------

*   废弃了[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API响应参数中的 _paymentOptions.paymentOptionDetail_ 字段的子字段 _card_。
*   废弃了[通知纠纷](https://global.alipay.com/docs/ac/ams/notify_dispute) API请求参数中的 _disputeJudgedResult_ 字段的 `ACCEPT_BY_ALIPAY` 值。
*   废弃了[通知纠纷](https://global.alipay.com/docs/ac/ams/notify_dispute) API的错误代码。
*   修改了[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API响应参数中的 _paymentOptions.paymentMethodType_ 字段的枚举值 `MIXEDCARD` 为 `CARD`。
*   将[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API响应参数中的 _paymentOptions.paymentMethodCategory_ 字段的枚举值大写化。

* 将 `_paymentMethod.paymentMethodMetaData` 字段的数据类型修改为对象，并更新了其描述。
* 将 [pay (Cashier Payment)](https://global.alipay.com/docs/ac/ams/payment_cashier) API 请求参数中 `_paymentMethod.paymentMethodType` 字段的枚举值 `MIXEDCARD` 修改为 `CARD`。

2022年9月23日
==============

在线支付
---------

*   添加了[获取（收银台支付）](https://global.alipay.com/docs/ac/ams/capture) API。
*   添加了[通知获取（收银台支付）](https://global.alipay.com/docs/ac/ams/notify_capture) API。
*   在[通知支付](https://global.alipay.com/docs/ac/ams/paymentrn_online) API的请求参数中添加了字段`cardInfo`和`acquirerReferenceNo`。
*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的响应参数中添加了字段`paymentOptions.paymentOptionDetail`。
*   在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的请求参数中添加了字段`merchantRegion`。
*   [支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中弃用了字段`paymentMethod.card`。

2022年9月2日
==============

在线支付
--------------

### What is Online Payment?

Online payment, also known as e-payment or digital payment, refers to the process of transferring funds electronically for goods or services purchased through the internet. It eliminates the need for physical cash or checks, providing a convenient and secure way to transact.

### How does it work?

1. **Transaction Initiation**: The customer selects items on an e-commerce website and proceeds to the checkout.
2. **Payment Gateway**: The payment gateway, such as Alipay, is integrated into the merchant's website. It securely encrypts the customer's payment information.
3. **Authorization**: The customer enters their payment details, and the gateway sends a request to the payment processor.
4. **Processing**: The processor checks the cardholder's account and verifies the transaction.
5. **Approval/Denial**: If the funds are available, the transaction is approved; otherwise, it's denied.
6. **Funds Transfer**: Approved funds are transferred from the customer's account to the merchant's account.
7. **Transaction Completion**: The merchant confirms the payment, and the customer receives a receipt.

### Key Components

1. **Merchant**: The business selling goods or services.
2. **Customer**: The individual making the purchase.
3. **Payment Gateway**: Facilitates the transfer of payment data between the merchant and the payment processor.
4. **Payment Processor**: Links the payment gateway to the card networks and banks.
5. **Card Networks**: Like Visa, Mastercard, or UnionPay, which process transactions.
6. **Issuing Bank**: The bank that issued the customer's payment card.
7. **Acquiring Bank**: The bank that processes transactions for the merchant.

### Security Measures

- **SSL Encryption**: Ensures data is securely transmitted.
- **Two-Factor Authentication (2FA)**: Adds an extra layer of security by requiring a second form of identification.
- **Tokenization**: Replaces sensitive data with a unique identifier for storage and processing.
- **Fraud Detection Tools**: Monitor transactions for suspicious activity.

### Benefits

- **Convenience**: 24/7 availability and quick transactions.
- **Global Reach**: Ability to reach customers worldwide.
- **Reduced Costs**: Lower transaction fees compared to traditional methods.
- **Improved Efficiency**: Automation speeds up the payment process.

### Challenges

- **Security Risks**: Data breaches and cyberattacks.
- **Regulatory Compliance**: Adhering to strict financial regulations.
- **Technical Integration**: Ensuring smooth integration with various systems.
- **Customer Trust**: Building and maintaining trust in the online payment process.

### Examples

- **Alipay**: A leading online payment platform in China, offering services like mobile payments, online shopping, and bill payments.
- **PayPal**: A global payment solution allowing users to send and receive payments online.

### Conclusion

Online payments have revolutionized the way we buy and sell, offering speed, convenience, and global access. As technology advances, the industry continues to innovate, addressing security concerns and enhancing user experience.

* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的响应参数中，向字段 _paymentOptions.paymentMethodType_ 添加了枚举值。
* 在[咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier) API的响应参数中，新增了字段 _paymentOptions.paymentMethodCategory_。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，添加了字段 _paymentFactor_ 和 _paymentMethod.paymentMethodId_。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，向字段 _paymentMethod.paymentMethodType_ 添加了枚举值。
* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier) API的请求参数中，将字段 _card_ 作为子参数添加到了 _paymentMethodMetaData_ 字段中。

* 在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中添加了`merchantRegion`字段。
* 在[查询支付](https://global.alipay.com/docs/ac/ams/paymentri_online)API的响应参数中添加了`cardInfo`和`acquirerReferenceNo`字段。
* 在[退款](https://global.alipay.com/docs/ac/ams/refund_online)API的响应参数中添加了`acquirerReferenceNo`字段。
* 在[取消](https://global.alipay.com/docs/ac/ams/paymentc_online)API中添加了错误代码`ORDER_STATUS_INVALID`。
* 修改了[退款](https://global.alipay.com/docs/ac/ams/refund_online)和[取消](https://global.alipay.com/docs/ac/ams/paymentc_online)API中的错误代码`PAYMENT_METHOD_NOT_SUPPORTED`的名称。

2022年8月12日
===============

在线支付
---------

*   废弃了关于注册的API：**registration**、**notifyRegistrationStatus**、**inquiryRegistrationStatus**、**inquiryRegistrationInfo**。

2022年8月5日
===============

*   废弃了API的**数据字典**。

2022年7月30日
=============

在线支付
---------

*   在收银台支付和自动扣款中添加了Boost电子钱包。更多信息，请参阅以下文档：

    *   [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier)
    *   [支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)
    *   [咨询](https://global.alipay.com/docs/ac/ams/authconsult)
    *   [申请Token](https://global.alipay.com/docs/ac/ams/accesstokenapp)
    *   [支付（自动扣款）](https://global.alipay.com/docs/ac/ams/payment_agreement)

2022年7月20日
=============

在线支付
---------

*   在[退款](https://global.alipay.com/docs/ac/ams/refund_online)API中新增了两个错误代码`REFUND_NOT_SUPPORTED`和`PARTIAL_REFUND_NOT_SUPPORTED`。

2022年7月18日
=============

在线支付
--------

*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)API的请求参数中添加了_userRegion_字段，响应参数中添加了_paymentData_字段。

2022年7月8日
============

在线支付
--------

*   在[支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)和[支付（协议支付）](https://global.alipay.com/docs/ac/ams/payment_agreement)API中添加了_goodsCategory_字段。
*   在收银台支付中添加了Akulaku先买后付支付方式。更多信息，请参阅以下文档：

    *   [咨询（收银台支付）](https://global.alipay.com/docs/ac/ams/consult_cashier)
    *   [支付（收银台支付）](https://global.alipay.com/docs/ac/ams/payment_cashier)

2022年7月5日
============

在线支付
---------

*   更新了以下接口的错误代码：**咨询**、**申请令牌**、**撤销**、**支付（收银台支付）**、**支付（自动扣款）**、**支付通知**、**查询支付**、**取消**、**退款**、**查询退款**、**退款通知**、**申报**、**查询申报请求**。

店内支付
---------

*   更新了以下接口的错误代码：**支付（用户出示模式支付）**、**支付（订单码支付）**、**支付（入场码支付）**。

2022年5月20日
============

在线支付
---------

添加了`consult (Cashier Payment)`和`notifyRefund` API。

更新了`pay (Cashier Payment)` API：

*   在请求参数中添加了`paymentMethod.paymentMethodMetaData`字段。
*   在`paymentMethod.paymentMethodType`字段中添加了一些新的枚举值。
*   修改了`settlementStrategy.settlementCurrency`字段的描述。
*   添加了以下错误代码：

*   `无效的支付方式元数据`
*   `错误的BLIK码`
*   `结算合同不匹配`

更新了`notifyPayment`文档：

*   在`notifyType`字段中添加了新的枚举值`PAYMENT_PENDING`。

更新了`inquiryPayment`文档：

*   在`paymentStatus`字段中添加了新的枚举值`PENDING`。

更新了退款文档：

*   在请求参数中添加了`refundNotifyUrl`字段。
*   添加了错误代码：`REFUND_IN_PROCESS`

2022年4月1日
============

在线支付
---------

*   在以下接口的请求参数中添加了`merchantRegion`字段：

    *   pay（收银台支付）
    *   consult
    *   applyToken

店内支付
---------

*   在以下接口的请求参数中添加了`merchantRegion`字段：

    *   pay（用户出示模式支付）
    *   pay（订单码支付）
    *   pay（订单码支付）

2022年3月16日
============

在线支付
---------

2022年2月21日
============

在线支付
--------

*   在**查询支付**接口的响应参数中添加了 `_redirectActionForm_` 字段。

2022年2月15日
============

在线支付
--------

*   在**支付（自动扣款）**文档中添加了 `USER_NOT_EXIST` 错误代码。

2022年1月19日
============

在线支付
--------

**更新了** **_pay_** **_(_****_自动扣款_****_)_** **文档：**

*   移除了以下字段：

*   请求参数：

    *   merchant.store
    *   order.env.storeTerminalId
    *   order.env.storeTerminalRequestTime
    *   payToMethod
    *   paymentMethod.paymentMethodMetaData
    *   isAuthorization
    *   paymentVerificationData
    *   paymentFactor

*   响应参数：

    *   authExpiryTime
    *   challengeActionForm
    *   redirectActionForm
    *   orderCodeForm

*   将以下字段从可选修改为必填：

*   请求参数：

    *   paymentMethod.paymentMethodId
    *   env
    *   env.terminalType
    *   settlementStrategy.settlementCurrency

*   响应参数：

    *   result.resultMessage

*   添加了以下错误代码：

    *   INVALID_MERCHANT_STATUS
    *   MERCHANT_KYB_NOT_QUALIFIED
    *   USER_PAYMENT_VERIFICATION_FAILED

*   删除了以下错误代码：

    *   USER_NOT_EXIST
    *   ORDER_NOT_EXIST

**更新了** **_notifyPayment_** **文档：**

*   删除了以下字段：

    *   请求参数：

        *   notifyType: OFFLINE_PAYMENT_CODE
        *   result.resultStatus: U

*   将以下字段从可选修改为必需：

    *   请求参数：

        *   paymentCreateTime
        *   paymentId
        *   result.resultMessage

*   添加了 _pay (Cashier Payment)_ 和 _pay (Auto Debit)_ 的错误代码。

**更新了** **_inquiryPayment_** **文档：**

*   删除了以下字段：

    *   响应参数：

*   authExpiryTime
*   redirectActionForm
*   交易.transactionType: 支付, 取消, 授权, 捕获, 作废
*   交易时间

*   将以下字段从可选改为必需:

*   响应参数:

*   result
*   result.resultMessage
*   交易.transactionId

*   添加了以下两个结果代码表:

*   支付结果代码
*   交易结果代码

*   删除了以下错误代码:

*   RISK\_REJECT
*   USER\_KYC\_NOT\_QUALIFIED

**更新了** **_取消_** **文档:**

*   将以下字段从可选改为必需:

*   响应参数:

*   result.resultMessage

**更新了** **_退款_** **文档:**

*   将以下字段从可选改为必需:

*   响应参数:

*   result.resultMessage

*   添加了以下错误代码:

*   INVALID\_MERCHANT\_STATUS
*   ORDER\_IS\_CLOSED  

**更新了** **_查询退款_** **文档:**

*   添加了以下字段：

*   响应参数：

*   refundStatus: 失败

*   删除了以下错误代码：

*   RISK_REJECT
*   MERCHANT_NOT_REGISTERED
*   INVALID_CONTRACT

*   添加了退款结果代码表。

**更新了** **_咨询_** **文档：**

*   将以下字段从可选更改为必需：

*   响应参数：

*   result.resultMessage

*   添加了以下错误代码：

*   INVALID_CLIENT_STATUS
*   OAUTH_FAILED
*   UNKNOWN_CLIENT

**更新了** **_申请Token_** **文档：**

*   将以下字段从可选更改为必需：

*   响应参数：

*   result.resultMessage

*   添加了以下错误代码：

*   INVALID_CLIENT_STATUS
*   OAUTH_FAILED
*   UNKNOWN_CLIENT
*   USER_NOT_EXIST
*   USER_STATUS_ABNORMAL

**更新了** **_撤销_** **文档：**

*   将以下字段从可选更改为必需：

*   响应参数：

*   result.resultMessage

*   添加了以下错误代码：

*   CLIENT\_FORBIDDEN\_ACCESS\_API
*   INVALID\_CLIENT\_STATUS
*   OAUTH\_FAILED
*   UNKNOWN\_CLIENT  

2022年1月5日
===============

在线支付
--------------

*   在以下接口中添加了\_grossSettlementAmount_和\_settlementQuote_字段：

*   notifyPayment
*   inquiryPayment
*   refund
*   inquiryRefund

*   更新了\_pay_（_收银台支付_）文档：
*   添加了以下错误代码：

*   INVALID\_MERCHANT\_STATUS
*   MERCHANT\_KYB\_NOT\_QUALIFIED
*   NO\_PAY\_OPTIONS

*   移除了以下错误代码：

*   SUCCESS
*   ORDER\_NOT\_EXIST  

店内支付
-------------

*   在**inquiryRefund**接口中添加了\_grossSettlementAmount_和\_settlementQuote_字段。

**更新了** **_pay (用户出示模式支付)_** **文档：**

*   移除了以下字段：

*   请求参数：

*   isAuthorization
*   paymentFactor.isPaymentEvaluation
*   paymentMethod.paymentMethodMetaData
*   paymentRedirectUrl
*   paymentVerificationData
*   payToMethod

*   响应参数:

*   authExpiryTime
*   challengeActionForm.challengeRenderValue
*   orderCodeForm

*   添加了 _settlementStrategy_ 字段。
*   将 _paymentMethod.paymentMethodId_ 字段从可选修改为必需。

**更新了** **_支付（订单代码支付）_** **文档:**

*   删除了以下字段:

*   请求参数:

*   isAuthorization
*   paymentFactor.isPaymentEvaluation
*   paymentMethod.paymentMethodMetaData
*   paymentVerificationData
*   payToMethod

*   响应参数:

*   authExpiryTime
*   challengeActionForm.challengeRenderValue

*   添加了 _settlementStrategy_ 字段。
*   将 _orderCodeForm_ 字段从可选修改为必需。

**更新了** **_支付（入口代码支付）_** **文档:**

*   删除了以下字段:

请求参数：

*   是否授权：isAuthorization
*   付款评估：paymentFactor.isPaymentEvaluation
*   支付方式元数据：paymentMethod.paymentMethodMetaData
*   支付验证数据：paymentVerificationData
*   支付到方法：payToMethod

响应参数：

*   授权过期时间：authExpiryTime
*   挑战动作表单：challengeActionForm.challengeRenderValue
*   订单代码表单：orderCodeForm

*   添加了 _settlementStrategy_ 字段。
*   将 _order.env_ 和 _order.env.userAgent_ 字段从可选改为必需。

2021年12月28日
===============

在线支付
--------

**更新了** **_pay (收银台支付)_** **文档：**

请求参数

*   删除以下字段：

*   商户店铺：merchant.store
*   订单环境中的商店终端ID：order.env.storeTerminalId
*   订单环境中的商店终端请求时间：order.env.storeTerminalRequestTime
*   支付到方法：payToMethod
*   支付方式ID：paymentMethod.paymentMethodId
*   支付方式元数据：paymentMethod.paymentMethodMetaData
*   是否授权：isAuthorization
*   支付验证数据：paymentVerificationData
*   付款因素：paymentFactor

*   将以下字段从可选改为必需：

*   订单环境：order.env
*   结算货币：settlementStrategy.settlementCurrency

响应参数

* 移除了以下字段：

  * result.resultStatus: S
  * paymentTime
  * authExpiryTime
  * challegeActionForm
  * redirectActionForm.method: SCAN
  * orderCodeForm.paymentMethodType
  * settlementQuote
  * grossSettlementAmount

* 将以下字段从可选修改为必需：

  * orderCodeForm.expireTime
  * orderCodeForm.codeDetails
  * result.resultMessage

* 在**applyToken**接口中添加了_userLoginId_字段。
* 在**pay**（收银台支付）和**pay**（自动扣款）接口中添加了以下字段：

  * schemeUrl
  * applinkUrl
  * normalUrl
  * appIdentifier

* 在以下API中添加了新的枚举值`BPI`和`RABBIT_LINE_PAY`：

  * pay（收银台支付）: paymentMethod.paymentMethodType

* 在以下API中添加了新的枚举值`RABBIT_LINE_PAY`：

  * pay（自动扣款）: paymentMethod.paymentMethodType
  * consult: customerBelongsTo
  * applyToken: customerBelongsTo

请注意，以上翻译保留了原始Markdown格式，并未翻译JSON键，且保留了空白行。

2021年10月26日
===============

在线支付
--------

*   在在线支付中添加了以下新API：

    *   notifyAuthorization
    *   inquiryRefund
    *   declare
    *   inquiryDeclarationRequests

店内支付
--------

*   在店内支付中添加了以下新API：

    *   inquiryRefund

2021年8月12日
===============

在线支付
--------

*   移除了**inquiryUserInfo**接口。
*   在**pay**（自动扣款）接口中添加了_paymentNotifyUrl_字段。

2021年8月9日
==============

在线支付
--------

*   在**refund**接口中添加了`MULTIPLE_REFUNDS_NOT_SUPPORTED`错误代码。

店内支付
--------

*   在**refund**接口中添加了`MULTIPLE_REFUNDS_NOT_SUPPORTED`错误代码。

2021年7月30日
=============

在线支付
--------

*   从以下API中移除了_orderCodeForm.codeDetails.codeValueType_字段：

    *   pay（收银员支付）
    *   pay（自动扣款）

2021年7月23日
============

在线支付
---------

*   在以下API中添加了错误代码`USER_KYC_NOT_QUALIFIED`：

    *   收银台支付
    *   自动扣款支付
    *   通知支付
    *   查询支付

*   对于以下接口，将_orderCodeForm.codeDetails_字段从必填改为可选：

    *   收银台支付
    *   自动扣款支付  

店内支付
---------

*   在以下API中添加了USER\_KYC\_NOT\_QUALIFIED错误代码：

    *   用户出示模式支付
    *   订单码支付
    *   入口码支付
    *   通知支付
    *   查询支付

*   对于以下接口，将_orderCodeForm.codeDetails_字段从必填改为可选：

    *   用户出示模式支付
    *   入口码支付

2021年5月19日
============

在线支付
---------

*   从相应产品中移除了以下文档：

*   结算项目
*   结算汇总
*   交易项目

例如，您可以在“收银台支付”>“报表和对账”>“结算项目”([https://global.alipay.com/docs/ac/cashierpayment/settlementitems\_online](https://global.alipay.com/docs/ac/cashierpayment/settlementitems_online)) 查看详细信息。

店内支付
--------

*   从相关产品中移除了以下文档：

*   结算项目
*   结算汇总
*   交易项目

例如，您可以在“用户出示模式支付”>“结算与对账”>“结算项目”([https://global.alipay.com/docs/ac/ams\_upm/settlementitems](https://global.alipay.com/docs/ac/ams_upm/settlementitems)) 查看详情。

*   术语更名：

*   消费者出示模式支付 -> 用户出示模式支付

2021年4月9日
============

在线支付
--------

*   添加了新字段和枚举（appId 和 MINI\_APP）到以下API：

  *   pay（收银台支付）
  *   pay（自动扣款）
  *   咨询

2021年3月8日
============

在线支付
---------

*   在《结算汇总》文件中移除了以下字段：

  *   transactionAmountValue
  *   transactionCurrency

店内支付
---------

*   在《结算汇总》文件中移除了以下字段：

  *   transactionAmountValue
  *   transactionCurrency

*   在以下API中移除了错误代码INVALID\_CODE：

  *   pay（用户出示模式支付）
  *   pay（订单码支付）
  *   pay（入口码支付）

*   在**pay**（用户出示模式支付）接口中添加了`INVALID_PAYMENT_CODE`错误代码。

2021年2月26日
================

在线支付
---------

*   在**在线支付**中添加了以下新API：

  *   registration
  *   notifyRegistrationStatus
  *   inquiryRegistrationStatus
  *   inquiryRegistrationInfo

店内支付
------------

*   在 _店内支付_ 中添加了以下新API：

    *   注册
    *   通知注册状态
    *   查询注册状态
    *   查询注册信息

2020年8月20日
===============

在线支付
------------

*   从 **notifyPayment** 接口移除了 `PROCESS_FAIL`、`REQUEST_TRAFFIC_EXCEED_LIMIT` 和 `PARAM_ILLEGAL` 结果代码。
*   为 **applyToken** 接口添加了 `USER_NOT_EXIST` 和 `USER_STATUS_ABNORMAL` 结果代码。

2020年7月30日
===============

在线支付
------------

*   更新了《结算项目》文件中 _transactionId_、_originalTransactionId_ 和 _originalTransactionRequestId_ 字段的描述，以包含授权/捕获场景。
*   更新了《交易项目》文件中 _transactionId_、_originalTransactionId_ 和 _originalTransactionRequestId_ 字段的描述，以包含授权/捕获场景。

2020年6月9日
============

在线支付
---------

*   移除了 **applyToken** 接口关于 _extend_ 字段的注释。
*   更新了《结算项目》、《结算汇总》和《交易项目》文件中无交易存在情况下的文件名。
*   为 **pay** 接口添加了以下错误代码：

    *   USER\_NOT\_EXIST
    *   NO\_PAY\_OPTION
    *   PAYMENT\_NOT\_EXIST
    *   ORDER\_NOT\_EXIST
    *   ORDER\_IS\_CLOSED

*   为 **notifyPayment** 接口添加了以下错误代码：

    *   ORDER\_IS\_CLOSED

*   在以下接口中添加了`creditPayPlan`字段：

    *   pay（收银台支付）
    *   pay（自动扣款支付）

店内支付
--------

*   对**notifyPayment**接口进行了以下修改：

    *   对于状态失败或未知的支付流程，不再向商家返回通知。

*   对**pay**（用户出示模式支付）接口进行了以下修改：

    *   对`order`字段提供了额外的说明。
    *   为**pay**接口添加了以下错误代码：

        *   USER\_NOT\_EXIST
        *   NO\_PAY\_OPTION
        *   PAYMENT\_NOT\_EXIST
        *   ORDER\_NOT\_EXIST
        *   ORDER\_IS\_CLOSED

*   为**notifyPayment**接口添加了以下错误代码：

    *   ORDER\_IS\_CLOSED

2020年4月30日
-------------

在线支付
--------

*   在以下接口中添加了`settlementStrategy`字段：

    *   pay（收银台支付）
    *   pay（自动扣款支付）

*   添加了 _originalTransactionRequestId_ 到以下文件：

    *   结算项目
    *   交易项目

店内支付
--------

*   添加了 _originalTransactionRequestId_ 到以下文件：

    *   结算项目
    *   交易项目

2020年4月17日
==============

在线支付 & 店内支付
--------------------

*   从以下接口中移除了 _actualPaymentAmount_ 和 _paymentQuote_ 字段：

    *   pay（收银台支付）
    *   pay（协议支付）
    *   pay（用户出示模式支付）
    *   pay（订单码支付）
    *   pay（入口码支付）
    *   notifyPayment
    *   inquiryPayment

店内支付
--------

*   修改了以下接口的 _paymentExpiryTime_ 字段描述：

    *   pay（订单码支付）
    *   pay（入口码支付）

2020年3月20日
==============

在线支付
--------

*   移除了 **授权查询** 接口。

2020年3月12日
==============

在线支付
--------------

*   从**notifyPayment**接口中移除了以下结果代码：

    *   KEY\_NOT\_FOUND
    *   ACCESS\_DENIED
    *   API\_INVALID
    *   CLIENT\_INVALID
    *   METHOD\_NOT\_SUPPORTED
    *   MEDIA\_TYPE\_NOT\_ACCEPTABLE  

*   修改了以下内容，涉及“结算项目”文件名、“结算汇总”文件名和“交易项目”文件名：

    *   将settlementItems\_<settlementCurrency>\_<settlementBatchId>\_<seq>.csv 更新为settlementItems\_<pspName>\_<settlementCurrency>\_<settlementBatchId>\_<seq>.csv。
    *   将settlementSummary\_<settlementCurrency>\_<settlementBatchId>\_<seq>.csv 更新为settlementSummary\_<pspName>\_<settlementCurrency>\_<settlementBatchId>\_<seq>.csv。
    *   将transactionItems\_<transactionCurrency>\_<seq>.csv 更新为transactionItems\_<pspName>\_<transactionCurrency>\_<transactionDate>\_<seq>.csv。

店内支付
-------------

*   从**notifyPayment**接口中移除了以下结果代码：

*   键未找到
*   访问被拒绝
*   API无效
*   客户端无效
*   方法不支持
*   媒体类型不可接受

2020年3月3日
============

在线支付
---------

*   从**pay**，**notifyPayment**，**inquiryPayment**和**refund**接口中移除了以下参数：

    *   总结算金额
    *   结算汇率

店内支付
---------

*   更新了**pay**，**notifyPayment**，**inquiryPayment**和**refund**接口的以下参数：

    *   将_totalSettlementAmount_修改为_grossSettlementAmount_

2020年2月25日
==============

在线支付与店内支付
-------------------

*   添加到**pay**，**inquiryPayment**和**refund**接口响应中的以下参数：

    *   总结算金额
    *   结算汇率

*   添加到**notifyPayment**接口请求中的以下参数：

    *   总结算金额
    *   结算汇率

以下内容已添加到**查询支付**接口的请求中：

*   paymentResultCode
*   paymentResultMessage
*   transaction

2020年2月6日
------------

在线支付与店内支付
------------------

*   对于**结算项目**、**结算汇总**和**交易项目**的请求，进行了以下修改：

*   将_partnerId_改为_customerId_
*   移除了_extendInfo_

2020年2月4日
------------

在线支付与店内支付
------------------

*   对于**支付**接口的请求，进行了以下修改：

*   移除了_merchant_
*   移除了_env_
*   更新了_order_的子字段如下：

    *   添加了_merchant_字段
    *   添加了_env_字段

2020年1月20日
------------

店内支付
--------

*   在店内支付中添加了**入口码支付**。

在线支付与店内支付
-------------------

### 2019年12月30日

*   根据**pay**接口的要求，做了以下修改：

    *   将`paymentVerificationData`字段的长度修改为`/`
    *   添加注释，说明对于店内支付，子字段`merchant.merchantName`是必需的。

### 2019年12月25日

*   在**pay**接口的请求中，做了以下修改：

    *   添加了`merchant`
    *   添加了`env`
    *   更新了`order`的子字段如下：

        *   移除了`merchant`字段
        *   移除了`env`字段

### 2019年12月20日

店内支付
--------

*   对**pay**接口的请求做了以下修改：

    *   将`paymentNotifyUrl`更新为必填项。

*   从以下接口中移除了extendInfo字段：

*   支付（收银台支付）
*   支付（用户出示模式支付）
*   支付（订单码支付）
*   通知支付
*   查询支付
*   取消
*   退款
*   咨询
*   申请Token
*   撤销
*   授权查询

2019年11月14日
===============

线上支付与店内支付
-------------------

*   更新了《数据字典》中的以下内容：

*   更新了`DisplayType`中的`MIDDLEIMAGE`值的`IMAGE`。

2019年11月12日
===============

线上支付与店内支付
-------------------

*   在以下接口中将结果代码`INVALID_API`修改为`API_INVALID`，将结果代码`INVALID_CLIENT`修改为`CLIENT_INVALID`：

*   支付（收银台支付）
*   支付（用户出示模式支付）
*   支付（订单码支付）
*   通知支付
*   查询支付
*   取消
*   退款
*   咨询
*   申请Token
*   撤销
*   授权查询

*   更新了**pay**接口的响应内容：

    *   删除了_paymentActionForm_
    *   添加了challengeActionForm
    *   添加了redirectActionForm
    *   添加了orderCodeForm

*   更新了**pay**接口的请求内容：

    *   order.referenceOrderId: 更新为可选参数

*   更新了**notifyPayment**接口的请求内容：

    *   移除了paymentCodeForm

*   更新了**inquiryPayment**接口的响应内容：

    *   移除了paymentActionForm
    *   添加了redirectActionForm

2019年11月6日
===============

在线支付与店内支付
-------------------

*   对以下接口的`INVALID_SIGNATURE`结果代码修改为`SIGNATURE_INVALID`：

    *   pay（收银台支付）
    *   pay（用户出示模式支付）
    *   pay（订单码支付）
    *   notifyPayment
    *   inquiryPayment
    *   cancel
    *   refund
    *   consult
    *   applyToken
    *   revoke
    *   授权查询

2019年10月24日
===============

在线支付与店内支付
-------------------

*   对**pay**接口的请求进行了以下修改：

    *   移除了 _payToAmount_
    *   移除了 _paymentQuote_
    *   更新了 _paymentAmount_ 的描述，并将其设为必填字段
    *   更新了 _paymentFactor_ 的子字段

*   对**pay**接口的响应进行了以下修改：

    *   移除了 _payToAmount_
    *   更新了 _paymentQuote_ 的描述
    *   更新了 _paymentAmount_ 的描述，并将其设为必填字段
    *   添加了 _actualPaymentAmount_
    *   移除了 _nonGuaranteeCouponValue_

*   对**notifyPayment**接口的请求进行了以下更新：

    *   移除了 _payToAmount_
    *   更新了 _paymentQuote_ 的描述
    *   更新了 _paymentAmount_ 的描述，并将其设为必填字段
    *   添加了 _actualPaymentAmount_
    *   移除了 _nonGuaranteeCouponValue_

* 对**查询支付**接口的响应进行了以下修改：

  * 更新了`paymentAmount`的描述，并将其设为必填字段
  * 移除了`payToAmount`
  * 添加了`actualPaymentAmount`
  * 更新了`paymentQuote`
  * 移除了`nonGuaranteeCouponValue`

* 对**取消**接口的请求进行了以下修改：

  * 添加了`paymentRequestId`

* 对**退款**接口的请求进行了以下修改：

  * 移除了`refundStrategyType`
  * 移除了`asyncRefund`
  * 添加了`isAsyncRefund`
  * 更新了`extendInfo`的长度为512个字符

要查看文档的最新更新，请访问[版本说明](https://global.alipay.com/docs/releasenotes)。

![图片 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png) ![图片 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)

#### 本页面是否有帮助？

#### 本页面内容

[2023年11月9日](#Rpm42 "2023年11月9日")

[店内支付](#FNhGQ "店内支付")

[2023年10月31日](#LR2zf "2023年10月31日")

[2023年8月31日](#4wrPB "2023年8月31日")

[在线支付](#hsZa5 "在线支付")

[2023年8月30日](#PSdyX "2023年8月30日")

[在线支付](#V7DjT "在线支付")

[2023年8月11日](#7zbqw "2023年8月11日")

[在线支付](#tfBNy "在线支付")

[2023年7月27日](#F4ZsU "2023年7月27日")

[在线支付](#i4U0N "在线支付")

[2023年7月26日](#sSIx1 "2023年7月26日")

[在线支付](#qku0Y "在线支付")

[2023年6月25日](#YoZ2J "2023年6月25日")

[在线支付](#PLmBi "在线支付")

[2023年5月31日](#5AGSQ "2023年5月31日")

[在线支付](#vD11v "在线支付")

[2023年4月28日](#FiNt3 "2023年4月28日")

[在线支付](#qhOu1 "在线支付")

[2023年4月7日](#Nh9F2 "2023年4月7日")

[在线支付](#CWaTK "在线支付")

[2023年4月6日](#S2PyZ "2023年4月6日")

[在线支付](#6SuFP "在线支付")

[2023年3月22日](#LKhvp "2023年3月22日")

[在线支付](#A9qsH "在线支付")

[2023年3月21日](#jbIng "2023年3月21日")

[在线支付](#sNebG "在线支付")

[店内支付](#pN8U2 "店内支付")

[2023年3月14日](#1w5EB "2023年3月14日")

[在线支付](#J5YJZ "在线支付")

[2023年3月2日](#YllLW "2023年3月2日")

[在线支付](#z4BLf "在线支付")

[2023年3月1日](#6A3Km "2023年3月1日")

[在线支付](#WDqm3 "在线支付")

[2023年2月17日](#RTCub "2023年2月17日")

[在线支付](#fVYAv "在线支付")

[2023年2月14日](#yQMfJ "2023年2月14日")

[在线支付](#drfDm "在线支付")

[2023年2月8日](#l1lUO "2023年2月8日")

[在线支付](#GZZvW "在线支付")

[2023年2月7日](#jc8Je "2023年2月7日")

在线支付

[2023年1月19日](#5ld5A "2023年1月19日")

在线支付

[2023年1月13日](#mLyQ9 "2023年1月13日")

在线支付

[2022年12月30日](#G6cyX "2022年12月30日")

在线支付

[2022年12月26日](#905Xg "2022年12月26日")

在线支付

[2022年12月12日](#4PEdv "2022年12月12日")

在线支付

[2022年11月29日](#Cjqzj "2022年11月29日")

在线支付

[2022年11月24日](#yLZMo "2022年11月24日")

在线支付

[2022年11月18日](#Tuf8E "2022年11月18日")

在线支付

[2022年10月20日](#7VWCn "2022年10月20日")

在线支付

[2022年10月18日](#EpuJ7 "2022年10月18日")

在线支付

[2022年9月23日](#vhTAW "2022年9月23日")

[在线支付](#Q1wyk "在线支付")

[2022年9月2日](#cuvUf "2022年9月2日")

[在线支付](#WdS3S "在线支付")

[2022年8月12日](#mUqhK "2022年8月12日")

[在线支付](#q50ce "在线支付")

[2022年8月5日](#8T8Q0 "2022年8月5日")

[2022年7月30日](#42Om8 "2022年7月30日")

[在线支付](#ZMDSj "在线支付")

[2022年7月20日](#IcdiO "2022年7月20日")

[在线支付](#JBnYT "在线支付")

[2022年7月18日](#yHnFG "2022年7月18日")

[在线支付](#QryDP "在线支付")

[2022年7月8日](#cwtG1 "2022年7月8日")

[在线支付](#YkEGW "在线支付")

[2022年7月5日](#h0xua "2022年7月5日")

[在线支付](#Wehdc "在线支付")

[店内支付](#Clgk0 "店内支付")

[2022年5月20日](#84lSp "2022年5月20日")

[在线支付](#GoVVY "在线支付")

[2022年4月1日](#AVIS1 "2022年4月1日")

[在线支付](#uu1um "在线支付")

[店内支付](#MGVyo "店内支付")

[2022年3月16日](#J4z6M "2022年3月16日")

[在线支付](#24vZy "在线支付")

[2022年2月21日](#bZ6PX "2022年2月21日")

[在线支付](#6NKvl "在线支付")

[2022年2月15日](#wPvTS "2022年2月15日")

[在线支付](#pnA2W "在线支付")

[2022年1月19日](#ytJNH "2022年1月19日")

[在线支付](#MOgLu "在线支付")

[2022年1月5日](#JGYRq "2022年1月5日")

[在线支付](#QzMNP "在线支付")

[店内支付](#WnMdB "店内支付")

[2021年12月28日](#y5XRr "2021年12月28日")

[在线支付](#sz08P "在线支付")

[2021年10月26日](#Q1ZJV "2021年10月26日")

[在线支付](#kzVcO "在线支付")

[店内支付](#m9hmH "店内支付")

[2021年8月12日](#Iv6uR "2021年8月12日")

[在线支付](#FrHGf "在线支付")

[2021年8月9日](#To2K6 "2021年8月9日")

[在线支付](#ljJhL "在线支付")

[店内支付](#qIQUS "店内支付")

[2021年7月30日](#Bkni0 "2021年7月30日")

[在线支付](#jDIUB "在线支付")

[2021年7月23日](#9BHfu "2021年7月23日")

[在线支付](#m1Fzk "在线支付")

[店内支付](#3F5XU "店内支付")

[2021年5月19日](#5bqiI "2021年5月19日")

[在线支付](#U688J "在线支付")

[店内支付](#dOBQR "店内支付")

[2021年4月9日](#zjvov "2021年4月9日")

[在线支付](#p3b06 "在线支付")

[2021年3月8日](#SguyJ "2021年3月8日")

[在线支付](#Uk3IU "在线支付")

[店内支付](#eT87K "店内支付")

[2021年2月26日](#u7vP5 "2021年2月26日")

[在线支付](#Hwxun "在线支付")

[店内支付](#by2IH "店内支付")

[2020年8月20日](#juHyH "2020年8月20日")

[在线支付](#fPscU "在线支付")

[店内支付](#xi0WB "店内支付")

[2020年7月30日](#nOJVf "2020年7月30日")

[在线支付](#78Q0q "在线支付")

[2020年6月9日](#p4awN "2020年6月9日")

[在线支付](#DKw5K "在线支付")

[店内支付](#cLz1f "店内支付")

[2020年4月30日](#sf63k "2020年4月30日")

[在线支付](#xHj7b "在线支付")

[店内支付](#dDnUF "店内支付")

[2020年4月17日](#MkopJ "2020年4月17日")

[在线支付及店内支付](#dQdVz "在线支付及店内支付")

[店内支付](#bKvkx "店内支付")

[2020年3月20日](#DJsV0 "2020年3月20日")

[在线支付](#DB4jS "在线支付")

[2020年3月12日](#t5nHa "2020年3月12日")

[在线支付](#HD1uE "在线支付")

[店内支付](#Qx3wt "店内支付")

[2020年3月3日](#HcjwU "2020年3月3日")

[在线支付](#C0WrU "在线支付")

[店内支付](#XAaLt "店内支付")

[2020年2月25日](#ebjuq "2020年2月25日")

[在线支付及店内支付](#cIea2 "在线支付及店内支付")

[2020年2月6日](#2pCBN "2020年2月6日")

[在线支付与店内支付](#IL99J "在线支付与店内支付")

[2020年2月4日](#aU2Rs "2020年2月4日")

[在线支付与店内支付](#2QHMy "在线支付与店内支付")

[2020年1月20日](#30jJS "2020年1月20日")

[店内支付](#LWOSQ "店内支付")

[2020年1月15日](#OXDcl "2020年1月15日")

[在线支付与店内支付](#bKdxT "在线支付与店内支付")

[2019年12月30日](#XLw3K "2019年12月30日")

[在线支付与店内支付](#G9gvL "在线支付与店内支付")

[2019年12月25日](#R1TW6 "2019年12月25日")

[店内支付](#XOjsn "店内支付")

[2019年12月20日](#WBaJj "2019年12月20日")

[在线支付与店内支付](#JRvma "在线支付与店内支付")

[2019年11月14日](#BX7Sd "2019年11月14日")

[在线支付与店内支付](#c4tO8 "在线支付与店内支付")

[2019年11月12日](#fAFR8 "2019年11月12日")

[在线支付与店内支付](#UcElY "在线支付与店内支付")

[2019年11月6日](#XtBuM "2019年11月6日")

[在线支付与店内支付](#6rf5W "在线支付与店内支付")

[2019年10月24日](#OnX8v "2019年10月24日")

[在线支付与店内支付](#I43Tq "在线支付与店内支付")