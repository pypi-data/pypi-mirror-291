Notifications | Scan to Bind | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fscantopay_en%2Fnotification)

[Go to Homepage](../../)

Scan to Bind

[Overview](/docs/ac/scantopay_en/overview)

Integration guide

After payments

[Cancel](/docs/ac/scantopay_en/cancel_cn)

[Refund](/docs/ac/scantopay_en/refund)

[Notifications](/docs/ac/scantopay_en/notification)

[Reconciliation](/docs/ac/scantopay_en/settle_reconcile)

Notifications
=============

2024-04-07 10:59

Learn about how to integrate notification interfaces provided by Alipay.

Features
========

The supported products and description of these notifications are shown in the following table:



| **Notification** **interfaces** | **Cashier Payment** | **Auto Debit** | **Easy Pay** | **Scan to bind** | **User-presented Mode Payment** | **Order Code Payment** | **Entry Code Payment** | **Description** |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [notifyAuthorization](https://global.alipay.com/docs/ac/ams/notifyauth) | ❌ | ✔️ | ✔️ | ✔️ | ❌ | ❌ | ❌ | Sends the authorization result to you when the authorization succeeds or when the authorization cancellation succeeds. The parameter *authorizationNotifyType* indicates the type of the authorization notification.* `AUTHCODE_CREATED`: indicates a successful authorization. * `TOKEN_CANCELED`: indicates a canceled authorization. |
| [notifyPayment](https://global.alipay.com/docs/ac/ams/paymentrn_online) | ✔️ | ✔️ | ✔️ | ✔️ | ✔️ | ✔️ | ✔️ | Sends the payment result to you when the payment processing reaches a final state of success or failure. The parameter *result.resultStatus* indicates the payment result.* `S`: indicates the payment is successful when *notifyType* is `PAYMENT_RESULT`; indicates the payment is being processed when *notifyType* is `PAYMENT_PENDING`. * `F`: indicates the payment is failed. |
| [notifyCapture](https://global.alipay.com/docs/ac/ams/notify_capture) | ✔️ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | Sends the capture result to you when the capture processing reaches a final state of success or failure. The parameter *result.resultStatus* indicates the capture result.* `S`: indicates a successful capture. * `F`: indicates a failed capture. |
| [notifyDispute](https://global.alipay.com/docs/ac/ams/notify_dispute) | ✔️ | ✔️ | ✔️ | ✔️ | ❌ | ❌ | ❌ | Sends the dispute information to you. The parameter *disputeNotificationType* indicates the type of the dispute notification.* `DISPUTE_CREATED`: indicates a created dispute. * `DISPUTE_JUDGED`: indicates a judged dispute. |
| [notifyRefund](https://global.alipay.com/docs/ac/ams/notify_refund) | ✔️ | ✔️ | ✔️ | ✔️ | ❌ | ❌ | ❌ | Sends the refund result to you when the refund processing reaches a final state of success or failure. The parameter *refundstatus* indicates the refund result.* `S`: indicates a successful refund. * `F`: indicates a failed refund. |



Table 1. Capabilities of notifications

Configure receiving address
===========================

You can configure the receiving address of each notification via an interface or in Antom Dashboard. If you use both ways to specify the address, the URL configured in the API takes precedence.



| **Notification** **interface** | **Configure in API** | **Configure in Antom Dashboard** |
| --- | --- | --- |
| [notifyAuthorization](https://global.alipay.com/docs/ac/ams/notifyauth) | - | Edit **Notification URL** in the **Integration Settings** tab of Antom Dashboard:imageFigure 1. Configure the receiving address in Antom Dashboard |
| [notifyPayment](https://global.alipay.com/docs/ac/ams/paymentrn_online) | Specify the *paymentNotifyUrl* field in the [**pay**](https://global.alipay.com/docs/ac/ams/payment_cashier) API. |
| [notifyCapture](https://global.alipay.com/docs/ac/ams/notify_capture) | Specify the *paymentNotifyUrl* field in the [**pay**](https://global.alipay.com/docs/ac/ams/payment_cashier)API. |
| [notifyDispute](https://global.alipay.com/docs/ac/ams/notify_dispute) | - |
| [notifyRefund](https://global.alipay.com/docs/ac/ams/notify_refund) | Specify the *refundNotifyUrl* field in the [**refund**](https://global.alipay.com/docs/ac/ams/refund_online)API. |



Table 2. Receiving address configuration

Process the notification
========================

1\. Verify the signature
------------------------

The result notification from Alipay is signed by Alipay. It is recommended to verify the signature and check whether the notification is sent by Alipay. You can verify the signature by yourself or by using Alipay SDK.

To verify the signature by yourself, see [Sign a request and validate the signature](https://global.alipay.com/docs/ac/ams/digital_signature#x6Le8). To use Alipay SDK, specify the values for the corresponding parameters in the `SignatureTool.verify` method provided in [SDKs](https://global.alipay.com/docs/sdks):

copy

    boolean isSuccess = SignatureTool.verify(httpMethod, path, clientId, rspTimeStr, rspBody, signature, alipayPublicKey);

The value of _signature_ is from the notification header. The following example shows a notification header:

copy

    "Content-Type": "application/json", "Request-Time": "2019-07-12T12:08:56+05:30", "client-id": "T_111222333", "Signature": "algorithm=RSA256,keyVersion=1,signature=jTOHqknjk%2fnDjEn8lfg%2beNODdoh2eHGJV%2blvrKaDwP782WxJ7ro49giqUu23MUM8sFVVNvhg32qHS3sd4O6uf5kAVLqztqNOPJFZcjw141EVi1vrs%2bIB4vU0%2fK%2f8z2GyWUByh2lHOWFsp%2b5QKCclXp%2bjacYqWYUur5IVbuebR1LoD5IiJ7u7J9qYriFxodkxmIAJYJyJs7mks2FWHh2YePLj3K%2f4B65idy7RBKqY1NN1XcvqnbQmlfCH8CIv75bg%2fr9sGmPE5a%2bYgL8N9Q41buGwMSq1IcNsbceMbyPhw5Z5HnJ7tPz12fvdSi0cEicPikDthQ2EQFmtpntXcAc%2fHA%3d%3d"

2\. Return a receipt acknowledgment message
-------------------------------------------

After verifying the signature and confirming that the notification is from Alipay, you need to return a receipt acknowledgment message to Alipay to inform Alipay of a successful receipt of the notification. **No digital signature is required for the process of returning a receipt acknowledgment message.**

The example below shows the header of the message you send to Alipay:

copy

    "Content-Type": "application/json", "response-time": "2019-07-12T12:08:56+05:30", "client-id": "T_111222333",

The example below shows the body of the message you send to Alipay:

copy

    {  "result": {     "resultCode":"SUCCESS",     "resultStatus":"S",     "resultMessage":"success"  } }

If no such message is returned to Alipay due to operation or network issues, Alipay will automatically resend the asynchronous notification within 24 hours for up to seven times or until the correct response is received. The sending intervals are as follows: 0s, 2 min, 10 min, 10 min, 1 h, 2 h, 6 h, and 15 h.

> **Note:** Record the processed notifications received from Alipay for a payment request, and properly handle the idempotency to avoid processing a single request multiple times.

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 4](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 5](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?

#### On this page

[Features](#wOOIg "Features")

[Configure receiving address](#CjFP8 "Configure receiving address")

[Process the notification](#JtjSl "Process the notification")

[1\. Verify the signature](#CQeW3 "1. Verify the signature")

[2\. Return a receipt acknowledgment message](#vQK5A "2. Return a receipt acknowledgment message")