consult (Checkout Payment) | Product APIs | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fconsult)

[Go to Homepage](../../)

Product APIs

[Alipay APIs](/docs/ac/ams/api)

Online payments

Authorization

Vault

Payment

[consult (Checkout Payment)](/docs/ac/ams/consult)

[pay (Checkout Payment)](/docs/ac/ams/payment_cashier)

[createPaymentSession (Checkout Payment)](/docs/ac/ams/session_cashier)

[capture (Checkout Payment)](/docs/ac/ams/capture)

[pay (Auto Debit)](/docs/ac/ams/payment_agreement)

[createPaymentSession (EasySafePay)](/docs/ac/ams/createpaymentsession_easypay)

[notifyPayment](/docs/ac/ams/paymentrn_online)

[notifyCapture (Checkout Payment)](/docs/ac/ams/notify_capture)

[inquiryPayment](/docs/ac/ams/paymentri_online)

[cancel](/docs/ac/ams/paymentc_online)

Subscription

Dispute

Refund

Declaration

In-store payments

consult (Checkout Payment)
==========================

2024-05-22 08:45

POST /v1/payments/consult

Use the **consult** API to initiate a payment consultation request to Alipay. This request is returned to the merchant with information on the different payment methods and its corresponding amount, country, currency, rules, and configuration.

The **consult** API enables merchants to:

*   Provide consumers with multiple payment methods without bearing any additional costs caused by a change in these payment methods, or managing the logic of selecting and sorting these payment methods.
*   Automate the selection and sorting of multiple payment methods.

Structure
=========

A message consists of a header and body. The following sections are focused on the body structure. For the header structure, see：

*   [Request header](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [Response header](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**Note**: Set the data type of each field (except array) as String. This means that you must use double quotation marks (" ") to enclose the field value. Examples:

*   If the data type of a field is Integer and its value is 20, set it as "20".
*   If the data type of a field is Boolean and its value is true, set it as "true".  

### Request parameters

Show all

#### productCode String  REQUIRED

Represents the payment product that is being used. The payment product that can be used is stipulated in the contract. The fixed value is:

*   `CASHIER_PAYMENT`: Indicates that this API is used for the Cashier Payment scenario.

More information about this field

*   Maximum length: 32 characters

#### paymentAmount Amount object REQUIRED

The payment amount that the merchant requests to receive in the order currency.

Show child parameters

#### userRegion String  

The 2-letter country or region code. For more information, see [ISO 3166 Country Codes](https://www.iso.org/obp/ui/#search) standard. The payment methods will be sorted based on payment method relevance for the given user's region.

More information about this field

*   Maximum length: 2 characters

#### merchantRegion String  

The country or region where the merchant operates the business. The parameter is a 2-letter country or region code that follows [ISO 3166 Country Codes](https://www.iso.org/obp/ui/#search) standard.

Some possible values are `US`, `SG`, `HK`, `PK`, `JP`, `CN`, `BR`, `AU`, and `MY`.

This parameter is required when you use the Global Acquirer Gateway (GAGW) product.

More information about this field

*   Maximum length: 2 characters

#### settlementStrategy SettlementStrategy object 

The settlement strategy.

Show child parameters

#### allowedPaymentMethodRegions Array<String>  

A list of region codes that represent the countries or regions of payment methods. The value of this parameter is a 2-letter [ISO country code](https://www.iso.org/obp/ui/#search) or `GLOBAL`.

Specify this parameter if you want available payment methods from specific regions to be returned. For example, if you pass in `GLOBAL`, global cards Visa and Mastercard are returned.

More information about this field

*   Maximum length: 6 characters

#### env Env object REQUIRED

Information about the environment where the order is placed, such as the device information.

Show child parameters

#### buyer Buyer object 

Buyer information.

Show child parameters

#### merchantAccountId String  

The unique ID to identify a merchant account.

Specify this parameter when you use a single client ID across multiple locations.

More information about this field

*   Maximum length: 32 characters

### Response parameters

Show all

#### result Result object REQUIRED

The request result that contains information such as status and error codes.

Note: This field doesn't indicate the payment result. This field only indicates whether the consult interface is called successfully.

Show child parameters

#### paymentOptions Array<PaymentOption> object 

The payment option list.

Show child parameters

API Explorer

Sample CodesRun in Sandbox

### Request

URL

North America

https://open-na-global.alipay.com/ams/api/v1/payments/consult

Request Body

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

{

"settlementStrategy": {

"settlementCurrency": "USD"

},

"productCode": "CASHIER\_PAYMENT",

"userRegion": "SG",

"allowedPaymentMethodRegions": \[

"HK",

"JP",

"CN",

"SG",

"MY",

"PH",

"ID",

"KR",

"TH"

\],

"env": {

"osType": "IOS",

"terminalType": "WAP"

},

"paymentAmount": {

"currency": "THB",

"value": "30000"

}

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Response

Response Body

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

102

103

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

171

172

173

174

175

176

177

178

179

180

181

182

183

184

185

186

187

188

189

190

191

192

193

194

195

196

197

198

199

200

201

202

203

204

205

206

207

208

209

210

211

212

213

214

215

216

217

218

219

220

221

222

223

224

225

226

227

228

229

230

231

232

233

234

235

236

237

238

239

240

241

242

243

244

245

246

247

248

249

250

251

252

253

254

255

256

257

258

259

260

261

262

263

264

265

266

267

268

269

270

271

272

273

274

275

276

277

278

279

280

281

282

283

284

285

286

287

288

289

290

291

292

293

294

295

296

297

298

299

300

301

302

303

304

305

306

{

"result": {

"resultStatus": "S",

"resultCode": "SUCCESS",

"resultMessage": "success."

},

"paymentOptions": \[

{

"paymentMethodRegion": \[

"BR"

\],

"installment": {

"plans": \[

{

"interestRate": "0.00",

"installmentNum": "2",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "3",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "4",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "5",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "6",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "7",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "8",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "9",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "10",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "11",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

},

{

"interestRate": "0.00",

"installmentNum": "12",

"interval": "MONTH",

"minInstallmentAmount": {

"currency": "BRL",

"value": "4000"

},

"enabled": true,

"maxInstallmentAmount": {

"currency": "BRL",

"value": "999999999900"

}

}

\],

"supportCardBrands": \[

{

"logo": {

"logoName": "AMEX",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /91418df3-a62b-47be-a3c4-9a40bb66f0c5.svg"

},

"cardBrand": "AMEX"

},

{

"logo": {

"logoName": "HIPERCARD",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /b2a364ef-0a94-4591-8eb6-749837ed4a12.svg"

},

"cardBrand": "HIPERCARD"

},

{

"logo": {

"logoName": "MASTERCARD",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/30

                  /593c0dd3-b12e-4578-8efb-17b85614f92c.svg"

},

"cardBrand": "MASTERCARD"

},

{

"logo": {

"logoName": "VISA",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /dfd471f3-da7d-4ef1-8486-cfa4301045c6.svg"

},

"cardBrand": "VISA"

},

{

"logo": {

"logoName": "ELO",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /ae2b5c32-ce7f-473c-b311-763563dc4145.svg"

},

"cardBrand": "ELO"

}

\]

},

"paymentMethodCategory": "CARD",

"paymentOptionDetail": {

"funding": \[

"CREDIT"

\],

"supportCardBrands": \[

{

"logo": {

"logoName": "AMEX",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /91418df3-a62b-47be-a3c4-9a40bb66f0c5.svg"

},

"cardBrand": "AMEX"

},

{

"logo": {

"logoName": "HIPERCARD",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /b2a364ef-0a94-4591-8eb6-749837ed4a12.svg"

},

"cardBrand": "HIPERCARD"

},

{

"logo": {

"logoName": "MASTERCARD",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/30

                  /593c0dd3-b12e-4578-8efb-17b85614f92c.svg"

},

"cardBrand": "MASTERCARD"

},

{

"logo": {

"logoName": "VISA",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /dfd471f3-da7d-4ef1-8486-cfa4301045c6.svg"

},

"cardBrand": "VISA"

},

{

"logo": {

"logoName": "ELO",

"logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26

                  /ae2b5c32-ce7f-473c-b311-763563dc4145.svg"

},

"cardBrand": "ELO"

},

{

"logo": {

"logoName": "DINERS",

"logoUrl": "https://gw.alipay.com/antom/icon/medium/default/DINERS

                  .svg"

},

"cardBrand": "DINERS"

}

\]

},

"logo": {

"logoName": "Card"

},

"paymentMethodType": "CARD",

"enabled": true

},

{

"paymentMethodRegion": \[

"BR"

\],

"paymentMethodCategory": "",

"logo": {

"logoName": "Pix",

"logoUrl": "https://resourcecenter-v2-internet-site-dev-s29001109997

            .alipay.net/antom/icon/medium/default/pix.svg"

},

"paymentMethodType": "PIX",

"enabled": true

},

{

"disableReason": "CURRENT\_CHANNEL\_NOT\_EXIST",

"paymentMethodRegion": \[

"PL"

\],

"logo": {

"logoName": "Blik",

"logoUrl": "https://gw.alipay.com/antom/icon/medium/default/blik.svg"

},

"paymentMethodType": "BLIK",

"enabled": false

},

{

"disableReason": "CURRENT\_CHANNEL\_NOT\_EXIST",

"paymentMethodRegion": \[

"HK",

"TH",

"KR",

"PH",

"ID",

"CN",

"MY"

\],

"logo": {

"logoName": "Alipay+",

"logoUrl": "https://cdn.marmot-cloud.com/storage/aplus-checkout-prod

            /icon/prod/CONNECT\_WALLET.png"

},

"paymentMethodType": "CONNECT\_WALLET",

"enabled": false

}

\]

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Result/Error codes

| Code | Value | Message | Further action |
| --- | --- | --- | --- |
| SUCCESS | S | Success | The consultation is successful. No further action is needed.
 |
| CURRENCY\_NOT\_SUPPORT | F | The currency is not supported. | Change the currency used in the request. If the issue persists, contact Alipay Technical Support for detailed reasons.

 |
| MERCHANT\_NOT\_REGISTERED | F | The merchant is not registered. | Please register the merchant by using the registration interface. Contact Alipay Technical Support if failed to call the registration interface.

 |
| NO\_PAY\_OPTIONS | F | No payment options are available. | 

Contact Antom Technical Support for detailed reasons.



 |
| PARAM\_ILLEGAL | F | The required parameters are not passed, or illegal parameters exist. For example, a non-numeric input, an invalid date, or the length and type of the parameter are wrong. | Check and verify whether the required request fields (including the header fields and body fields) of the current API are correctly passed and valid.

 |
| PROCESS\_FAIL | F | A general business failure occurred. | Do not retry. Human intervention is usually needed. It is recommended that you contact Alipay Technical Support to troubleshoot the issue.

 |
| SETTLE\_CONTRACT\_NOT\_MATCH | F | No matched settlement contract can be found. | Check the following for a solution:

1.  Specify one settlement currency from the multiple currencies that the merchant signed up for. 
2.  Check if the settlement currency is specified in the settlement contracts. 
3.  The merchant didn't sign a settlement contract. Contact Alipay Technical Support. 

 |
| UNKNOWN\_EXCEPTION | U | An API call has failed, which is caused by unknown reasons. | Call the interface again to resolve the issue. If not resolved, contact Alipay Technical Support.

 |

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?