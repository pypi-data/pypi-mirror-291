产品功能 | 代扣 | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登 录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fautodebit_cn%2Foverview)

[返回首页](../../)

代扣

[产品功能](/docs/ac/autodebit_cn/overview)

[用户体验](/docs/ac/autodebit_cn/user_ex)

集成方案

支付后

[对账](/docs/ac/autodebit_cn/settle_reconcile)

产品功能
====

2023-09-21 09:49

[英文版](https://global.alipay.com/docs/ac/autodebit_en/overview)

代扣产品可以帮助您的网站或应用构建线上自动扣款功能，首次签约完成后，后续支付一次点击即可完成。代扣支持在不同终端类型（Web, Wap, App）上的部署，并且您只需要一次集成，就可以接入多种支付方式，例如电子钱包，银行转账等。极佳的无感支付体验将减少因扣款失败导致的客户流失，多种支付方式的便捷支持也将加速全球业务扩展，极大助力您的业务增长。

产品功能
====

买家授权

支付

支付后

*   获取代扣授权：

*   签约支付方式：在合同中对想要支持的支付方式进行签约。
*   获取授权：通过 [咨询授权地址](https://global.alipay.com/docs/ac/ams/authconsult) 接口获取用于买家授权的地址，并向买家展示支付方式授权页面。建议您在支付方式授权页面按照买家区域动态渲染支持的支付方式。
*   获取授权结果：如果您配置了接收授权结果通知的地址，在获取到买家的代扣授权成功后，您会接收到 Alipay+ 发送给您的 [授权成功通知](https://global.alipay.com/docs/ac/ams/notifyauth)。
*   获取支付令牌：买家同意授权支付方式的代扣服务后，您可以通过 [申请支付令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp) 接口获取支付令牌。此外，在支付令牌即将过期时，您可以通过 [申请支付令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp) 接口更新支付令牌。

*   取消代扣授权：

*   如果买家在您的应用内取消代扣授权，您需要通过 [授权取消](https://global.alipay.com/docs/ac/ams/authrevocation) 接口使支付方式的支付令牌失效。
*   如果买家在支付方式应用内取消代扣授权，您会接收到 [授权取消通知](https://global.alipay.com/docs/ac/ams/notifyauth)。

*   发起支付：在买家下单完成并点击 **确认支付** 后，您的客户端调用 [支付](https://global.alipay.com/docs/ac/ams/payment_agreement) 接口向Alipay+ 服务器发送请求，请求处理成功后即自动扣款成功。
*   获取支付处理结果：

*   同步跳转：当买家支付完成后，页面会跳转至您通过 [咨询授权地址](https://global.alipay.com/docs/ac/ams/authconsult) 接口 _a__uthRedirectUrl_ 设置的支付结果页。
*   异步通知：通过 [支付](https://global.alipay.com/docs/ac/ams/payment_agreement) 接口中的参数 paymentNotifyUrl 设定异步通知地址，当支付完成，或者支付超时后，Alipay会利用 [支付结果通知](https://global.alipay.com/docs/ac/ams/paymentrn_online) 通过该地址发送异步通知。
*   主动查询：通过 [查询支付结果](https://global.alipay.com/docs/ac/ams/paymentri_online) 接口主动查询交易状态

*   退款：通过 [退款](https://global.alipay.com/docs/ac/cashier_payment_cn/refund#xS4nJ) 接口或者 [商家后台](https://global.alipay.com/docs/ac/cashier_payment_cn/refund#Ote0I) 发起退款。Alipay+ 会利用 [退款通知](https://global.alipay.com/docs/ac/ams/notify_refund) 给您发送退款处理结果。您也可以使用 [查询退款结果](https://global.alipay.com/docs/ac/ams/ir_online) 接口，主动查询退款状态。
*   取消交易：通过 [取消](https://global.alipay.com/docs/ac/ams/paymentc_online) 接口取消交易。
*   [对账](https://global.alipay.com/docs/ac/reconcile_cn/perform)：通过 Alipay+ 提供的结算账单文件、交易账单文件、结算汇总文件进行高效对账。

开发资源
====

### 接口和通知

*   欲集成代扣服务，请参考 [授权](https://global.alipay.com/docs/ac/scantobind_cn/authorization) 集成文档获取买家授权，获取买家授权后请参考 [支付](https://global.alipay.com/docs/ac/scantobind_cn/pay) 集成文档发起支付。
*   关于更多支付流程后续的其他相关操作，请参考 [取消交易](https://global.alipay.com/docs/ac/autodebit_cn/cancel_cn)、[退款](https://global.alipay.com/docs/ac/autodebit_cn/refund)、[接受通知](https://global.alipay.com/docs/ac/autodebit_cn/notification) 集成文档。
*   下表展示了用于代扣集成的接口和通知，助您完成支付和支付后的流程。



| **功能** | **开发资源** | |
| --- | --- | --- |
| **服务端接口** | **服务端通知/文件** |
| **咨询授权地址** | [咨询授权地址](https://global.alipay.com/docs/ac/ams/authconsult) | [授权结果通知](https://global.alipay.com/docs/ac/ams/notifyauth) |
| **取消授权** | [取消授权](https://global.alipay.com/docs/ac/ams/authrevocation) | [授权结果通知](https://global.alipay.com/docs/ac/ams/notifyauth) |
| **申请支付令牌** | [申请支付令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp) |  |
| **支付** | [支付](https://global.alipay.com/docs/ac/ams/payment_agreement)[查询支付结果](https://global.alipay.com/docs/ac/ams/paymentri_online) | [支付结果通知](https://global.alipay.com/docs/ac/ams/paymentrn_online) |
| **取消** | [取消](https://global.alipay.com/docs/ac/ams/paymentc_online) |  |
| **退款** | [退款](https://global.alipay.com/docs/ac/ams/refund_online)[查询退款结果](https://global.alipay.com/docs/ac/ams/ir_online) | [退款结果通知](https://global.alipay.com/docs/ac/ams/notify_refund) |
| **报关** | [报关](https://global.alipay.com/docs/ac/ams/declare)[报关结果查询](https://global.alipay.com/docs/ac/ams/inquirydeclare) |  |
| **对账** |  | [交易明细报告](https://global.alipay.com/docs/ac/reconcile_cn/transaction_details)[结算明细报告](https://global.alipay.com/docs/ac/reconcile_cn/settlement_details)[结算汇总报告](https://global.alipay.com/docs/ac/reconcile_cn/settlement_summary) |



表 1. 代扣集成接口和通知

### SDKs

除了通过自定义编码进行API集成外，您还可以通过Alipay+ SDK进行集成。 Alipay+ SDK 提供了一种标准化的方式来帮助商家更快地构建软件应用程序, 为您屏蔽不同支付方式的特性差异，帮助您一次集成便可接入当前及未来被支持的所有支付方式，大大降低您的开发成本。

#### 服务端 SDK

目前，服务端 SDK 支持的编程语言有所不同：

*   Java SDK：支持与 API 解决方案相同的所有功能。
*   Python、PHP 和.Net SDK：仅支持API 解决方案提供的部分功能。 下表显示了 Python、PHP 和 .Net SDK 目前支持的功能：



| **功能** | **Java SDK 是否支持** | **Python SDK** | **PHP SDK** | **.Net SDK** |
| --- | --- | --- | --- | --- |
| pay | ✅ | ✅ | ✅ | ✅ |
| inquiryPayment | ✅ | ✅ | ✅ | ✅ |
| cancel | ✅ | ✅ | ✅ | ✅ |
| refund | ✅ | ✅ | ✅ | ✅ |
| inquiryRefund | ✅ |  |  |  |
| declare | ✅ |  |  |  |
| inquiryDeclarationRequests | ✅ |  |  |  |



表 2. Python、PHP 和 .Net 语言的SDK功能

支付方式
====

代扣支持以下支付方式：



| **支付方式类别** | **支付方式** | **买家地区** |
| --- | --- | --- |
| Alipay+ 支付方式 | [Alipay](https://global.alipay.com/docs/ac/antomad/alipay) | 中国 |
| Alipay+ 支付方式 | [AlipayHK](https://global.alipay.com/docs/ac/antomad/alipayhk) | 中国香港 |
| Alipay+ 支付方式 | [Boost](https://global.alipay.com/docs/ac/antomad/boost) | 马来西亚 |
| Alipay+ 支付方式 | [DANA](https://global.alipay.com/docs/ac/antomad/dana) | 印度尼西亚 |
| Alipay+ 支付方式 | [GCash](https://global.alipay.com/docs/ac/antomad/gcash) | 菲律宾 |
| Alipay+ 支付方式 | [KakaoPay](https://global.alipay.com/docs/ac/antomad/kakaopay) | 韩国 |
| Alipay+ 支付方式 | [NAVER Pay](https://global.alipay.com/docs/ac/antomad/naverpay) | 韩国 |
| Alipay+ 支付方式 | [Rabbit LINE Pay](https://global.alipay.com/docs/ac/antomad/rabbitlinepay) | 泰国 |
| Alipay+ 支付方式 | [Touch'n Go](https://global.alipay.com/docs/ac/antomad/touchngo) | 马来西亚 |
| Alipay+ 支付方式 | [TrueMoney](https://global.alipay.com/docs/ac/antomad/truemoney) | 泰国 |
| Alipay+ 支付方式 | [Zalopay](https://global.alipay.com/docs/ac/antomad/zalopay) | 越南 |
| 钱包 | [GrabPay](https://global.alipay.com/docs/ac/antomad/grabpay) | 马来西亚、新加坡、印度尼西亚 |
| 钱包 | [Maya](https://global.alipay.com/docs/ac/antomad/maya) | 菲律宾 |
| 钱包 | [PayPay](https://global.alipay.com/docs/ac/antomad/paypay) | 日本 |
| 银行快捷直连 | [KrungThai Bank](https://global.alipay.com/docs/ac/antomad/ktb) | 泰国 |
| 银行快捷直连 | [Siam Commercial Bank](https://global.alipay.com/docs/ac/antomad/scb) | 泰国 |



表 3. 代扣支持支付方式

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### 这篇内容对您有帮助吗？

#### 文章内目录

[产品功能](#uugdl "产品功能")

[开发资源](#sEyA9 "开发资源")

[接口和通知](#I3OCs "接口和通知")

[SDKs](#lP10i "SDKs")

[服务端 SDK](#NSe02 "服务端 SDK")

[支付方式](#x5Zdg "支付方式")