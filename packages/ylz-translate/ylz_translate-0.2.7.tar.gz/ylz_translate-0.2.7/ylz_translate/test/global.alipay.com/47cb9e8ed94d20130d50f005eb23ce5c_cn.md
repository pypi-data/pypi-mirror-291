退款 | 扫码绑定 | 支付宝文档
==================

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg) ![图片2：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fscantopay_en%2Frefund)  
[返回首页](../../)  
扫码绑定  
[概述](/docs/ac/scantopay_en/overview)  
集成指南  
支付后  
[取消](/docs/ac/scantopay_en/cancel_cn)  
[退款](/docs/ac/scantopay_en/refund)  
[通知](/docs/ac/scantopay_en/notification)  
[对账](/docs/ac/scantopay_en/settle_reconcile)  
退款
======

2023-08-31 07:50  
完成支付后，如果买家要求退款，您可以通过[**退款**](#xS4nJ)API或支付宝全球商家平台进行退款。

在发起退款前，您需要了解以下信息：

*   **手续费**：手续费是否退还取决于合同条款。
*   **退款汇率**：对于跨币种结算（交易货币与结算货币不同时），退款当天的支付宝汇率适用。
*   **部分退款**：是否支持部分退款取决于买家支付时使用的支付方式。详情请见[支付方式的退款能力](https://global.alipay.com/docs/ac/cashierpay/payment_method_capabilities)。
*   **最低退款金额**：最低可退款金额取决于买家支付时使用的支付方式。详情请见[支付方式的退款能力](https://global.alipay.com/docs/ac/cashierpay/payment_method_capabilities)。
*   **退款期**：退款期限取决于买家支付时使用的支付方式。详细信息请参阅[支付方式的退款能力](https://global.alipay.com/docs/ac/cashierpay/payment_method_capabilities)。
    
*   **通过API退款**：
    *   您可以使用API来发起退款并获取退款结果。以下图示展示了退款流程的工作流程：
        *   ![图片 3: 001.png](https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1693467743821-c82ed72f-de1b-4742-846a-4f7774f99476.png)
        *   图1. 退款流程
    *   **发起退款**
        *   使用**refund** API发起退款请求时，必须满足以下要求。否则，支付宝将返回相应的错误代码：
            *   **退款货币**：退款请求中参数*refundAmount.currency*的值需要与支付时参数*paymentAmount.currency*的值保持一致。
            *   **退款金额**：退款请求中参数*refundAmount.value*的值需大于等于最小退款金额（通常与最小支付金额相同），且小于等于支付的可退款金额。
            *   **支付状态**：只有当*paymentStatus*参数的值为`SUCCESS`时，才允许退款。
            *   **退款期限**：退款必须在相应支付方式的退款窗口期内进行。
| **待结算的商家账户余额** | 支付宝从商家账户的待结算余额中扣款退款。如果余额不足，退款将失败。如果合同规定不退还手续费，首次支付的全额退款也会失败。因此，建议在生产环境中测试前确保账户余额充足。 | **MERCHANT_BALANCE_NOT_ENOUGH** |  
表1. 退款请求的要求  
退款请求中包含的关键参数如下（详细信息请参阅**refund** API）：  
| **参数** | **描述** |
| --- | --- |
| refundRequestId | 为支付分配的唯一标识符。 |
| paymentId | 支付宝为待退款的原始支付分配的唯一标识符。 |
| refundAmount | 退款金额必须至少等于最小退款金额（通常与最小支付金额相同），且不能超过支付的可退款金额。 |
| refundNotifyUrl | 接收异步退款通知的URL。 |  
表2. 退款请求的关键参数  
获取退款结果
------------------------
调用[**refund**](https://global.alipay.com/docs/ac/ams/refund_online) API后，支付宝会同步返回退款结果：  
*   如果响应中的`result.resultStatus`值为`S`，退款成功。
*   如果`result.resultStatus`的值为`F`，退款失败。请参考**refund** API的[错误代码](https://global.alipay.com/docs/ac/ams/ir_online)进行问题排查。
如果由于网络问题未收到响应或_result.resultStatus_的值为`U`，您可以调用[**查询退款**](https://global.alipay.com/docs/ac/ams/ir_online) API 来查询退款状态。退款状态由响应中的_refundStatus_参数表示。下表列出了_refundStatus_参数可能的值：

| **refundStatus** | **描述** |
| --- | --- |
| SUCCESS | 退款成功。 |
| PROCESSING | 退款处理中（也适用于错误代码为`MERCHANT_BALANCE_NOT_ENOUGH`的情况）。 |
| FAIL | 退款失败。 |

**查询退款记录**
----------------
您可以使用**查询退款** API 查看交易的退款记录。如果交易已退款，_transactions_ 参数将显示交易的退款记录。

**在支付宝商家门户退款**
--------------------------
您可以在[支付宝商家门户](https://intl-sea.alipay.com/ilogin/account_login.htm)上发起退款。有关如何退款和查看退款结果的更多信息，请参阅[在支付宝商家门户退款](https://global.alipay.com/docs/ac/merchant_service/transactions#QySzf)。

要查看文档的最新更新，请访问[版本更新日志](https://global.alipay.com/docs/releasenotes)。

![图片 4](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png) ![图片 5](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)

#### 这个页面有帮助吗？
#### 本页内容
[通过 API 退款](#JV8AN "通过 API 退款")  
[发起退款](#kdstP "发起退款")  
[获取退款结果](#uRDv4 "获取退款结果")
查询退款记录

在支付宝商户平台退款

请注意，以下是markdown格式文档的中文翻译：

## 查询退款记录
### KMUVd
在此部分，您可以了解如何通过相关系统或接口查询支付宝的退款记录，包括退款交易的详情、状态和时间等信息。

## 在支付宝商户平台退款
### Ote0I
在此指南中，我们将解释如何登录支付宝商户平台，并通过平台的退款功能处理消费者的退款请求，包括填写退款金额、原因以及提交退款申请的步骤。