取消 | 产品API | 支付宝文档
==================

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![图片2：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fcancel_sub)

[返回首页](../../)

产品API
[支付宝API](/docs/ac/ams/api)
在线支付
授权
安全存储
支付
订阅
[创建](/docs/ac/ams/create_sub)
[通知订阅](/docs/ac/ams/notify_sub)
[通知支付](/docs/ac/ams/notify_subpayment)
[修改](/docs/ac/ams/change_sub)
[取消](/docs/ac/ams/cancel_sub)
争议
退款
申报
店内支付
取消
=================
2023年12月26日 08:34

POST /v1/subscriptions/cancel

使用**取消** API 取消或终止订阅。取消订阅意味着在当前订阅期结束后不再向用户提供服务，而终止订阅意味着服务立即停止。

结构
==========

消息由头部和主体组成。以下部分专注于主体结构。头部结构请参阅：

*   [请求头部](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [响应头部](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**注意**：除数组外，每个字段的数据类型应设置为字符串。这意味着必须使用双引号（" "）包围字段值。示例：

*   如果字段的数据类型为Integer，其值为20，则设置为"20"。
*   如果字段的数据类型为Boolean，其值为true，则设置为"true"。
### 请求参数  
#### subscriptionId 字符串  
支付宝为订阅分配的唯一ID。此参数的值与原始订阅的**notifyPayment**和**notifySubscription**返回的相同参数值相同。  
至少需要提供_oneOf_ _subscriptionId_ 和 _subscriptionRequestId_。_paymentId_ 与 _paymentRequestId_ 之间存在一对一对应关系。  
关于此字段的更多信息：  
*   最大长度：64 个字符  
#### subscriptionRequestId 字符串  
商家为订阅请求分配的唯一ID。  
至少需要提供_oneOf_ _subscriptionId_ 和 _subscriptionRequestId_。_paymentId_ 与 _paymentRequestId_ 之间存在一对一对应关系。  
关于此字段的更多信息：  
*   最大长度：64 个字符  
#### cancellationType 字符串  **必需**  
订阅的取消类型。有效值包括：  
*   `CANCEL`：表示在当前订阅期结束后取消订阅。用户将不再享受订阅服务。
*   `TERMINATE`：表示立即终止订阅。订阅服务立即停止。  
关于此字段的更多信息：  
*   最大长度：32 个字符
### 响应参数  
显示全部  
#### result 结果对象 **必需**  
指示该API调用是否成功。如果API调用成功，订阅将成功取消。  
显示子参数  
API探索器  
示例代码**在沙箱中运行**
### 请求  
URL  
北美地区  
https://open-na-global.alipay.com/ams/api/v1/subscriptions/cancel  
场景  
取消订阅  
请求体  
复制  
1  
2  
3  
4  
{  
"subscriptionId": "20221215190000000000000040000",  
"cancellationType": "CANCEL"  
}  
请注意，上面的文本是以希伯来语混合英文的形式展示的，以下是纯中文翻译：

### 请求  
URL  
北美  
https://open-na-global.alipay.com/ams/api/v1/subscriptions/cancel  
情况  
取消订阅  
请求正文  
复制  
```json
{
  "subscriptionId": "20221215190000000000000040000",
  "cancellationType": "CANCEL"
}
```
此处请求用于取消指定的订阅，其中`subscriptionId`是订阅的唯一标识，`cancellationType`设置为"CANCEL"表示要进行取消操作。
### 响应  
响应体  
复制  
1  
2  
3  
4  
5  
6  
7  
{  
"result": {  
"resultCode": "SUCCESS",  
"resultMessage": "成功。",  
"resultStatus": "S"  
}  
}  
请注意，以上内容为示例，实际的响应可能包含更详细的数据。在蚂蚁金服的业务中，这样的响应通常表示一个操作或请求已成功执行。"resultCode"为"SUCCESS"表明操作成功，"resultMessage"提供了简短的成功信息，而"resultStatus"的"S"通常代表“Success”状态。
### 结果/错误代码  
| 代码 | 值 | 消息 | 进一步操作 |
| --- | --- | --- | --- |
| SUCCESS | S | 成功 | 接口调用成功。 |
| PARAM\_ILLEGAL | F | 缺少必需参数，或存在非法参数。例如，非数字输入，无效日期，或参数长度和类型错误。 | 请检查并验证当前API的必需请求字段（包括头部字段和正文字段）是否正确传递并有效。 |
| PROCESS\_FAIL | F | 发生了一般业务失败。 | 不要重试，通常需要人工干预。建议联系支付宝技术支持解决问题。 |
| UNKNOWN\_EXCEPTION | U | 由于未知原因，API调用失败。 | 重新调用接口以解决问题。如果未解决，请联系支付宝技术支持。 |

要查看文档的最新更新，请访问[发行说明](https://global.alipay.com/docs/releasenotes)。  
![图片3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png) ![图片4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)  
@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)  
#### 这个页面有帮助吗？