产品功能 | 扣款授权 | 支付宝文档
==================

[![支付宝，中国领先的第三方在线支付解决方案](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)](/docs/) [![支付宝，中国领先的第三方在线支付解决方案](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fautodebit_cn%2Foverview)  
[返回首页](../../)  

扣款授权
------------

[产品功能](/docs/ac/autodebit_cn/overview)  
[用户体验](/docs/ac/autodebit_cn/user_ex)  
集成方案  
支付后  
[对账](/docs/ac/autodebit_cn/settle_reconcile)  

产品功能
==========

2023-09-21 09:49  
[英文版](https://global.alipay.com/docs/ac/autodebit_en/overview)  

扣款授权产品可帮助您的网站或应用实现线上自动扣款功能。首次签约后，后续支付只需一键完成。该服务支持在Web、Wap和App等不同终端上部署，只需一次集成，即可接入多种支付方式，如电子钱包和银行转账。这种无感支付体验能减少因扣款失败导致的客户流失，多种支付方式的便捷支持也有助于加速全球业务拓展，有力推动您的业务增长。

产品功能
==========

### 买家授权

### 支付

### 支付后

#### 获取扣款授权：

- **签约支付方式**：在协议中签约您希望支持的支付方式。
- **获取授权地址**：通过 [咨询授权地址接口](https://global.alipay.com/docs/ac/ams/authconsult) 获取买家授权页面的地址，并向买家展示支付方式授权页面。建议根据买家所在区域动态渲染支持的支付方式。
- **获取授权结果**：如果配置了接收授权结果通知的地址，买家授权成功后，您会收到 Alipay+ 发送的 [授权成功通知](https://global.alipay.com/docs/ac/ams/notifyauth)。
- **获取支付令牌**：买家同意授权支付方式的扣款服务后，通过 [申请支付令牌接口](https://global.alipay.com/docs/ac/ams/accesstokenapp) 获取支付令牌。支付令牌即将过期时，也可通过同一接口更新支付令牌。

#### 取消扣款授权：

- **在应用内取消**：如果买家在您的应用内取消授权，使用 [授权取消接口](https://global.alipay.com/docs/ac/ams/authrevocation) 使支付方式的支付令牌失效。
- **支付方式应用内取消**：买家在支付方式应用内取消授权时，您会收到 [授权取消通知](https://global.alipay.com/docs/ac/ams/notifyauth)。

#### 发起支付：

- **确认支付**：买家完成下单并点击 **确认支付** 后，您的客户端调用 [支付接口](https://global.alipay.com/docs/ac/ams/payment_agreement) 向Alipay+ 服务器发送请求，请求成功即表示自动扣款完成。

#### 获取支付处理结果：

- **同步跳转**：买家支付完成后，页面会跳转至您通过 [咨询授权地址接口](https://global.alipay.com/docs/ac/ams/authconsult) 中设置的 `_authRedirectUrl_` 指定的支付结果页。
*   异步通知：在使用 [支付](https://global.alipay.com/docs/ac/ams/payment_agreement) 接口时，设置参数 paymentNotifyUrl 为异步通知的URL。交易完成后或超时后，支付宝会通过 [支付结果通知](https://global.alipay.com/docs/ac/ams/paymentrn_online) 服务向该地址发送异步更新。
*   主动查询：利用 [查询支付结果](https://global.alipay.com/docs/ac/ams/paymentri_online) 接口主动检查交易状态。
*   退款：通过 [退款](https://global.alipay.com/docs/ac/cashier_payment_cn/refund#xS4nJ) 接口或 [商家后台](https://global.alipay.com/docs/ac/cashier_payment_cn/refund#Ote0I) 进行退款操作。支付宝+会使用 [退款通知](https://global.alipay.com/docs/ac/ams/notify_refund) 服务发送退款处理结果。您也可以使用 [查询退款结果](https://global.alipay.com/docs/ac/ams/ir_online) 接口主动查询退款状态。
*   取消交易：通过 [取消](https://global.alipay.com/docs/ac/ams/paymentc_online) 接口来取消交易。
*   [对账](https://global.alipay.com/docs/ac/reconcile_cn/perform)：利用支付宝+提供的结算账单、交易账单和结算汇总文件进行高效的财务对账。

开发资源
==========
### 接口与通知  
*   要集成代扣服务，请参考 [授权](https://global.alipay.com/docs/ac/scantobind_cn/authorization) 集成指南获取买家授权，获取授权后请参考 [支付](https://global.alipay.com/docs/ac/scantobind_cn/pay) 文档发起支付。
*   对于支付流程后续的更多操作，可以参考 [取消交易](https://global.alipay.com/docs/ac/autodebit_cn/cancel_cn)、[退款](https://global.alipay.com/docs/ac/autodebit_cn/refund) 和 [接受通知](https://global.alipay.com/docs/ac/autodebit_cn/notification) 的集成文档。
*   下表列出了用于代扣集成的接口和通知，以帮助您完成支付及支付后的流程。  

| **功能** | **开发资源** | |
| --- | --- | --- |
| **服务端接口** | **服务端通知/文件** |
| **查询授权地址** | [查询授权地址](https://global.alipay.com/docs/ac/ams/authconsult) | [授权结果通知](https://global.alipay.com/docs/ac/ams/notifyauth) |
| **取消授权** | [取消授权](https://global.alipay.com/docs/ac/ams/authrevocation) | [授权结果通知](https://global.alipay.com/docs/ac/ams/notifyauth) |
| **申请支付令牌** | [申请支付令牌](https://global.alipay.com/docs/ac/ams/accesstokenapp) |  |
| **支付** | [支付](https://global.alipay.com/docs/ac/ams/payment_agreement)[查询支付结果](https://global.alipay.com/docs/ac/ams/paymentri_online) | [支付结果通知](https://global.alipay.com/docs/ac/ams/paymentrn_online) |
| **取消** | [取消](https://global.alipay.com/docs/ac/ams/paymentc_online) |  |
| **退款** | [退款](https://global.alipay.com/docs/ac/ams/refund_online)[查询退款结果](https://global.alipay.com/docs/ac/ams/ir_online) | [退款结果通知](https://global.alipay.com/docs/ac/ams/notify_refund) |
| **报关** | [报关](https://global.alipay.com/docs/ac/ams/declare)[查询报关结果](https://global.alipay.com/docs/ac/ams/inquirydeclare) |  |
| **对账** |  | [交易明细报告](https://global.alipay.com/docs/ac/reconcile_cn/transaction_details)[结算明细报告](https://global.alipay.com/docs/ac/reconcile_cn/settlement_details)[结算汇总报告](https://global.alipay.com/docs/ac/reconcile_cn/settlement_summary) |  
表 1. 代扣集成接口与通知
### SDKs
除了通过自定义编码实现API集成，您还可以使用Alipay+ SDK进行集成。Alipay+ SDK提供了一种标准化的方法，帮助商家更快地构建应用程序，它隐藏了不同支付方式的特性差异，让您只需一次集成就能接入当前及未来支持的所有支付方式，大大降低开发成本。

#### 服务端SDK
目前，服务端SDK支持以下编程语言：

*   Java SDK：支持与API解决方案相同的所有功能。
*   Python、PHP 和 .Net SDK：仅支持API解决方案的部分功能。以下是Python、PHP和.Net SDK当前支持的功能对比：

| 功能 | Java SDK 支持 | Python SDK | PHP SDK | .Net SDK |
| --- | --- | --- | --- | --- |
| 支付 | ✅ | ✅ | ✅ | ✅ |
| 查询支付 | ✅ | ✅ | ✅ | ✅ |
| 取消支付 | ✅ | ✅ | ✅ | ✅ |
| 退款 | ✅ | ✅ | ✅ | ✅ |
| 查询退款 | ✅ |  |  |  |
| 申报 | ✅ |  |  |  |
| 查询申报请求 | ✅ |  |  |  |

表 2. Python、PHP 和 .Net 语言的SDK功能

**支付方式**

代扣支持以下支付方式：

| 支付方式类别 | 支付方式 | 买家地区 |
| --- | --- | --- |
| Alipay+ 支付方式 | Alipay | 中国 |
| Alipay+ 支付方式 | AlipayHK | 中国香港 |
| Alipay+ 支付方式 | Boost | 马来西亚 |
| Alipay+ 支付方式 | DANA | 印度尼西亚 |
| Alipay+ 支付方式 | GCash | 菲律宾 |
| Alipay+ 支付方式 | KakaoPay | 韩国 |
| Alipay+ 支付方式 | NAVER Pay | 韩国 |
| Alipay+ 支付方式 | Rabbit LINE Pay | 泰国 |
| Alipay+ 支付方式 | Touch'n Go | 马来西亚 |
| Alipay+ 支付方式 | TrueMoney | 泰国 |
| Alipay+ 支付方式 | Zalopay | 越南 |
| 钱包 | GrabPay | 马来西亚、新加坡、印度尼西亚 |
| 钱包 | Maya | 菲律宾 |
| 钱包 | PayPay | 日本 |
| 银行快捷直连 | [Krung Thai Bank](https://global.alipay.com/docs/ac/antomad/ktb) | 泰国 |
| 银行快捷直连 | [Siam Commercial Bank](https://global.alipay.com/docs/ac/antomad/scb) | 泰国 |

表 3. 代扣支持的支付方式

要查看文档的最新更新，请访问 [发行说明](https://global.alipay.com/docs/releasenotes)。

![图片 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png) ![图片 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)

### 这篇文章对您有帮助吗？

### 文章内目录

1. [产品功能](#uugdl "产品功能")
2. [开发资源](#sEyA9 "开发资源")
3. [接口和通知](#I3OCs "接口和通知")
4. [SDKs](#lP10i "SDKs")
5. [服务端 SDK](#NSe02 "服务端 SDK")
6. [支付方式](#x5Zdg "支付方式")