Card payments (Web/WAP) | Checkout Payment | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fcashierpay%2Fwwcard)

[Go to Homepage](../../)

Checkout Payment

[Overview](/docs/ac/cashierpay/overview)

Accept payments

SDK integration

[APM payments (Web/WAP)APM](/docs/ac/cashierpay/apm_ww)

[APM payments (Android)APM](/docs/ac/cashierpay/apm_android)

[APM payments (iOS)APM](/docs/ac/cashierpay/apm_ios)

[Card payments (Web/WAP)Card](/docs/ac/cashierpay/wwcard)

[Card payments (Android)Card](/docs/ac/cashierpay/adcard)

[Card payments (iOS)Card](/docs/ac/cashierpay/ioscard)

API-only integration

After payments

Payment methods

Other resources

Advanced features

[Pre-front solutionAPI](/docs/ac/cashierpay/prefront)

[Buy now pay laterAPI](/docs/ac/cashierpay/bnpl)

[Card vaultingAPI](/docs/ac/cashierpay/cv)

[Card vaultingSDK](/docs/ac/cashierpay/cvsdk)

[Card payment featuresAPISDK](/docs/ac/cashierpay/mf?pageVersion=7)

Card payments (Web/WAP)
=======================

2024-05-11 10:13

Antom SDK is a pre-built UI component designed to collect card information and manage 3D authentication processes for you. Integration of this component does not require you have a PCI qualification, making it ideal for those who prefer to entrust Antom to collect card information.

User experience
===============

The following figures show the user journey of paying on a shopping website or mobile web app:

Web

WAP

Web user experience
-------------------

![Image 3: 下载.png](https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1713406482917-aed9aca8-6009-4a41-bc79-f68a98a9525b.png)

WAP user experience
-------------------

![Image 4: 2.png](https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1713406504140-9dcd329f-e0c1-4cdc-be8a-f574a9adec57.png)

Payment flow
============

The following process shows how to integrate Checkout Payment via Antom SDKs:

![Image 5: 111卡.webp](https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1713520960682-e0a3067a-9ab7-49d7-b7e4-6be9118f6e30.webp)

1.  **The use****r lands on the checkout page.**
2.  **Create the** [**createPaymentSession**](https://global.alipay.com/docs/ac/ams/session_cashier) **request**  
    After the buyer selects a payment method and submits the order, you can obtain the payment session by calling the [**createPaymentSession**](https://global.alipay.com/docs/ac/ams/session_cashier) interface.
3.  **Invoke the client SDK**  
    On the client side, invoke the SDK through the payment session. The SDK will handle information collection, redirection, app invocation, QR code display, verification, and other processes based on the payment method's characteristics.
4.  **Get the payment result**  
    Obtain the payment result by using one of the following two methods:

1.  Asynchronous Notification: Specify the _paymentNotifyUrl_ in the [**createPaymentSession**](https://global.alipay.com/docs/ac/ams/session_cashier) interface to set the address for receiving asynchronous notifications. When the payment is successful or expires, Antom will use [**notifyPayment**](https://global.alipay.com/docs/ac/ams/paymentrn_online) to send asynchronous notifications to you.
2.  Synchronous Inquiry: Call the [**inquiryPayment**](https://global.alipay.com/docs/ac/ams/paymentri_online) interface to check the payment status.

5.  **Get the capture result**  
    For card payments, you need to obtain the capture result by using one of the following two methods:

1.  Asynchronous Notification: Specify the _paymentNotifyUrl_ in the [**createPaymentSession**](https://global.alipay.com/docs/ac/ams/session_cashier) interface to set the address for receiving asynchronous notifications. When the payment request is successful or expires, Antom will use [**notifyCapture**](https://global.alipay.com/docs/ac/ams/notify_capture) to send asynchronous notifications to you.
2.  Synchronous Inquiry: Call the [**inquiryPayment**](https://global.alipay.com/docs/ac/ams/paymentri_online) interface to check the payment request status.

Integration steps
=================

Start your integration by taking the following steps:

1.  Create a payment session
2.  Create and invoke the SDK
3.  Obtain payment result
4.  Obtain capture result

Step 1: Create a payment session Server-side
--------------------------------------------

When a buyer selects a payment method provided by Antom, you need to collect key information such as payment request ID, order amount, payment method, order description, payment redirect URL, and payment result notification URL, call the **createPaymentSession** API to create a payment session, and return the payment session to the client.

Antom provides server-side API libraries for multiple languages. The following codes use Java as an example. You need to install Java 6 or higher.

### Install an API library

You can find the latest version on [GitHub](https://github.com/alipay/global-open-sdk-java).

copy

    <dependency>
    <groupId>com.alipay.global.sdk</groupId>
    <artifactId>global-open-sdk-java</artifactId>
    <version>2.0.18</version>
    </dependency>

### Initialize request instance

Create a singleton resource to make a request to Antom.

copy

    import com.alipay.global.api.AlipayClient;
    import com.alipay.global.api.DefaultAlipayClient;
    
    String merchantPrivateKey = "YOUR PRIVATE KEY";
    String alipayPublicKey = "ALIPAY PUBLIC KEY"
    AlipayClient defaultAlipayClient = new DefaultAlipayClient(EndPointConstants.SG,
                                                               merchantPrivateKey, alipayPublicKey);

### Create a payment session

Creating a payment session includes the following parameters:

<table style="width:748px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="211" span="1"><col width="97" span="1"><col width="440" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="e2e67fcb904283695db95ad3928f445b" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="16f3b5e9fea5cf646ed519c00dac3013" id="u1dfd9228" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Required</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="556b2b7656d6ffb31565ea331641c6a7" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="6c3d9e20a9efd2658a3b08ac54958815" id="u3cc7fe81" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">productCode</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="68606b854816a36c23be0837fcf6e0aa" id="ubb940912" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span><span style="color:rgba(0, 0, 0, 0.78)"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="2b6ffd57f4208616223c87ba2af0a15a" id="uba85a4cf" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>The value is fixed to </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>CASHIER_PAYMENT</span></code><span>.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f94149e4df4e0645280b74dcd31b6e6d" id="u7d72c3f0" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">paymentRequestId</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f31de6f7f7979b014778bfa8d71d6137" id="uedad2277" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a8423c902e34c9144c69faa1d3b7ca17" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>The unique ID generated by the merchant, a new ID is required every time a payment is initiated.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="42bfebec00af388af57ecdfcd1db4635" id="u90bc4507" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">paymentAmount</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="34764cd6c87b0293530e4fd204e44721" id="ue5d00a97" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="4e182c7ebfdb3c66c23cc6e1d5eff7e9" id="u4ef14ad6" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Payment amount, should be set according to the smallest unit of the order currency, e.g. CNY for cents, KRW for dollars.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="70d41a6b0933b018680ddac72bc4442f" id="ue592ad62" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">paymentMethod</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="3ce701954afa51751b724660320cb195" id="u53a7f26b" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="159b179b1146c9036e11820a1ccccf89" id="ua5dba52c" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Payment method enumeration</span></p></td></tr><tr style="height:35px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="0ff3f71bdeaed1615f7067c569037cb7" id="u88971d33" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">paymentRedirectUrl</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="67f9632ee353146746185ee6e0d98d6b" id="u0385a391" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="620466b970270082a9fa48aa0ce65493" id="u09b42571" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Merchant's payment result page, according to the server-side results, not a fixed success page.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="72da408873ce108ea33aab7f6b146a02" id="ub7a33cd5" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">order</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a769929fc3057782a318f0eeb2eef22f" id="u455c3f89" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="184cb736d167f8040d5e063691a099f5" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Order information, including order amount, order ID, and order description on the merchant side.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="7b8ddb4a435948ce321531298de0c437" id="u99012931" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">paymentNotifyUrl</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="078d14d4450b3c91f254e82c7a6386cc" id="uca918755" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(0, 0, 0, 0.78)"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f64521c9dbb48c4f9c32b968c32f4035" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Payment result notification address, which can be passed in through the API or set as a fixed value through the portal.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="2ba95e17c9cf763b259cb66aac812ccc" id="ua8a8774e" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(0, 0, 0, 0.78)">settlementStrategy</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="821f91c476869619362faebb568b7d70" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Settlement currency of the payment, if the business has signed more than one settlement currency, you need to specify it in the API.</span></p></td></tr></tbody></table>

The above parameters are the basic parameters for creating a payment session, for full parameters and additional requirements for certain payment methods refer to [**createPaymentSession (Checkout Payment)**](https://global.alipay.com/docs/ac/ams/session_cashier)**.**

#### Sample codes of calling the createPaymentSession API

The following sample code shows how to call the **createPaymentSession** API:

copy

    AlipayPaymentSessionRequest alipayPaymentSessionRequest = new AlipayPaymentSessionRequest();
    alipayPaymentSessionRequest.setClientId(CLIENT_ID);
    alipayPaymentSessionRequest.setPath("/ams/sandbox/api/v1/payments/createPaymentSession");
    alipayPaymentSessionRequest.setProductCode(ProductCodeType.CASHIER_PAYMENT);
    
    
    // replace to your paymentRequestId
    alipayPaymentSessionRequest.setPaymentRequestId("paymentRequestId01");
    
    Amount amount = new Amount();
    amount.setCurrency("SGD");
    amount.setValue("4200");
    
    alipayPaymentSessionRequest.setPaymentAmount(amount);
    
    //set settlement currency
    SettlementStrategy settlementStrategy = new SettlementStrategy();
    settlementStrategy.setSettlementCurrency("SGD");
    alipayPaymentSessionRequest.setSettlementStrategy(settlementStrategy);
    
    // set paymentMethod
    PaymentMethod paymentMethod = new PaymentMethod();
    paymentMethod.setPaymentMethodType("CARD");
    alipayPaymentSessionRequest.setPaymentMethod(paymentMethod);
    
    // set paymentFactor
    PaymentFactor paymentFactor = new PaymentFactor();
    paymentFactor.setAuthorization(true);
    alipayPaymentSessionRequest.setPaymentFactor(paymentFactor);
    
    // set order Info
    Order order = new Order();
    order.setReferenceOrderId("referenceOrderId01");
    order.setOrderDescription("antom sdk test order");
    order.setOrderAmount(amount);
    Buyer buyer = new Buyer();
    buyer.setReferenceBuyerId("yourBuyerId");
    order.setBuyer(buyer);
    order.setOrderAmount(amount);
    alipayPaymentSessionRequest.setOrder(order);
    
    // replace to your notify url
    alipayPaymentSessionRequest.setPaymentNotifyUrl("https://www.yourNotifyUrl");
    
    // replace to your redirect url
    alipayPaymentSessionRequest.setPaymentRedirectUrl("https://www.yourMerchantWeb.com");
    AlipayPaymentSessionResponse alipayPaymentSessionResponse = null;
    
    try {
        alipayPaymentSessionResponse = defaultAlipayClient.execute(alipayPaymentSessionRequest);
    } catch (AlipayApiException e) {
        String errorMsg = e.getMessage();
        // handle error condition
    }
    

The following code shows a sample of the request message:

copy

    {
      "order": {
        "buyer": {
          "referenceBuyerId": "yourBuyerId"
        },
        "orderAmount": {
          "currency": "SGD",
          "value": "4200"
        },
        "orderDescription": "antom sdk test order",
        "referenceOrderId": "referenceOrderId01"
      },
      "paymentAmount": {
        "currency": "SGD",
        "value": "4200"
      },
      "paymentFactor": {
        "isAuthorization": true
      },
      "paymentMethod": {
        "paymentMethodType": "CARD"
      },
      "paymentNotifyUrl": "https://www.yourNotifyUrl",
      "paymentRedirectUrl": "https://www.yourMerchantWeb.com",
      "paymentRequestId": "paymentRequestId01",
      "productCode": "CASHIER_PAYMENT",
      "settlementStrategy": {
        "settlementCurrency": "SGD"
      }
    }

The following code shows a sample of the response, which contains the following parameters:

*   _paymentSessionData_: the payment session to be returned to the frontend
*   _paymentSessionExpiryTime_: the expiration time of the payment session.

copy

    {
      "paymentSessionData": "UNvjVWnWPXJA4BgW+vfjsQj7PbOraafHY19X+6EqMz6Kvvmsdk+akdLvoShW5avHX8e8J15P8uNVEf/PcCMyXg==&&SG&&111",
      "paymentSessionExpiryTime": "2023-04-06T03:28:49Z",
      "paymentSessionId": "UNvjVWnWPXJA4BgW+vfjsQj7PbOraafHY19X+6EqMz6Ikyj9FPVUOpv+DjiIZqMe",
      "result": {
        "resultCode": "SUCCESS",
        "resultMessage": "success.",
        "resultStatus": "S"
      }
    }

### FAQs

#### Can Chinese characters be used in the request?

Do not use Chinese characters for the fields in the request including _paymentRequestId_, _referenceOrderId_, _orderDescription_, and _goods_ to avoid incompatible payment methods, such as QRIS and Mastercard.

#### How to set the payment result notification address?

Antom will send the payment result through the [**notifyPayment**](https://global.alipay.com/docs/ac/ams/paymentrn_online), which you can specify in the **createPaymentSession** API via the _paymentNotifyUrl_ parameter. If the address of each payment is the same, you can also configure it in the Antom Dashboard. If you have configured the address and set the parameter in the API, Antom will use the address set in the API.

Step 2: Create and invoke the SDK Client-side
---------------------------------------------

The Antom SDK is a component used for handling payment processes. You initiate the SDK by creating a payment session to collect information and switch between apps based on the payment method specified in **createPaymentSession** API.

### Install

Before beginning the integration, make sure that you have completed the following environment preparations:

*   Properly handle compatibility issues: Provide corresponding polyfills for Internet Explorer and other old browser versions. We recommend that you use [babel-preset-env](https://babeljs.io/docs/en/babel-preset-env) to address browser compatibility issues when you build a project.
*   Use the following recommended browser versions:

*   For mobile browsers:

*   iOS 11 and later.
*   Android 5.0 and later.

*   For computer browsers, use the following recommended versions:

<table id="DXgZ7" style="width:747px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="113" span="1"><col width="123" span="1"><col width="130" span="1"><col width="126" span="1"><col width="125" span="1"><col width="130" span="1"></colgroup><tbody><tr id="u08e6b074" style="height:127px"><td id="u12d12d70" style="background-color:rgb(246, 249, 254);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="b83ade91327d71ff6b3b1831ac46e9cf" id="u442907d9" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="zH80i"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img alt="image" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143117412-8322ebf3-b84b-48d1-a696-5cc5703d1006.png" data-raw-src="" title="image" data-height="51px" style="visibility:visible;width:51px" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143117412-8322ebf3-b84b-48d1-a696-5cc5703d1006.png" loading="lazy"></a></span><strong><span id="u7e40d0e4" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Edge</span></strong></p><p data-lake-id="30c27462474583594282dd1fb58076e7" id="u6af6f0af" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u0ebc1a3f" style="color:rgba(4, 15, 36, 0.85);background-color:#F6F9FE">Last 2 versions</span></p></td><td id="u2ddfe253" style="background-color:rgb(246, 249, 254);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="5a4eb45649ea7a47e82dee6499e4075f" id="uaf1ab9f7" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u4841717a" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="fLjSJ"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img alt="image" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143117377-62f319d6-72e5-4555-aacd-f0efc434ef9e.png" data-raw-src="" title="image" style="visibility:visible" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143117377-62f319d6-72e5-4555-aacd-f0efc434ef9e.png" loading="lazy"></a></span><strong><span id="u500f6867" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Firefox</span></strong><span id="uac75678e" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p><p data-lake-id="588e7f973e872fa3a1f13f475b67ffc9" id="u5dbea113" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u834edd1d" style="color:rgba(4, 15, 36, 0.85);background-color:#F6F9FE">Last 2 versions</span><span id="u8462bae1" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p></td><td id="u545b2fa9" style="background-color:rgb(246, 249, 254);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="39bca046dd439669c761768c0da1ee2c" id="u5d843aa2" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u6ac90e6e" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="Y6kff"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img alt="image" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118111-1392b868-4947-4d0f-941c-53d54c655c8d.png" data-raw-src="" title="image" style="visibility:visible" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118111-1392b868-4947-4d0f-941c-53d54c655c8d.png" loading="lazy"></a></span><strong><span id="u51c80cf2" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Chrome</span></strong><span id="u2406b4d2" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p><p data-lake-id="b2594ed7303aa10fe28d7b6db56ad31f" id="ud3822dcf" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u116746d0" style="color:rgba(4, 15, 36, 0.85);background-color:#F6F9FE">Last 2 versions</span><span id="u69cd60f5" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p></td><td id="u85b33924" style="background-color:rgb(246, 249, 254);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="89338dbf805d35de3ecb78bd124bb0b4" id="u609f1a7a" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="ub5e061d0" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="l4Dxu"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img alt="image" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118162-1fc223a0-8a35-488f-91aa-5833f5d7726a.png" data-raw-src="" title="image" style="visibility:visible" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118162-1fc223a0-8a35-488f-91aa-5833f5d7726a.png" loading="lazy"></a></span><strong><span id="ue316f93d" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Safari</span></strong><span id="u9af61bba" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p><p data-lake-id="735c2eca66fb264c26102dc0c6ed7696" id="u9dfa907f" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="uc15a7cab" style="color:rgba(4, 15, 36, 0.85);background-color:#F6F9FE">Last 2 versions</span><span id="u7e2aed56" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p></td><td id="u68afb414" style="background-color:rgb(246, 249, 254);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="0917a78a82c5a9836018a526e2eba6a1" id="u390dabcf" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u63fd0592" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="AhSm3"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img alt="image" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118154-fc609c28-81bf-4442-985b-fdf4d1c3554d.png" data-raw-src="" title="image" style="visibility:visible" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118154-fc609c28-81bf-4442-985b-fdf4d1c3554d.png" loading="lazy"></a></span><strong><span id="uda388252" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Opera</span></strong><span id="uba17d0f2" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p><p data-lake-id="1f8b32f82c91463c9928c3650b688ad6" id="uf8ee6932" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u0c1abf2a" style="color:rgba(4, 15, 36, 0.85);background-color:#F6F9FE">Last 2 versions</span><span id="u9cac1b24" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p></td><td id="u64e703fd" style="background-color:rgb(246, 249, 254);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="1e2022866c51060e8faf64f70824a084" id="u7b586175" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="u2b170feb" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="Aw7jF"><a href="http://godban.github.io/browsers-support-badges/" target="_blank"><img alt="image" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118867-73ee0c65-fbf2-4ff3-b18e-8fa092801c30.png" data-raw-src="" title="image" style="visibility:visible" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1680143118867-73ee0c65-fbf2-4ff3-b18e-8fa092801c30.png" loading="lazy"></a></span><strong><span id="u8b4e4e2c" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Electron</span></strong><span id="u5456649a" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p><p data-lake-id="cf66d31edc5165328c101b1a599e67bf" id="ua57ff78e" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span id="uf1d296ae" style="color:rgba(4, 15, 36, 0.85);background-color:#F6F9FE">Last 2 versions</span><span id="u740743fb" class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px"></span></p></td></tr></tbody></table>

You can integrate the SDK resource package via CDN or npm.

copy

    <script src="https://sdk.marmot-cloud.com/package/ams-checkout/1.13.0/dist/umd/ams-checkout.min.js"></script>

copy

    npm install @alipay/ams-checkout

### Instantiate the SDK

Create the SDK instance by using the `AMSCashierPayment`. Configuration objects includes the following parameters:

<table style="width:748px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="211" span="1"><col width="97" span="1"><col width="440" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="703e931a86eb27c884a7bb5acbe09a85" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="df36b47e91e1c0526b3b4c87baa7b551" id="u54e6a143" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Required</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="56734b98f7d54ca249c444f704ff4043" id="u7cd1d4da" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="ae93da404466c05f7436beaebc26c208" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:#20304C">environment</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="2b1f08b5f87d29a1303a1992c9bb4b16" id="ubfc3f9f1" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="58b2122184bcb5dcee041f07f0bb32c1" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>It is used to pass in environmental information. Valid values are:</span></p><ul data-lake-id="42a4b9705f220b1fd4b1e7872ded82c3" lake-indent="0" style="list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><li data-lake-id="99f4a3f04ce0c4a555a5c50a2c7ceec5" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>sandbox</span></code><span>: Sandbox environment</span></li><li data-lake-id="ec3d3177cae4d9f8f6b38f0f7c424844" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>prod</span></code><span>: Production environment</span></li></ul></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="26392ba5bd720401533114ad30b03afd" id="u9935f731" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:#20304C">locale</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f2dd0a0e808af71cc9b6821beed9b3c3" id="u48d1d88a" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(0, 0, 0, 0.78)"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c9f22b9bd3210242f9db9993d6a90e27" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>It is used to pass in language information. Valid values are listed as follows. You can choose the value to pass based on the region of the payment method. If other values are passed, the local language is used by default:</span></p><ul data-lake-id="7bc3b837dc62babeef5b07064f09c313" lake-indent="0" style="list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><li data-lake-id="0255aaac969b2671d4a3b116030b779f" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>en_US</span></code><span>: English</span></li><li data-lake-id="d3fe69e8ea1af7c62abbc5bed03e43dc" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>pt_BR</span></code><span>: Portuguese</span></li><li data-lake-id="24154cb8d35485835edd60cdd9f25199" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>ko_KR</span></code><span>: Korean</span></li><li data-lake-id="110900e2e0dd10f42fac4180b5be88e9" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>es_ES</span></code><span>: Spanish</span></li><li data-lake-id="1f9d21913e35f3a241d447a6695effd2" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>ms_MY</span></code><span>: Malay</span></li><li data-lake-id="b4b622a7e62ef8bf9a61b03d052990c0" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>in_ID</span></code><span>: Indonesian</span></li><li data-lake-id="88a87c63c2535d4673dc87c9d5c9c278" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>tl_PH</span></code><span>: Tagalog</span></li><li data-lake-id="723fae42c2919f9100c8a61c45a42d60" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>th_TH</span></code><span>: Thai</span></li><li data-lake-id="895de5bbaca0da5dee06f085d7c32ce4" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>vi_VN</span></code><span>: Vietnamese</span></li><li data-lake-id="868cf822a965876a762a0e94c2d5e52c" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>fr_FR</span></code><span>: French</span></li><li data-lake-id="87a26542388da7dacce41f50ed9eda1b" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>nl_NL</span></code><span>: Dutch</span></li><li data-lake-id="c3cdf4c12c3c0b75222d12e82cc5d598" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>it_IT</span></code><span>: Italian</span></li><li data-lake-id="aed4e1e82ef7bd7d6b4562daafe884dd" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>de_DE</span></code><span>: German</span></li><li data-lake-id="f3d858b67c3ddee393a103b87e540674" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>zh_CN</span></code><span>: Simplified Chinese</span></li><li data-lake-id="41de5b9c7564f003f0bf42ebdba62cc0" style="text-align:left"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>zh_HK</span></code><span>: Traditional Chinese</span></li></ul></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="b296b99783ebb5ba3f7caf3c44df24ae" id="uf3198540" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(4, 15, 36, 0.85)">analytics</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="00b59e298694c92c2c337211dbb2f2f6" id="ub7422e49" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a88f7c880e56e80b3d1a4b05ca533dcd" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">It is used to configure and analyze data. It contains a value below:</span></p><ul data-lake-id="827c8d1b43711a0487dc37fd005fbaa2" lake-indent="0" style="list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><li data-lake-id="f55b8a319c66f948e8b2805a7a95fba6" style="text-align:left"><em><span>enabled</span></em><span>: Optional Boolean. It defaults to </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>true</span></code><span>, which indicates that you allow the SDK to upload and analyze operational data to deliver a better service. If you do not allow the data to be uploaded and analyzed, specify it as </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>false</span></code><span>.</span></li></ul></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="39aa975f8aa90aa58adabfaae32beb03" id="u2631b868" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(4, 15, 36, 0.85)">onLog</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="9fff930320871d008decec6c0a0a0728" id="ud5a19d98" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="4af2623b756a532973ec74e2c812c770" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">It is a callback method that is used to generate the error information about logs and API exceptions during the execution of the SDK.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="1d2717c2c182dc32c86453e565cedea3" id="u48894f0f" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span style="color:rgba(4, 15, 36, 0.85)">onEventCallback</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="1f2695ec9272a5965b690612339e094f" id="u6d575d12" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="5faf5b8044c6025ace300f88d60cc7c2" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">A callback function returns a specific event code when a payment event happens during SDK runtime, like payment result or a form submission error. For further information, refer to the References.</span></p></td></tr></tbody></table>

The following sample code shows how to obtain the browser language:

copy

    let language = navigator.language || navigator.userLanguage;
    language = language.replace("-", "_"); // Replace "-" with "_"

The following sample code shows how to instantiate the SDK:

copy

    const checkoutApp = new window.AMSCashierPayment({
      environment: "sandbox",
      locale: "en_US",
      onLog: ({code, message}) => {},
      onEventCallback: ({code, message}) => {},
    });
    

### Invoke the SDK

After the buyer selects a payment method on the page, you need to create the SDK and initiate it with a payment session.

Use the `createComponent` or `mountComponent` function in the instance object to create a payment component:

<table style="width:748px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="211" span="1"><col width="97" span="1"><col width="440" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="e18dbd496acc0a3f37024b03f461102f" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="0fc2c3a01cbad30054a14ded9fe2c203" id="u72a34d69" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Required</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="23fd1f85bc79cf402c5562b4e661e763" id="uaf3929f6" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="ed2d61d08c413ef2eac85d43c8ce769f" id="ub37bee04" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" style="color:rgba(4, 15, 36, 0.85);font-size:14px" data-mce-style="font-size: 11px">sessionData</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="746bc72b12da7e4b4d35a824f8cc6439" id="ubfbb275a" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>✅</span><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c100ca81c59992fcef87676e3b8b3f0a" id="ud21a3c21" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Create a configuration object by using the </span><em><span>sessionData</span></em><span> parameter: Pass the complete data in the </span><em><span>paymentSessionData</span></em><span> parameter obtained in the response through the </span><strong><span>createpaymentSession (Checkout Payment) </span></strong><span>API to the </span><em><span>sessionData </span></em><span>parameter.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c80efd025ae073823710abbd8260d1a7" id="u91ffbf88" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" style="color:rgba(4, 15, 36, 0.85);font-size:14px" data-mce-style="font-size: 11px">appearance</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="5d83600610bb3fe9b9dcd16f95ea0887" id="u0292d368" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="751adc3703a66182a3d05381742cb69d" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">Customized appearance theme configuration, and it contains the following child parameters:</span></p><ul data-lake-id="fa0ab73f21afaead8a5303060d7edd56" lake-indent="0" style="list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><li data-lake-id="e54ac2b835880c6b5dad45eff573d6d3" style="text-align:left"><em><span>showLoading</span></em><span>: Optional. Boolean type. The default value is </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>true</span></code><span>, which shows the default loading animation. If you don't use the default loading animation, you need to specify this value as </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>false</span></code><span>.</span></li><li data-lake-id="084386b001d284824740cad5d2082626" style="text-align:left"><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">showSubmitButton: Optional. Boolean type. The default value is </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">false</span></code><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">, which disables the button to render payment page.</span></li></ul></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="dc92d38dc8b3c2752524e03b8869bf05" id="u4512f6cd" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">notRedirectAfterComplete</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="5c2689bb9f939125f1273ef565e2ede7" id="ufb55fc84" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="40d90a18c68c3250507dc06e55f09a36" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>The default value is </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>false</span></code><span>, which means it will jump back to your page after the payment is completed. The same applies when the value is empty. </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>true</span></code><span> value means there will be no jump after the payment is completed. You need to use the customer event code to control the card binding to complete the subsequent process. Note that the payment result code returned by the client is only used as a reference for the jump operation of the client page. For transaction status's updates, refer to the results returned by the server's </span><strong><span>notifyPayment</span></strong><span> or </span><strong><span>inquiryPayment</span></strong><span> API.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f9ae7fef8d857c7febef0cfdf9b5ca8c" id="u58820f74" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">merchantAppointParam</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="76234c21aa31eba452c2bb996887c454" id="u1c84d5a2" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:#20304C"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="18d523d7aeb02d9e404e0da9bd2af239" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>It is used for setting custom features, containing a value below:</span></p><ul data-lake-id="587cce4d9a89de2e4ad34d356d858833" lake-indent="0" style="list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><li data-lake-id="35145551d75a3b99bbb8da166a783932" style="text-align:left"><em><span>storedCard</span></em><span>: Optional object used for setting custom features of stored cards. It contains a value below:</span></li></ul><ul data-lake-id="1db3c4ab54e3b4f29bb9418d5110139b" lake-indent="1" style="list-style-type:none;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><ul data-lake-id="70437f05d0b1bc2b994ac9b9004056ae" lake-indent="0" style="list-style-type:circle;padding-left:23px;margin:0px;line-height:1.74"><li data-lake-id="480851069c05ed789d66e0773acfcada" style="text-align:left"><em><span>needCVV</span></em><span>: Optional Boolean. The default value is </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span>false</span></code><span>, which indicates that the </span>buyer<span> do not need to input CVV number during the payment process. The same applies when the value is empty. true value means the&nbsp;</span>buyer<span> need to input CVV number during the payment process.</span></li></ul></ul></td></tr></tbody></table>

##### Embedded experience vs. Popup experience

There are different ways in which you can make the SDK display on a page through a pop-up window or embedded on a page.

<table style="width:750px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="375" span="1"><col width="375" span="1"></colgroup><tbody><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="59f96abefda65fa575b02df821ce8155" id="u7895a076" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-12" data-mce-style="font-size: 12px" style="font-size:16px">Embedded experience</span></strong></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="29e5f4bed0d691a7019a5571e837cd7d" id="uc59c25a3" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span>Popup experience</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f32ec6bf5a9ce1376d66abd9b5613727" id="ue7a15e4a" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="u75d9f483" style="display:block"><img alt="image.png" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1711004209329-7acacb6e-2af6-4e93-8a9f-3edb2f277b3c.png" data-raw-src="" title="image.png" data-height="591px" style="visibility:visible;width:926.667px" class="docs-image loaded showImg" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1711004209329-7acacb6e-2af6-4e93-8a9f-3edb2f277b3c.png" loading="lazy"></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c8c86ff5f94ad848e4bd32e4c0778c61" id="u5c5dce28" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span data-card-type="inline" data-lake-card="image" contenteditable="false" id="u214f4c64" style="display:block"><img alt="image.png" data-role="image" src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1711005118975-de070b73-45cb-4395-a85a-13a70582d9c7.png" data-raw-src="" title="image.png" data-height="225px" style="visibility:visible;width:311.111px" class="docs-image loaded showImg" data-src="https://idocs-assets.marmot-cloud.com/storage/idocs87c36dc8dac653c1/1711005118975-de070b73-45cb-4395-a85a-13a70582d9c7.png" loading="lazy"></span></p></td></tr></tbody></table>

##### Popup experience

Popup experience offers the advantage of low impact on page style and relatively independent flow.

After the buyer selects a payment method on the page and clicks submit, you need to inevoke the SDK and pop up the window.

copy

    async function create(sessionData) {
      await checkoutApp.createComponent({ 
        sessionData: sessionData, 
        appearance:{
          showLoading: true, // Set as true by default to enable the default loading pattern
        },
        notRedirectAfterComplete: true,
      });
    }

##### Embedded experience

The embedded experience embeds payment element within the designated view. You need to focus on styling adjustments for the payment list. The embedded content's width adjusts automatically to fit the parent container, while the height dynamically updates with view changes.

copy

    async function create(sessionData) {
      await checkoutApp.mountComponent({ 
        sessionData: sessionData, 
        appearance:{
          showLoading: true, // Default is true, allowing configuration of whether to display a loading animation.
          showSubmitButton: false, // Configure whether the payment button is rendered by the component.
        }, 
        notRedirectAfterComplete: true,
      },'#ContainerNodeId');
    }

##### Embedded Submit Payment

When using embedded experience and a custom submit button, remember to actively call the submit function to initiate the submission process.

copy

    // Execute when the buyer completes the form and clicks the submit button.
    checkoutApp.submit().then(({code, message})=>{})

##### Destroy the Component

Call the `unmount` method to free SDK component resources in the following situations:

*   When the buyer switches views to exit the checkout page, free the component resources created in the **createPaymentSession**.
*   When the buyer initiates multiple payments, free the component resources created in the previous **createPaymentSession**.
*   When the buyer completes the payment and sets _notRedirectAfterComplete_ to `true`, free the component resources after obtaining specific payment result codes.

copy

    // Free SDK component resources
    checkoutApp.unmount();

#### FAQs

##### What can I do when I receive the `SDK_CREATEPAYMENT_PARAMETER_ERROR`?

When you receive this event code, check if the sessionData passed in is correct and complete.

##### What can I do when I receive the `SDK_PAYMENT_ERROR` or Rendering View Error?

When you receive this event code, check the network request. There may be an exception in the initialization interface, and you need to make sure that the environment of the payment session creation request is consistent with the environment parameters of the instantiated SDK. Check whether the payment session creation parameters are passed correctly. If the interface exception still exists, you can contact us for troubleshooting.

##### What can I do when I receive the `SDK_FORM_VERIFICATION_FAILED`?

The reason could be that the buyer did not fill in all the required elements. Upon submission, an error code indicating form verification failure may be returned. It is recommended to guide the buyer on enhancing the form content.

### Display payment results

If you set _notRedirectAfterComplete_ to `false`, the buyer will be redirected to the _paymentRedirectUrl_ that you provided in **createPaymentSession** API after completing the payment. You can obtain the payment result by active query in that URL and show it to the buyer.

If _notRedirectAfterComplete_ is `true`, the payment result will be given through the `onEventCallback` function. The payment result here is only for front-end display, and the final order status is subject to the server side.

You need to customize the processing flow you want for each payment result through the data in the result of `onEventCallback`.

The following are the possible event codes of the payment result returned by `onEventCallback`:

<table style="width:873px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="264" span="1"><col width="230" span="1"><col width="379" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="9c165ba0bfc7aa2053d81903013cd701" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span>Event code</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="54990e14fb4931a108e60b9523d68193" id="ufaa01749" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span>Message</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="1302910c1cb87d149cab25990fe8484a" id="u4e968bf2" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span>Solution</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="6ce636182d2c2a87e1916c1a83debcc1" id="uf460cda0" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>SDK_PAYMENT_SUCCESSFUL</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c83e05524f7ffa03532260b442fba30a" id="uc9ce92b1" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">Payment was successful.</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="9100ffe9f0032cb3ae610e0c5dff70df" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">Suggest redirecting </span>buyer<span style="color:rgba(4, 15, 36, 0.85)">s to the payment result page.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="d4d59360a3b9e4ba6ba8c62679cbf695" id="u1bacb2b3" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>SDK_PAYMENT_PROCESSING</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="7e3e58267eb9b4eee1af2f273c92b229" id="u9fdceede" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">Payment was being processed.</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="8aced1adb6429661e511ee3057bb6ceb" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">We suggest that you check the value of </span><em><span style="color:rgba(4, 15, 36, 0.85)">paymentResultCode</span></em><span style="color:rgba(4, 15, 36, 0.85)"> in the onEventCallback result data for details. Guide </span>buyer<span style="color:rgba(4, 15, 36, 0.85)">s to retry the payment based on the provided information.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="e8b1d7182041827ff5dc670d8add213f" id="u9c93417e" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>SDK_PAYMENT_FAIL</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="0446a58770b53d50f7f3a3c938409ef4" id="u12b861da" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">Payment failed.</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="593f0e5529d297028a1d6d1edd22528c" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">We suggest that you check the value of </span><em><span style="color:rgba(4, 15, 36, 0.85)">paymentResultCode</span></em><span style="color:rgba(4, 15, 36, 0.85)"> in the onEventCallback result data for details. Guide </span>buyer<span style="color:rgba(4, 15, 36, 0.85)">s to retry the payment based on the provided information.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="53420cb7e149e82f19b5b13be6a1e5d3" id="u332d10fa" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>SDK_PAYMENT_CANCEL</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="8f18f0fee8d7a0b10a47892f2157ee3e" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>The </span>buyer<span> exits the payment page without submitting the order.</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="d9baf0488f2f00bb4dd2d5b9c3e1692b" id="u66fa09a2" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>The SDK can be re-invoked with a </span><em><span>paymentSessionData</span></em><span> within the validity period; if it has expired, the </span><em><span>paymentSessionData</span></em><span> needs to be re-requested.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="615bda64c3fdf5d20614c335037b09e3" id="u2f14c9e4" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>SDK_PAYMENT_ERROR</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="0f84e0fa2b5be562b470269d7f3584dd" id="u1dd47992" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">The payment status was abnormal.</span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="b4ef90a75316a0a7c73fcb06ea01b99d" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">We suggest that you check the value of </span><em><span style="color:rgba(4, 15, 36, 0.85)">paymentResultCode</span></em><span style="color:rgba(4, 15, 36, 0.85)"> in the onEventCallback result data for details. Guide </span>buyer<span style="color:rgba(4, 15, 36, 0.85)">s to retry the payment based on the provided information.</span></p></td></tr></tbody></table>

The following sample code shows how to process the `onEventCallback`:

copy

    function onEventCallback({ code, result }) {
      switch (code) {
        case 'SDK_PAYMENT_SUCCESSFUL':
          // Payment was successful. Redirect buyers to the payment result page.
          break;
        case 'SDK_PAYMENT_PROCESSING':
          console.log('Check the payment result data', result);
          // Payment was being processed. Guide buyers to retry the payment based on the provided information.
          break;
        case 'SDK_PAYMENT_FAIL':
          console.log('Check the payment result data', result);
          // Payment failed. Guide buyers to retry the payment based on the provided information.
          break;
        case 'SDK_PAYMENT_CANCEL':
          // Guide buyers to retry the payment.
          break;
        case 'SDK_PAYMENT_ERROR':
          console.log('Check the payment result data', result);
          // The payment status was abnormal. Guide buyers to retry the payment based on the provided information.
          break;
        default:
          break;
      }
    }

Step 3: Obtain payment result Server-side
-----------------------------------------

After the buyer completes the payment or the payment times out, Antom sends the corresponding payment results to the you through server interactions, you can obtain the payment result by one of the following methods:

*   Receive the asynchronous notification
*   Inquire about the result

### **Receive the asynchronous notification**

When the payment reaches a final status of success or failure, Antom sends an asynchronous notification to the _paymentNotifyUrl_ specified in the **createPaymentSession** API through the [**notifyPayment**](https://global.alipay.com/docs/ac/ams/paymentrn_online) API. When you receive the notification from Antom, you are required to return a response as instructed in [Requirements](https://global.alipay.com/docs/ac/cashier_payment_cn/notification).

Antom allows you to specify the URL in the _paymentNotifyUrl_ parameter within the **createPaymentSession** API. If the URL for each payment is the same, you can also configure it in the Antom Dashboard.

The following code shows a sample of the notification request:

copy

    {
      "notifyType": "PAYMENT_RESULT",
      "result": {
        "resultCode": "SUCCESS",
        "resultStatus": "S",
        "resultMessage": "success"
      },
      "paymentRequestId": "2020010123456789XXXX",
      "paymentId": "2020010123456789XXXX",
      "paymentAmount": {
        "value": "4200",
        "currency": "SGD"
      },
      "paymentCreateTime": "2020-01-01T12:01:00+08:30",
      "paymentTime": "2020-01-01T12:01:01+08:30"
    }

The following sample code shows how to verify the signature of the notification and make a response to the notification:

copy

    @RequestMapping(path = "/payResult", method = RequestMethod.POST)
      public ResponseEntity<AlipayResponse> paymentNotifyProcessor(HttpServletRequest request,
                                                                   @RequestBody String body) {
    
        // retrieve the required parameters from the request header.
        String requestTime = request.getHeader("request-time");
        String clientId = request.getHeader("client-id");
        String rawSignature = request.getHeader("signature");
        String signature = "";
    
        // get valid part from raw signature
        if(rawSignature==null||rawSignature.isEmpty()){
          throw new RuntimeException("empty notify signature");
        }else {
          String[] parts = rawSignature.split("signature=");
          if (parts.length > 1) {
            signature = parts[1];
          }
        }
    
        // verify payment result notify's signature
        boolean verifyResult = SignatureTool.verify(request.getMethod(), request.getRequestURI(),
                                                    clientId, requestTime, body, signature,
                                                    ALIPAY_PUBLIC_KEY);
        if (!verifyResult) {
          throw new RuntimeException("Invalid notify signature");
        }
    
        // update the record status with notify result
    
        // respond the server that we accept the notify
        Result result = new Result("SUCCESS", "success", ResultStatusType.S);
        AlipayResponse response = new AlipayResponse();
        response.setResult(result);
        return ResponseEntity.ok().body(response);
      }

#### FAQs

##### When will the notification be sent?

It depends on whether the payment is completed:

*   If the payment is successfully completed, Antom will usually send you an asynchronous notification within 3 to 5 seconds. For some payment methods like OTC, the notification might take a bit longer.
*   If the payment is not completed, Antom needs to close the order first before sending an asynchronous notification. The time it takes for different payment methods to close the order varies, usually defaulting to 14 minutes.

##### Will the asynchronous notification be re-sent?

If you receive an asynchronous notification from Antom, you are required to return the response in the [Sample code](https://global.alipay.com/docs/ac/cashier_payment_cn/notification) format. If you do not respond to the asynchronous notification as required, or the asynchronous notification is not delivered due to network reasons, the notification will be automatically resent within 24 hours. The notification can be resent up to 8 times or until a correct response is received to terminate delivery. The sending intervals are as follows: 0 minutes, 2 minutes, 10 minutes, 10 minutes, 1 hour, 2 hours, 6 hours, and 15 hours.

##### Do I need to add a digital signature to the response?

If you receive an asynchronous notification from Antom, you are required to return the response in the [Sample code](https://global.alipay.com/docs/ac/cashier_payment_cn/notification) format, but you do not need to add a digital signature to your response.

##### How do I understand the meaning of the following key fields?

*   _result_: the payment result of the order.
*   _paymentRequestId_: the payment request ID generated by the merchant used for querying, canceling, and reconciliation.
*   _paymentId_: the payment order ID generated by Antom used for refund and reconciliation.
*   _paymentAmount_: if there is a need for amount reconciliation, you can consume this field.

### **Inquire about the result**

You can call the **inquiryPayment** API to initiate a query on the result of an order.

<table style="width:748px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="211" span="1"><col width="97" span="1"><col width="440" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="33d67e6e520ec46f9d13c30d9d1db8bf" id="ud2eea623" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="8b046a1acde5f7cfc4a66f7e70b3cb73" id="uf17d3dbd" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Required</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="556115133eac8ac08a6fc03a67eee670" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="040c4a64aa27871b3232b3978ca62d70" id="u8c7b1b2d" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span>paymentRequestId</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="50c01a3436019ad8eb62c19705c69763" id="u76f7c8a3" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a4953111bba12c7c598bb500510f3c7c" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">The payment request ID generated by </span>the merchant<span style="color:rgba(4, 15, 36, 0.85)">.</span></p></td></tr></tbody></table>

For a full set of parameters, refer to the [**inquiryPayment**](https://global.alipay.com/docs/ac/ams/paymentri_online) API for full set of parameters and additional requirements for certain payment methods.

The following sample code shows how to call the **inquiryPayment** API:

copy

    
    AlipayClient defaultAlipayClient = new DefaultAlipayClient(EndPointConstants.SG,
                                                               merchantPrivateKey, alipayPublicKey);
    
    AlipayPayQueryRequest alipayPayQueryRequest = new AlipayPayQueryRequest();
    alipayPayQueryRequest.setClientId(CLIENT_ID);
    alipayPayQueryRequest.setPath("/ams/api/v1/payments/inquiryPayment");
    
    AlipayPayQueryResponse alipayPayQueryResponse;
    try {
      alipayPayQueryResponse = defaultAlipayClient.execute(alipayPayQueryRequest);
    } catch (AlipayApiException e) {
      String errorMsg = e.getMessage();
      // handle error condition
    }

The following code shows a sample of the request message:

copy

    {
      "paymentRequestId": "2019060811401080010018882020035****"
    }

The following code shows a sample of the response message:

copy

    {
      "result": {
        "resultCode": "SUCCESS",
        "resultStatus": "S",
        "resultMessage": "Success"
      },
      "paymentStatus": "SUCCESS",
      "paymentRequestId": "pay_1089760038715669_10277574507XXXX",
      "paymentId": "2019060811401080010018882020035XXXX",
      "paymentAmount": {
        "value": "4200",
        "currency": "SGD"
      },
      "paymentCreateTime": "2019-06-01T12:01:01+08:30",
      "paymentTime": "2019-06-01T12:01:01+08:30",
      "transactions": null
    }

#### FAQs

##### How do I understand the meaning of the following key fields?

*   _result_: the result of the API call. It only indicates the result of the **inquiryPayment** API call. The order result should be determined based on the _paymentStatus_. `SUCCESS` and `FAIL` indicate final results, while `PROCESSING` indicates that the transaction is still in progress.
*   _paymentAmount_: amount verification. If there is a need for amount verification, this field can be used.

##### How frequently should I initiate the query?

It is recommended to initiate a round-robin query at an interval of 2 seconds until either the final payment result is retrieved or an asynchronous payment notification is received.

Step 4: Obtain capture result Server-side
-----------------------------------------

After the buyer completes the capture or the capture times out, Antom sends the corresponding capture results to you through server interactions, you can obtain the capture result by one of the following methods:

*   Receive the asynchronous notification
*   Inquire about the result

### **Receive the asynchronous notification**

When the capture reaches a final status of success or failure, Antom sends an asynchronous notification to the _paymentNotifyUrl_ specified in the **createPaymentSession** API through the [**notifyPayment**](https://global.alipay.com/docs/ac/ams/paymentrn_online) API. When you receive the notification from Antom, you are required to return a response as instructed in [Requirements](https://global.alipay.com/docs/ac/cashier_payment_cn/notification).

Antom allows you to specify the URL in the _paymentNotifyUrl_ parameter within the **createPaymentSession** API. If the URL for each payment is the same, you can also configure it in the Antom Dashboard.

The following code shows a sample of successful capture:

copy

    "captureAmount": {
      "currency": "SGD",
      "value": "4200"
    },
    "notifyType": "CAPTURE_RESULT",
    "captureId": "2022XXXXXXX",
    "captureRequestId": "Merchant_Request_ID_XXXXXX",
    "captureTime": "2022-11-10T00:34:52-08:00",
    "paymentId": "2022XXXXXXX",
    "result": {
      "resultCode": "SUCCESS",
      "resultMessage": "success.",
      "resultStatus": "S"
    }
    }

The following code shows a sample of failed capture:

copy

    "captureAmount": {
      "currency": "SGD",
      "value": "4200"
    },
    "notifyType": "CAPTURE_RESULT",
    "captureId": "2022XXXXXXX",
    "captureRequestId": "Merchant_Request_ID_XXXXXX",
    "captureTime": "2022-11-10T00:34:52-08:00",
    "paymentId": "2022XXXXXXX",
    "result": {
      "resultCode": "PROCESS_FAIL",
      "resultMessage": "fail.",
      "resultStatus": "F"
    }
    }

The following sample code shows how to verify the signature of the notification and make a response to the notification:

copy

    @RequestMapping(path = "/captureResult", method = RequestMethod.POST)
    public ResponseEntity<AlipayResponse> captureNotifyProcessor(HttpServletRequest request,
                                                                 @RequestBody String body) {
    
        // retrieve the required parameters from the request header.
        String requestTime = request.getHeader("request-time");
        String clientId = request.getHeader("client-id");
        String rawSignature = request.getHeader("signature");
        String signature = "";
    
        // get valid part from raw signature
        if(rawSignature==null||rawSignature.isEmpty()){
            throw new RuntimeException("empty notify signature");
        }else {
            String[] parts = rawSignature.split("signature=");
            if (parts.length > 1) {
                signature = parts[1];
            }
        }
    
        // verify payment result notify's signature
        boolean verifyResult = SignatureTool.verify(request.getMethod(), request.getRequestURI(),
                                                    clientId, requestTime, body, signature,
                                                    ALIPAY_PUBLIC_KEY);
        if (!verifyResult) {
            throw new RuntimeException("Invalid notify signature");
        }
    
        // update the record status with notify result
    
        // respond the server that we accept the notify
        Result result = new Result("SUCCESS", "success", ResultStatusType.S);
        AlipayResponse response = new AlipayResponse();
        response.setResult(result);
        return ResponseEntity.ok().body(response);
    }

#### FAQs

##### When will the notification be sent?

It depends on whether the payment is completed:

*   If the payment is successfully completed, Antom will usually send you an asynchronous notification within 3 to 5 seconds. For some payment methods like OTC, the notification might take a bit longer.
*   If the payment is not completed, Antom needs to close the order first before sending an asynchronous notification. The time it takes for different payment methods to close the order varies, usually defaulting to 14 minutes.

##### Will the asynchronous notification be re-sent?

If you receive an asynchronous notification from Antom, you are required to return the response in the [Sample code](https://global.alipay.com/docs/ac/cashier_payment_cn/notification) format. If you do not respond to the asynchronous notification as required, or the asynchronous notification is not delivered due to network reasons, the notification will be automatically resent within 24 hours. The notification can be resent up to 8 times or until a correct response is received to terminate delivery. The sending intervals are as follows: 0 minutes, 2 minutes, 10 minutes, 10 minutes, 1 hour, 2 hours, 6 hours, and 15 hours.

##### Do I need to add a digital signature to the response?

If you receive an asynchronous notification from Antom, you are required to return the response in the [Sample code](https://global.alipay.com/docs/ac/cashier_payment_cn/notification) format, but you do not need to add a digital signature to your response.

##### How do I understand the meaning of the following key fields?

*   _result_: represents the capture result of the order.
*   _notifyType_: the value of notifyType is `CAPTURE_RESULT`.
*   _paymentRequestId_: the payment request number you generated, used for querying, canceling, and reconciliation.
*   _paymentId_: the payment order ID generated by Antom used for refund and reconciliation.
*   _acquirerReferenceNo_: merchants integrating with in-card payment services in Singapore and Hong Kong will receive specific acquirer numbers in the notification.

### **Inquire about the result**

You can call the **inquiryPayment** API to initiate a query on the result of an order.

<table style="width:748px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="211" span="1"><col width="97" span="1"><col width="440" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="fb924e64f19d73927d77b5f70708a1f1" id="u2e692fad" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="56a79daeeca18e0878363982e087ce78" id="ucc62ee77" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Required</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="740a0527117de783f13736702f7edd2e" id="u72f0ceb4" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span style="color:#20304C">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="688d2314b667e89816f7fbc63df905ed" id="ue2a28058" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span>paymentRequestId</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="74399d11549148d5b95a1dd0ed641adc" id="uc2fb7399" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="1df577d3f21ddf19b35f10e2b0f7e9e7" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">The payment request ID generated by </span>the merchant<span style="color:rgba(4, 15, 36, 0.85)">.</span></p></td></tr></tbody></table>

The parameter is not a full set of parameters, refer to the [**inquiryPayment**](https://global.alipay.com/docs/ac/ams/paymentri_online) API for full set of parameters and additional requirements for certain payment methods.

The following sample code shows how to call the **inquiryPayment** API:

copy

    AlipayClient defaultAlipayClient = new DefaultAlipayClient(EndPointConstants.SG,
                                                               merchantPrivateKey, alipayPublicKey);
    
    AlipayPayQueryRequest alipayPayQueryRequest = new AlipayPayQueryRequest();
    alipayPayQueryRequest.setClientId(CLIENT_ID);
    alipayPayQueryRequest.setPath("/ams/api/v1/payments/inquiryPayment");
    
    AlipayPayQueryResponse alipayPayQueryResponse;
    try {
      alipayPayQueryResponse = defaultAlipayClient.execute(alipayPayQueryRequest);
    } catch (AlipayApiException e) {
      String errorMsg = e.getMessage();
      // handle error condition
    }

The following code shows a sample of the request message:

copy

    {
      "paymentRequestId": "2019060811401080010018882020035****"
    }

#### Value of capture status

The value of the _transactions_ in the response of the API is the capture status:

<table style="width:633px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="275" span="1"><col width="358" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="76057747035b4a8f24340e7c9832a7a0" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="39c532e22b158dbc98241925dbfb8d04" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="cb4bcd4189e5a2678674ab375688199f" id="u00191700" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">transactions.transationType</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="2544abd56dd57ada8eb17519c787a6de" id="u28f25565" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">The value is </span><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">CAPTURE</span></code><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">, meaning </span><span style="color:rgba(4, 15, 36, 0.85)">the capture status.</span></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="b1d183a755b95e6138198bc4e5e48bfc" id="uba8aaedc" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">transactions.transactionResult</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c43ef6ff0f06181734bd6748f59a8544" style="text-align:left;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span style="color:rgba(4, 15, 36, 0.85)">Capture status.</span></p></td></tr></tbody></table>

The following code shows a sample of successful capture:

copy

    {
      "transactions": [
        {
          "transactionType": "CAPTURE",
          "transactionStatus": "SUCCESS",
          "transactionRequestId": "test_test_test_XXXX",
          "transactionAmount": {
            "currency": "BRL",
            "value": "110"
          },
          "transactionId": "2022XXXXXXXX",
          "transactionResult": {
            "resultStatus": "S",
            "resultCode": "SUCCESS",
            "resultMessage": "success"
          }
        }
      ]
    }

The following code shows a sample of failed capture:

copy

    {
      "transactions": [
        {
          "transactionType": "CAPTURE",
          "transactionStatus": "FAIL",
          "transactionRequestId": "test_test_test_XXXX",
          "transactionAmount": {
            "currency": "BRL",
            "value": "110"
          },
          "transactionTime": "2022-09-29T07:13:50-07:00",
          "transactionId": "2022XXXXXXXX",
          "transactionResult": {
            "resultStatus": "F",
            "resultCode": "PROCESS_FAIL",
            "resultMessage": "General business failure. No retry."
          }
        }
      ]
    }

The following code shows a sample of processing capture:

copy

    {
      "transactions": [
        {
          "transactionType": "CAPTURE",
          "transactionStatus": "PROCESSING",
          "transactionRequestId": "test_test_test_XXXX",
          "transactionAmount": {
            "currency": "BRL",
            "value": "110"
          },
          "transactionId": "2022XXXXXXXX",
          "transactionResult": {
            "resultStatus": "U",
            "resultCode": "PAYMENT_IN_PROCESS",
            "resultMessage": "payment in process"
          }
        }
      ]
    }

#### FAQs

##### How do I understand the meaning of the following key fields?

*   _result_: the result of the API call. It only indicates the result of the **inquiryPayment** API call. The order result should be determined based on the _paymentStatus_. `SUCCESS` and `FAIL` indicate final results, while `PROCESSING` indicates that the transaction is still in progress.
*   _paymentAmount_: amount verification. If there is a need for amount verification, this field can be used.

##### How frequently should I initiate the query?

It is recommended to initiate a round-robin query at an interval of 2 seconds until either the final payment result is retrieved or an asynchronous payment notification is received.

Sample codes
============

**Full sample codes for front-end:**

copy

    // Step 1: Instantiate the SDK and handle the callback event.
    const onEventCallback = function({ code, result }) {
      switch (code) {
        case 'SDK_PAYMENT_SUCCESSFUL':
          // Payment was successful. Redirect buyers to the payment result page.
          break;
        case 'SDK_PAYMENT_PROCESSING':
          console.log('Check the payment result data', result);
          // Payment was being processed. Guide buyers to retry the payment based on the provided information.
          break;
        case 'SDK_PAYMENT_FAIL':
          console.log('Check the payment result data', result);
          // Payment failed. Guide buyers to retry the payment based on the provided information.
          break;
        case 'SDK_PAYMENT_CANCEL':
          // Guide buyers to retry the payment.
          break;
        case 'SDK_PAYMENT_ERROR':
          console.log('Check the payment result data', result);
          // The payment status was abnormal. Guide buyers to retry the payment based on the provided information.
          break;
        case 'SDK_END_OF_LOADING':
          // End your custom loading animation.
          break;
        default:
          break;
      }
    }
    const checkoutApp = new window.AMSCashierPayment({
      environment: "sandbox",
      locale: "en_US",
      onLog: ({code, message}) => {},
      onEventCallback: onEventCallback,
    });
    // Handle payment button events.
    document
      .querySelector("#your form id")
      .addEventListener("submit", handleSubmit);
    
    async function handleSubmit() {
      // Step 2: The server calls createPaymentSession API to obtain paymentSessionData.
      async function getPaymentSessionData() {
        const url = "Fill in the server address";
        const config = {
          // Fill in the request configuration.
        };
        const response = await fetch(url, config);
        // Obtain the value of the paymentSessionData parameter in the response.
        const { paymentSessionData } = await response.json();
        return paymentSessionData;
      }
      const paymentSessionData = await getPaymentSessionData();
    
      // Step 3: Create rendering components.
      await checkoutApp.createComponent({ 
        sessionData: paymentSessionData, 
        appearance:{
          showLoading: true, // Set as true by default to enable the default loading pattern.
        }, 
      });
    }

**Sample codes for** **customized loading animation:**

The card payment scenario supports configuration of custom loading animations:

1.  Configure _showLoading_ to `false` when rendering the component.
2.  Render a customized loading animation on the current page when the createComponent function is called.
3.  Listen to the onEventCallback event.

1.  Show your custom loading animation when you receive the `SDK_START_OF_LOADING` event code.
2.  End your custom loading animation when you receive the `SDK_END_OF_LOADING` event code.

copy

    async function create(sessionData) {
      await checkoutApp.createComponent({ 
        sessionData: sessionData, 
        appearance:{
          showLoading: false, // Default is true to allow the configuration whether to display a loading animation.
        }, 
      });
    }
    

**Sample codes for AVS authentication:**

Pass in pre-collected billing address information for AVS authentication.

<table style="width:748px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col width="211" span="1"><col width="97" span="1"><col width="440" span="1"></colgroup><tbody><tr style="height:33px"><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="5596a9d18cda037cf4533dd330895d28" id="u3ef63ddd" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Parameter name</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="91c077e3dd2e28496eb62cb78f13f4d5" id="u4c90552c" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Required</span></strong></p></td><td style="background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="af4fdfa4456d247fd8ba33c45e5101c0" id="ud66ab568" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" style="color:rgb(32, 48, 76);font-size:14px" data-mce-style="font-size: 11px">Description</span></strong></p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="e0c416baaef7981044f5b846ab328968" id="ub0a70cab" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><em><span class="lake-fontsize-11" style="color:rgba(4, 15, 36, 0.85);font-size:14px" data-mce-style="font-size: 11px">billingAddress</span></em></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="bab6ba6d4022b0dc95ee149eda9bfd91" id="ub39d0b48" style="text-align:center;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span></span></p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="1fe771f577b3dc56a2b8cfca87551abb" id="uf899e22f" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>If you need to pass in pre-collected billing address information for AVS validation, you can configure the following parameters to be passed in via the submit method.</span></p><ul data-lake-id="0c685826bd851ca82f3a413f9bd122a5" lake-indent="0" style="list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><li data-lake-id="7c45cb8f2b20d04e06889366a2255aeb"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>billingAddress</span></em></code><span>: Optional Object. Billing address information is used to identify and locate the payer. It contains the following parameters:</span></li></ul><ul data-lake-id="7ea4a42a2596bce2b5251ba95d7956d7" lake-indent="1" style="list-style-type:none;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word"><ul data-lake-id="4d60afe7a814a100a22e8f8ee2bd0bb7" lake-indent="0" style="list-style-type:circle;padding-left:23px;margin:0px;line-height:1.74"><li data-lake-id="c63ee64bfcd280322b730db16d88ef1d"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>region</span></em></code><span>: Required. String (2). </span><a href="https://www.iso.org/obp/ui/#search" target="_blank"><span>ISO 3166</span></a><span> compliant 2-digit country code.</span></li><li data-lake-id="cddd914bb15eba9adaadd2b4f040513a"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>state</span></em></code><span>: Optional. String (8). The name of the state, country, or province.</span></li><li data-lake-id="d6ca5b67f0ca5f5165227b373e59c05c"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>city</span></em></code><span>: Optional. String (32). Name of the city, region, suburb, town or village.</span></li><li data-lake-id="0c47afbfc030b810fa97facf5b515d2d"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>address1</span></em></code><span>: Optional. String (256). </span><span style="color:rgba(4, 15, 36, 0.85)">Address line 1, e.g., street address, P.O. Box, and company name.</span></li><li data-lake-id="a60522c8b3b30bc9e9c9436165d3d8e1"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>address2</span></em></code><span>: Optional. String (256). Address line 2, e.g., apartment, suite, unit, and building information.</span></li><li data-lake-id="53e36baf6d97bcca8ef41666cf8f7467"><code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px"><em><span>zipCode</span></em></code><span>: Optional. String (32). Zip code.</span></li></ul></ul></td></tr></tbody></table>

copy

    // The buyer enters the address information and stores it in the billingAddress object for subsequent submissions
    const billingAddress = {
      region: '',
      address1: '',
      address2: '',
      city: '',
      state: '',
      zipCode: ''
    }
    
    // Execute when the buyer completes the form and clicks the submit button.
    checkoutApp.submit({billingAddress}).then(({code, message})=>{})

Event codes
===========

You might see two types of event codes:

*   Status codes: Returned by `onEventCallback` during the component's runtime lifecycle.
*   Error codes: Returned by `onEventCallback` or `onError` during the component initialization phase.

<table style="width:818px;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)" class="lake-table"><colgroup><col span="1" width="176"><col span="1" width="209"><col span="1" width="235"><col span="1" width="198"></colgroup><tbody><tr style="height:33px"><td style="text-align:center;vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="789fccd63763a163465a3a89b98787ec" id="u30405c04" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Type</span></strong></p></td><td style="text-align:center;vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a349a6f10695275e6bd692f6856d430c" id="u06eef118" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span class="lake-fontsize-11" data-mce-style="font-size: 11px" style="font-size:14px">Code</span></strong></p></td><td style="text-align:center;vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="5def581286447f8db6c64367fb7e7201" id="ua01cd051" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span>Description</span></strong></p></td><td style="text-align:center;vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="cc245d41a40bea52d1a6ec5579d7ae3c" id="u379fc3ca" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><strong><span>Further action</span></strong></p></td></tr><tr style="height:33px"><td rowspan="2" style="text-align:center;vertical-align:middle;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="25507965e4f20c76495829adbadfde35" id="u6baf56a0" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Status codes</span></p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c9763ded79b66fee4a826d9c64c96f3c" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_START_OF_LOADING</p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="481c705d7a4b992fd63af12227204fba" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">The loading animation starts to play during the payment component creation.</p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="cffbfa08fbf62ee526c19a44c4b60127" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>No further action.</span></p></td></tr><tr style="height:33px"><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="f675ce705304ac57f75a9625b98dddcb" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_END_OF_LOADING</p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="7c2b33ad897545280be86d3b0062f7ff" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">The loading animation ends during the payment component creation.</p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="52e57caf9b17d457f3f3b5e3fe0d01c9" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">No further action.</p></td></tr><tr style="height:33px"><td rowspan="5" colspan="1" style="text-align:center;vertical-align:middle;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="e109be475e63a4e3b74e22f0dbf3f6fd" id="u9c921db8" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px"><span>Error codes</span></p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a20d224c568e48b9d67847a2c66a8c01_p_0" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_INTERNAL_ERROR</p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a20d224c568e48b9d67847a2c66a8c01_p_0" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">The internal error of the SDK occurs.</p></td><td style="text-align:left;vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="a20d224c568e48b9d67847a2c66a8c01_p_0" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">Contact Antom Technical Support to resolve the issue.</p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c5601caf55d37a428fcd4b6ac01c51fc" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_CREATEPAYMENT_PARAMETER_ERROR</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="88beec504e4580fa7488513fa4e4edb9" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">The parameters passed into the <code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px">AMSCashierPayment</code> method are&nbsp;incorrect.</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="be62273e73fba320a8cfaa498c214fd7" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">Ensure the parameters are passed correctly and send a new request.</p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="713ec085f3025eea0f7f4fcd66f2bad5" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_INIT_PARAMETER_ERROR</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="50db93dc072f51084716f127048d3812" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">The parameters passed into the <code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px">createComponent</code> method are&nbsp;incorrect.</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="6de2955c73e5a664cc05aab42ef42c83" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">Ensure the parameters are passed correctly and send a new request.</p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="8fe508b963181c8ef8b0924d52027bab" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_CREATECOMPONENT_ERROR</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="eccc5a71fc3e5c2801b1e8a81baf1533" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">An exception occurs when calling the <code style="font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px">createComponent</code> method.</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="c8f83dd0150dd48099b6ab1610bdfee1" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">Contact Antom Technical Support to resolve the issue.</p></td></tr><tr style="height:33px"><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="15cdf4d13a202fcd72a49af0b5bffd62" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">SDK_CALL_URL_ERROR</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="8ae25ea57947ac9a77394ab03c064fc2" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">The payment method client failed to be revoked.</p></td><td style="min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default"><p data-lake-id="65de56c24624279c9418e5be951a2771" style="font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px">Contact Antom Technical Support to resolve the issue.</p></td></tr></tbody></table>

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 14](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 15](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?

#### On this page

[User experience](#fc442 "User experience")

[Payment flow](#eLZVd "Payment flow")

[Integration steps](#QLFGi "Integration steps")

[Step 1: Create a payment session](#zhBSk "Step 1: Create a payment session")

[Install an API library](#d3kyo "Install an API library")

[Initialize request instance](#WLui0 "Initialize request instance")

[Create a payment session](#Cwfah "Create a payment session")

[Sample codes of calling the createPaymentSession API](#3L7zQ "Sample codes of calling the createPaymentSession API")

[FAQs](#UGjGp "FAQs")

[Can Chinese characters be used in the request?](#asEuc "Can Chinese characters be used in the request?")

[How to set the payment result notification address?](#KQLhk "How to set the payment result notification address?")

[Step 2: Create and invoke the SDK](#db6T7 "Step 2: Create and invoke the SDK")

[Install](#JmurT "Install")

[Instantiate the SDK](#cJVO5 "Instantiate the SDK")

[Invoke the SDK](#NdqSF "Invoke the SDK")

[Embedded experience vs. Popup experience](#qUs4k "Embedded experience vs. Popup experience")

[Popup experience](#OdGDh "Popup experience")

[Embedded experience](#3j5PH "Embedded experience")

[Embedded Submit Payment](#UPN5c "Embedded Submit Payment")

[Destroy the Component](#vpOFL "Destroy the Component")

[FAQs](#wOCBI "FAQs")

[Display payment results](#Weg3g "Display payment results")

[Step 3: Obtain payment result](#Mo7TZ "Step 3: Obtain payment result")

[Receive the asynchronous notification](#WDV7j "Receive the asynchronous notification")

[FAQs](#V1F5v "FAQs")

[Inquire about the result](#wlAb8 "Inquire about the result")

[FAQs](#tkpZO "FAQs")

[Step 4: Obtain capture result](#g1O5F "Step 4: Obtain capture result")

[Receive the asynchronous notification](#nnrAd "Receive the asynchronous notification")

[FAQs](#Bdbew "FAQs")

[Inquire about the result](#NrYhL "Inquire about the result")

[Value of capture status](#q3e0A "Value of capture status")

[FAQs](#pXbwm "FAQs")

[Sample codes](#xjYO0 "Sample codes")

[Event codes](#ZedB5 "Event codes")