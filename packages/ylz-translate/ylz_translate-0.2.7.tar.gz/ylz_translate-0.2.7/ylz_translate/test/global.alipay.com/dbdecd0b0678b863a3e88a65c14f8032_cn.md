咨询（结账支付）| 产品API | 支付宝文档
===============

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![图片2：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fconsult)  
[返回首页](../../)

产品API
-------

[支付宝API](/docs/ac/ams/api)  
在线支付  
授权  
安全存储  
支付  

[咨询（结账支付）](/docs/ac/ams/consult)  
[支付（结账支付）](/docs/ac/ams/payment_cashier)  
[创建支付会话（结账支付）](/docs/ac/ams/session_cashier)  
[扣款（结账支付）](/docs/ac/ams/capture)  
[支付（自动扣款）](/docs/ac/ams/payment_agreement)  
[创建支付会话（EasySafePay）](/docs/ac/ams/createpaymentsession_easypay)  
[通知支付](/docs/ac/ams/paymentrn_online)  
[通知扣款（结账支付）](/docs/ac/ams/notify_capture)  
[查询支付](/docs/ac/ams/paymentri_online)  
[取消](/docs/ac/ams/paymentc_online)  
订阅  
争议  
退款  
申报  
店内支付  

咨询（结账支付）
==========================

2024-05-22 08:45

POST /v1/payments/consult

使用**咨询** API 向支付宝发起支付咨询请求。此请求会返回给商家，提供不同的支付方式及其对应的金额、国家、货币、规则和配置信息。

**咨询** API 允许商家：

*   为消费者提供多种支付方式，而不承担因这些支付方式变化而产生的额外成本，或管理选择和排序这些支付方式的逻辑。
*   自动化选择和排序多种支付方式。

结构
====
一条消息由头部和正文组成。以下部分专注于正文结构。头部结构的详情请参考：
*   [请求头部](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [响应头部](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)  

**注意**：除数组外，每个字段的数据类型应设置为字符串。这意味着字段值必须用双引号（" "）包围。例如：
*   如果字段的数据类型为整型，其值为20，应表示为"20"。
*   如果字段的数据类型为布尔型，其值为true，应表示为"true"。
### 请求参数  
显示全部  
#### productCode 字符串  必需  
表示正在使用的支付产品。可使用的支付产品在合同中规定。固定值为：  
*   `CASHIER_PAYMENT`: 表示此API用于收银台支付场景。  
关于此字段的更多信息  
*   最大长度：32个字符  
#### paymentAmount Amount 对象  必需  
商家在订单货币中请求收取的支付金额。  
显示子参数  
#### userRegion 字符串  
用户的2位国家或地区代码。更多信息请参考[ISO 3166国家代码](https://www.iso.org/obp/ui/#search)标准。支付方式将根据给定用户地区的支付方式相关性进行排序。  
关于此字段的更多信息  
*   最大长度：2个字符  
#### merchantRegion 字符串  
商家经营业务的国家或地区。参数是遵循[ISO 3166国家代码](https://www.iso.org/obp/ui/#search)标准的2位国家或地区代码。  
可能的值有 `US`, `SG`, `HK`, `PK`, `JP`, `CN`, `BR`, `AU`, 和 `MY`。  
当使用全球收单网关（GAGW）产品时，此参数是必需的。  
关于此字段的更多信息  
*   最大长度：2个字符  
#### settlementStrategy SettlementStrategy 对象  
结算策略。  
显示子参数  
#### allowedPaymentMethodRegions 字符串数组  
表示支付方法国家或地区的代码列表。此参数的值为2位[ISO国家代码](https://www.iso.org/obp/ui/#search)或`GLOBAL`。  
如果您希望返回特定地区的可用支付方式，请指定此参数。例如，如果传入`GLOBAL`，则返回全球卡片Visa和Mastercard。  
关于此字段的更多信息  
*   最大长度：6个字符  
#### env Env 对象  必需
关于订单放置的环境信息，例如设备信息。  
显示子参数  
#### 买家（Buyer）对象  
买家信息。  
显示子参数  
#### 商家账户ID（merchantAccountId）字符串  
用于唯一标识商家账户的ID。  
当您在多个地点使用同一个客户端ID时，需要指定此参数。  
关于此字段的更多信息  
*   最大长度：32个字符
### 响应参数  
显示全部  
#### result 结果对象 **必需**  
包含状态和错误代码等请求结果信息。  
注意：此字段不表示支付结果。它仅表示咨询接口是否调用成功。  
显示子参数  
#### paymentOptions 支付选项列表 Array<PaymentOption> 对象  
支付选项列表。  
显示子参数  
API 探索器  
示例代码 在沙箱中运行
### 请求  
URL  
北美地区  
https://open-na-global.alipay.com/ams/api/v1/payments/consult  

请求体  
复制  
1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
20  
21  
22  
23  
24  
25  
26  
{  
"结算策略": {  
"结算货币": "USD"  
},  
"产品代码": "CASHIER_PAYMENT",  
"用户地区": "SG",  
"允许的支付方式地区": [  
"HK",  
"JP",  
"CN",  
"SG",  
"MY",  
"PH",  
"ID",  
"KR",  
"TH"  
],  
"环境": {  
"操作系统类型": "IOS",  
"终端类型": "WAP"  
},  
"支付金额": {  
"货币": "THB",  
"值": "30000"  
}  
}  

请注意，由于原文档中存在大量重复的“ההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה
### 响应  
响应体  
复制  
1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
17  
18  
19  
20  
21  
22  
23  
24  
25  
26  
27  
28  
29  
30  
31  
32  
33  
34  
35  
36  
37  
38  
39  
40  
41  
42  
43  
44  
45  
46  
47  
48  
49  
50  
51  
52  
53  
54  
55  
56  
57  
58  
59  
60  
61  
62  
63  
64  
65  
66  
67  
68  
69  
70  
71  
72  
73  
74  
75  
76  
77  
78  
79  
80  
81  
82  
83  
84  
85  
86  
87  
88  
89  
90  
91  
92  
93  
94  
95  
96  
97  
98  
99  
100  
101  
102  
103  
104  
105  
106  
107  
108  
109  
110  
111  
112  
113  
114  
115  
116  
117  
118  
119  
120  
121  
122  
123  
124  
125  
126  
127  
128  
129  
130  
131  
132  
133  
134  
135  
136  
137  
138  
139  
140  
141  
142  
143  
144  
145  
146  
147  
148  
149  
150  
151  
152  
153  
154  
155  
156  
157  
158  
159  
160  
161  
162  
163  
164  
165  
166  
167  
168  
169  
170  
171  
172  
173  
174  
175  
176  
177  
178  
179  
180  
181  
182  
183  
184  
185  
186  
187  
188  
189  
190  
191  
192  
193  
194  
195  
196  
197  
198  
199  
200  
201  
202  
203  
204  
205  
206  
207  
208  
209  
210  
211  
212  
213  
214  
215  
216  
217  
218  
219  
220  
221  
222  
223  
224  
225  
226  
227  
228  
229  
230  
231  
232  
233  
234  
235  
236  
237  
238  
239  
240  
241  
242  
243  
244  
245  
246  
247  
248  
249  
250  
251  
252  
253  
254  
255  
256  
257  
258  
259  
260  
261  
262  
263  
264  
265  
266  
267  
268  
269  
270  
271  
272  
273  
274  
275  
276  
277  
278  
279  
280  
281  
282  
283  
284  
285  
286  
287  
288  
289  
290  
291  
292  
293  
294  
295  
296  
297  
298  
299  
300  
301  
302  
303  
304  
305  
306  
{  
"result": {  
"resultStatus": "S",  
"resultCode": "SUCCESS",  
"resultMessage": "成功。"  
},  
"支付选项": [  
{  
"支付方式区域": [  
"BR"  
],  
"分期付款": {  
"计划": [  
{  
"利率": "0.00",
"分期数": "2",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "3",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "4",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "5",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "6",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "7",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "8",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00",  
"分期数": "9",  
"分期间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用状态": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{
"利率": "0.00%",  
"分期数": "10",  
"间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00%",  
"分期数": "11",  
"间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
},  
{  
"利率": "0.00%",  
"分期数": "12",  
"间隔": "月",  
"最低分期金额": {  
"货币": "BRL",  
"值": "4000"  
},  
"启用": true,  
"最高分期金额": {  
"货币": "BRL",  
"值": "999999999900"  
}  
}  
],  
"支持的卡种": [  
{  
"标识": {  
"标识名称": "AMEX",  
"标识链接": "https://cdn.marmot-cloud.com/storage/2022/9/26/91418df3-a62b-47be-a3c4-9a40bb66f0c5.svg"  
},  
"卡种": "AMEX"  
},  
{  
"标识": {  
"标识名称": "HIPERCARD",  
"标识链接": "https://cdn.marmot-cloud.com/storage/2022/9/26/b2a364ef-0a94-4591-8eb6-749837ed4a12.svg"  
},  
"卡种": "HIPERCARD"  
},  
{  
"标识": {  
"标识名称": "MASTERCARD",  
"标识链接": "https://cdn.marmot-cloud.com/storage/2022/9/30/593c0dd3-b12e-4578-8efb-17b85614f92c.svg"  
},  
"卡种": "MASTERCARD"  
},  
{  
"标识": {  
"标识名称": "VISA",  
"标识链接": "https://cdn.marmot-cloud.com/storage/2022/9/26/dfd471f3-da7d-4ef1-8486-cfa4301045c6.svg"  
},  
"卡种": "VISA"  
},  
{  
"标识": {  
"标识名称": "ELO",  
"标识链接": "https://cdn.marmot-cloud.com/storage/2022/9/26/ae2b5c32-ce7f-473c-b311-763563dc4145.svg"  
},  
"卡种": "ELO"  
}  
]  
},  
"支付方式类别": "信用卡",  
"支付选项详情": {  
"资金来源": [  
"信用"  
],  
"支持的卡种": [  
{  
"标识": {  
"标识名称": "AMEX",  
"标识链接": "https://cdn.marmot-cloud.com/storage/2022/9/26/91418df3-a62b-47be-a3c4-9a40bb66f0c5.svg"  
},  
"卡种": "AMEX"  
},
这是关于不同支付方式的配置信息，包括信用卡和电子支付方式。以下是中文翻译：

```json
[
  {
    "logo": {
      "logoName": "HIPERCARD",
      "logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26/b2a364ef-0a94-4591-8eb6-749837ed4a12.svg"
    },
    "cardBrand": "HIPERCARD"
  },
  {
    "logo": {
      "logoName": "MASTERCARD",
      "logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/30/593c0dd3-b12e-4578-8efb-17b85614f92c.svg"
    },
    "cardBrand": "MASTERCARD"
  },
  {
    "logo": {
      "logoName": "VISA",
      "logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26/dfd471f3-da7d-4ef1-8486-cfa4301045c6.svg"
    },
    "cardBrand": "VISA"
  },
  {
    "logo": {
      "logoName": "ELO",
      "logoUrl": "https://cdn.marmot-cloud.com/storage/2022/9/26/ae2b5c32-ce7f-473c-b311-763563dc4145.svg"
    },
    "cardBrand": "ELO"
  },
  {
    "logo": {
      "logoName": "DINERS",
      "logoUrl": "https://gw.alipay.com/antom/icon/medium/default/DINERS.svg"
    },
    "cardBrand": "DINERS"
  }
],

{
  "logo": {
    "logoName": "Card"
  },
  "paymentMethodType": "CARD",
  "enabled": true
},

{
  "paymentMethodRegion": [
    "BR"
  ],
  "logo": {
    "logoName": "Pix",
    "logoUrl": "https://resourcecenter-v2-internet-site-dev-s29001109997.alipay.net/antom/icon/medium/default/pix.svg"
  },
  "paymentMethodType": "PIX",
  "enabled": true
},

{
  "disableReason": "CURRENT_CHANNEL_NOT_EXIST",
  "paymentMethodRegion": [
    "PL"
  ],
  "logo": {
    "logoName": "Blik",
    "logoUrl": "https://gw.alipay.com/antom/icon/medium/default/blik.svg"
  },
  "paymentMethodType": "BLIK",
  "enabled": false
},

{
  "disableReason": "CURRENT_CHANNEL_NOT_EXIST",
  "paymentMethodRegion": [
    "HK",
    "TH",
    "KR",
    "PH",
    "ID",
    "CN",
    "MY"
  ],
  "logo": {
    "logoName": "Alipay+",
    "logoUrl": "https://cdn.marmot-cloud.com/storage/aplus-checkout-prod/icon/prod/CONNECT_WALLET.png"
  },
  "paymentMethodType": "CONNECT_WALLET",
  "enabled": false
}
]
```

这段数据列出了几种支付方式，包括HIPERCARD、MASTERCARD、VISA、ELO和DINERS等信用卡品牌，以及Pix（巴西的即时支付系统）和Blik（波兰的移动支付系统）。其中，Alipay+（支付宝+）在某些地区不可用，可能是因为渠道不存在。每个支付方式都包含了其标识（logoName和logoUrl）和是否启用（enabled）的状态。
很抱歉，由于您提供的文档内容为空，我无法进行翻译。请您提供具体的Markdown格式文档内容，我将很乐意为您翻译成中文。
### 结果/错误代码  
| 代码 | 值 | 消息 | 进一步行动 |
| --- | --- | --- | --- |
| SUCCESS | S | 成功 | 咨询成功。无需进一步操作。 |
| CURRENCY\_NOT\_SUPPORT | F | 货币不受支持。 | 更改请求中使用的货币。如果问题持续，请联系支付宝技术支持以获取详细原因。 |
| MERCHANT\_NOT\_REGISTERED | F | 商户未注册。 | 请使用注册接口注册商户。如果调用注册接口失败，请联系支付宝技术支持。 |
| NO\_PAY\_OPTIONS | F | 无可用支付选项。 | 请联系蚂蚁金服技术支持以获取详细原因。 |
| PARAM\_ILLEGAL | F | 缺少必需参数，或存在非法参数。例如，非数字输入、无效日期或参数长度和类型错误。 | 检查并验证当前API的必需请求字段（包括头部字段和正文字段）是否正确传递并有效。 |
| PROCESS\_FAIL | F | 发生一般业务失败。 | 不要重试。通常需要人工干预。建议联系支付宝技术支持解决此问题。 |
| SETTLE\_CONTRACT\_NOT\_MATCH | F | 未找到匹配的结算合同。 | 请检查以下解决方案：  
1. 从商户注册的多种货币中指定一种结算货币。  
2.  检查结算货币是否在结算合同中指定。  
3.  商户未签署结算合同。请联系支付宝技术支持。 |
| UNKNOWN\_EXCEPTION | U | 由于未知原因，API调用失败。 | 重新调用接口以解决问题。如果未解决，请联系支付宝技术支持。 |

要查看文档的最新更新，请访问 [发行说明](https://global.alipay.com/docs/releasenotes)。
图片3  
图片4  
@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)  
#### 这个页面是否有帮助？