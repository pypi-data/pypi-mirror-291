inquiryPayment | Product APIs | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fpaymentri)

[Go to Homepage](../../)

Product APIs

[Alipay APIs](/docs/ac/ams/api)

Online payments

In-store payments

Payment

[pay (User-presented Mode Payment)](/docs/ac/ams/upm)

[pay (Order Code Payment)](/docs/ac/ams/oc)

[pay (Entry Code Payment)](/docs/ac/ams/ec)

[notifyPayment](/docs/ac/ams/paymentrn)

[inquiryPayment](/docs/ac/ams/paymentri)

[cancel](/docs/ac/ams/paymentc)

Refund

Registration

inquiryPayment
==============

2022-12-01 08:40

POST /v1/payments/inquiryPayment

Use the **inquiryPayment** API to query for information about a previously submitted payment request or accept the asynchronous processing result for a payment.

Structure
=========

A message consists of a header and body. The following sections are focused on the body structure. For the header structure, see：

*   [Request header](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [Response header](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**Note**: Set the data type of each field (except array) as String. This means that you must use double quotation marks (" ") to enclose the field value. Examples:

*   If the data type of a field is Integer and its value is 20, set it as "20". 
*   If the data type of a field is Boolean and its value is true, set it as "true". 

### Request parameters

#### paymentRequestId String  

The unique ID that is assigned by a merchant to identify a payment request. _paymentRequestId_ and _paymentId_ cannot both be null. If both _paymentRequestId_ and _paymentId_ are specified, _paymentId_ takes precedence.

More information about this field

*   Maximum length: 64 characters

#### paymentId String  

The unique ID that is assigned by Alipay to identify a payment. _paymentRequestId_ and _paymentId_ cannot both be null. A one-to-one correspondence between _paymentId_ and _paymentRequestId_ exists. If both _paymentRequestId_ and _paymentId_ are specified, _paymentId_ takes precedence.

More information about this field

*   Maximum length: 64 characters

### Response parameters

Show all

#### result Result object 

The request result contains information such as status and error codes.

Note: This field doesn't indicate the payment result. This field only indicates whether the inquiryPayment interface is called successfully.

Show child parameters

#### paymentStatus String  

Indicates the final status of Alipay payment. Valid values are:

*   `SUCCESS`: Indicates the transaction is successful. 
*   `FAIL`: Indicates the transaction is failed. 
*   `PROCESSING`: Indicates the transaction is under processing. 
*   `CANCELLED`: Indicates the transaction is canceled.

#### paymentResultCode String  

Payment result code

More information about this field

*   Maximum length: 64 characters

#### paymentResultMessage String  

Payment result message

More information about this field

*   Maximum length: 256 characters

#### paymentRequestId String  

The unique ID that is assigned by a merchant to identify a payment request.

More information about this field

*   Maximum length: 64 characters

#### paymentId String  

The unique ID that is assigned by Alipay to identify a payment.

More information about this field

*   Maximum length: 64 characters

#### paymentAmount Amount object REQUIRED

The payment amount that the merchant requests to receive in the order currency.

Show child parameters

#### authExpiryTime Datetime  

Authorization expiration time.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### paymentCreateTime Datetime  

The date and time when the payment is created.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### paymentTime Datetime  

The date and time when the payment reaches a final state of success or failure.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### pspCustomerInfo PspCustomerInfo object 

The customer information the Alipay+ MPP.

Note: Alipay+ Mobile Payment Provider, is a Mobile Payment Partner participating in Alipay+ Core or other user- or issuer-facing payment service provider cooperating with a member of Ant Group to enable payments.

Show child parameters

#### redirectActionForm RedirectActionForm object 

Provides information about the redirection action.

Show child parameters

#### transactions Array<Transaction> object 

Information about the transaction.

More information about this field

*   Maximum size: Unlimited

Show child parameters

#### grossSettlementAmount Amount object 

The total settlement amount, which equals to the transaction amount multiplied by the value of _settlementQuote_.

Note: This field is empty when the settlement currency is the same as the transaction currency.

Show child parameters

#### settlementQuote Quote object 

The exchange rate between the settlement currency and transaction currency at the time of the transaction, which is provided only in the locked-in rate case.

Note: This field is empty when the settlement currency is the same as the transaction currency.

Show child parameters

API Explorer

### Request

URL

North America

https://open-na-global.alipay.com/ams/api/v1/payments/inquiryPayment

Request Body

Copy

1

2

3

{

"paymentId": "2019060811401080010018882020035XXXX"

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Response

Case

A successful payment

Response Body

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

{

"result": {

"resultCode": "SUCCESS",

"resultStatus": "S",

"resultMessage": "success"

},

"paymentStatus": "SUCCESS",

"paymentRequestId": "pay\_1089760038715669\_10277574507XXXX",

"paymentId": "2019060811401080010018882020035XXXX",

"paymentAmount": {

"value": "500",

"currency": "USD"

},

"paymentCreateTime": "2019-06-01T12:01:01+08:30",

"paymentTime": "2019-06-01T12:01:01+08:30",

"transactions": null

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

More information 
-----------------

This section provides additional information about key parameters. See the following list for details:

*   _paymentTime_:  
    The successful execution time of this payment by Alipay, that is, the date and time when the payment reaches a final state of success or failure. This value is used as the start time of the subsequent revocable and refundable time. For example, if the refundable time is 6 months, the final time to accept the refund is _paymentTime_ plus 6 months.
*   _paymentId_:  
    The unique payment processing ID. For polling the same payment, this field must be unique; for polling different payments, this field must be different. This value can be used for further actions like inquiry, cancellation, or refund.
*   _paymentRequestId_ or _paymentId_:  
    To decide when to use _paymentRequestId_ or _paymentId_**,** follow these rules:

*   If the **pay** interface calling returns successfully, the merchant can use the _paymentId_ or _paymentRequestId_ to query the original payment.
*   If the **pay** interface calling returns an unknown exception or times out, the merchant can only use _paymentRequestId_ to query the payment result.
*   If the **cancel** interface calling returns an unknown exception or times out, the merchant can use either _paymentId_ or _paymentRequestId_ of the original payment to query the cancel result.
*   If the refund interface calling returns an unknown exception or times out, the merchant can use either _paymentId_ or _paymentRequestId_ of the original payment to query the refund result. But using _refundRequestId_ is not supported.

Result process logic
--------------------

For different request results, different actions are to be performed. See the following list for details:

*   If the value of _result.resultStatus_ is `S`, payment result inquiry succeeds.
*   If the value of _result.resultStatus_ is `F`, payment inquiry fails.
*   If the value of _result.resultStatus_ is `U`, then the request result is unknown. Use the same request parameters to retry the inquiry request. 

### Result/Error codes

| Code | Value | Message | Further action |
| --- | --- | --- | --- |
| SUCCESS | S | Success | Call the interface successfully. Obtain the order status by _paymentStatus_.
 |
| ORDER\_NOT\_EXIST | F | The order does not exist. | Check whether _paymentId_ is correct.

 |
| CLIENT\_INVALID | F | The client is invalid. | Check whether _clientId_ is correct.

 |
| METHOD\_NOT\_SUPPORTED | F | The server does not implement the requested HTTP method. | Check whether the HTTP method is correct.

 |
| MEDIA\_TYPE\_NOT\_ACCEPTABLE | F | The server does not implement the media type that is acceptable to the client. | Check whether the media type is correct.

 |
| USER\_KYC\_NOT\_QUALIFIED | F | Payment failed because of the user's KYC status. The user is either not KYC compliant, or the KYC status is not qualified for this transaction (for example, limitations on the payment amount or product information). | Prompt the user to complete KYC.

 |

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?