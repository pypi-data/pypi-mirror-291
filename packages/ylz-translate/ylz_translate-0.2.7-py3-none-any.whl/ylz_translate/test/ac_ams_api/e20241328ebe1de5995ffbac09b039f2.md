refund | Product APIs | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Frefund)

[Go to Homepage](../../)

Product APIs

[Alipay APIs](/docs/ac/ams/api)

Online payments

In-store payments

Payment

Refund

[refund](/docs/ac/ams/refund)

[inquiryRefund](/docs/ac/ams/ir)

Registration

refund
======

2023-11-09 09:33

POST /v1/payments/refund

Use the **refund** API to initiate a synchronous or asynchronous refund for a successful payment.

Structure
=========

A message consists of a header and body. The following sections are focused on the body structure. For the header structure, see：

*   [Request header](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [Response header](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**Note**: Set the data type of each field (except array) as String. This means that you must use double quotation marks (" ") to enclose the field value. Examples:

*   If the data type of a field is Integer and its value is 20, set it as "20". 
*   If the data type of a field is Boolean and its value is true, set it as "true". 

### Request parameters

Show all

#### refundRequestId String  REQUIRED

The unique ID assigned by the merchant to identify a refund request.

More information about this field

*   This field is an API idempotency field.The merchant uses the refundRequestId field for idempotency control. For payment requests that are initiated with the same value of refundRequestId and reach a final status (S or F), the same result is to be returned for the request.
*   Maximum length: 64 characters

#### paymentId String  REQUIRED

The unique ID assigned by Alipay for the original payment to be refunded.

More information about this field

*   Maximum length: 64 characters

#### referenceRefundId String  

The unique ID to identify a refund, which is assigned by the merchant that directly provides services or goods to the customer.

More information about this field

*   Maximum length: 64 characters

#### refundAmount Amount object REQUIRED

The refund amount that is initiated by the merchant.

Show child parameters

#### refundReason String  

The refund reason

More information about this field

*   Maximum length: 256 characters

### Response parameters

Show all

#### result Result object REQUIRED

The request result contains information such as status and error codes.

Show child parameters

#### refundRequestId String  

The unique ID that is assigned by the merchant to identify a refund request.

More information about this field

*   Maximum length: 64 characters

#### refundId String  

The unique ID that is assigned by Alipay to identify a refund. A one-to-one correspondence between _refundId_ and _refundRequestId_ exists.

More information about this field

*   Maximum length: 64 characters

#### paymentId String  

The unique ID assigned by Alipay for the original payment to be refunded.

More information about this field

*   Maximum length: 64 characters

#### refundAmount Amount object 

The refund amount collected by the payment executor for this refund.

Show child parameters

#### refundTime Datetime  

The date and time when the refund reaches a final state of success or failure.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### grossSettlementAmount Amount object 

The total settlement amount, which equals to the transaction amount multiplied by the value of _settlementQuote_.

Note: This field is empty when the settlement currency is the same as the transaction currency.

Show child parameters

#### settlementQuote Quote object 

The exchange rate between the settlement currency and transaction currency at the time of transaction, which is provided only in the locked-in rate case.

Note: This field is empty when the settlement currency is the same as the transaction currency.

Show child parameters

API Explorer

### Request

URL

North America

https://open-na-global.alipay.com/ams/api/v1/payments/refund

Request Body

Copy

1

2

3

4

5

6

7

8

{

"paymentId": "20181129190741010007000000XXXX",

"refundRequestId": "20181129190741020007000000XXXX",

"refundAmount": {

"value": "100",

"currency": "USD"

}

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Response

Response Body

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

{

"result": {

"resultCode": "SUCCESS",

"resultStatus": "S",

"resultMessage": "success"

},

"refundAmount": {

"value": "100",

"currency": "USD"

},

"refundTime": "2020-10-10T12:01:01+08:30",

"paymentId": "20181129190741010007000000XXXX",

"refundRequestId": "20181129190741020007000000XXXX",

"refundId": "40181129190741020007000000XXXX"

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

More information 
-----------------

This section gives additional information about the key parameter. See the following list for details:

*   _refundRequestId_:  
    The refund can be full or partial. A transaction can have multiple refunds as long as the total refund amount is less than or equal to the original transaction amount. If being out of the refund window, the refund request will be declined. Use the same _refundRequestId_ to retry a refund in case of timeout or when the returned _resultStatus_ is U.
*   _refundId:_  
    The parameter can be used for the refund inquiry. 

Result process logic
--------------------

For different request results, different actions are to be performed. See the following list for details:

*   If the value of _result.resultStatus_ is S, for synchronous refund, the refund succeeds. For an asynchronous refund, the refund request is processed successfully and the merchant can call the [**inquiryPayment**](https://global.alipay.com/docs/ac/ams/paymentri) interface to query the refund result.
*   If the value of _result.resultStatus_ is F, the refund fails. Usually, the failure is caused by a refund initiated outside the refund window (_result. resultCode_\= FREFUND\_WINDOW\_EXCEED). If the refund still needs to be processed, manual intervention is needed.
*   If the value of _result.resultStatus_ is U, the result is unknown. Processing failure might occur due to system or network issues. The merchant can retry with the same _refundRequestId_.

### Result/Error codes

| Code | Value | Message | Further action |
| --- | --- | --- | --- |
| SUCCESS | S | Success | The refund is successful, no further action is needed.
 |
| ACCESS\_DENIED | F | Access is denied. | Contact Alipay Technical Support for detailed reasons.

 |
| CLIENT\_INVALID | F | The client is invalid. | Check whether _clientId_ is correct.

 |
| CURRENCY\_NOT\_SUPPORT | F | The currency is not supported. | Use the currency that is agreed in the contract.

 |
| MEDIA\_TYPE\_NOT\_ACCEPTABLE | F | The server does not implement the media type that is acceptable to the client. | Check whether the media type is correct.

 |
| MULTIPLE\_REFUNDS\_NOT\_SUPPORTED | F | Multiple refunds are not supported. | Check whether multiple refunds exist.

 |
| MERCHANT\_BALANCE\_NOT\_ENOUGH | F | The merchant balance is not enough. | Call the interface again after the merchant has sufficient balance. The _refundRequestId_ field needs to be changed when you try again.

 |
| METHOD\_NOT\_SUPPORTED | F | The server does not implement the requested HTTP method. | Check whether the HTTP method is correct.

 |
| ORDER\_IS\_CANCELED | F | The transaction is canceled. | You cannot refund the transaction because it is canceled.

 |
| ORDER\_NOT\_EXIST | F | The order does not exist. | Check whether _paymentId_ is correct.

 |
| ORDER\_STATUS\_INVALID | F | The order status is invalid. | Check the order status.

 |
| REFUND\_AMOUNT\_EXCEED | F | The total refund amount exceeds the payment amount. | Confirm whether the total refund amount exceeds the payment amount.

 |
| REFUND\_WINDOW\_EXCEED | F | The refund date exceeds the refundable period that is agreed in the contract. | Confirm whether the refund date exceeds the refundable period.

 |
| REPEAT\_REQ\_INCONSISTENT | F | Repeated requests are inconsistent. | Use a unique _refundRequestId_ to initiate the payment again.

 |

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?