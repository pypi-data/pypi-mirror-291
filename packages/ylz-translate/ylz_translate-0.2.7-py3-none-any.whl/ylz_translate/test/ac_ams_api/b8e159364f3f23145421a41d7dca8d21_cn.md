查询退款 | 产品API | 支付宝文档
==========================

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](./img_m_a52690f40beef33d7d37f1bda6f48c27.svg)![图片2：中国领先的第三方在线支付解决方案 - 支付宝](./img_m_d70d46fd32b98952674df01c03131d87.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fir)

[返回首页](../../)

产品API

[支付宝API](/docs/ac/ams/api)

在线支付

店内支付

支付

退款

[退款](/docs/ac/ams/refund)

[查询退款](/docs/ac/ams/ir)

注册

查询退款
==========

2022年12月1日 08:40

POST /v1/payments/inquiryRefund

使用**查询退款** API 来查询之前提交的退款请求的相关信息。

结构
==========

一条消息由头部和主体组成。以下部分专注于主体结构。关于头部结构，请参阅：

*   [请求头部](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [响应头部](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**注意**：除数组外，每个字段的数据类型应设置为字符串。这意味着必须使用双引号（" "）包围字段值。例如：

*   如果字段的数据类型为Integer，其值为20，则设置为"20"。
*   如果字段的数据类型为Boolean，其值为true，则设置为"true"。

### 请求参数

#### refundRequestId 字符串 

商家为识别退款请求而分配的唯一ID。_refundRequestId_ 和 _refundId_ 不能都为null。不支持特殊字符。如果同时指定了 _refundRequestId_ 和 _refundId_，则 _refundId_ 优先。

关于此字段的更多信息

*   最大长度：64个字符

#### 退款Id (refundId) 字符串

支付宝为退款分配的唯一标识。_refundRequestId_ 和 _refundId_ 不能同时为空。_refundId_ 与 _refundRequestId_ 之间存在一对一的关系。如果同时指定了 _refundRequestId_ 和 _refundId_，则以 _refundId_ 为准。

此字段的更多信息：

*   最大长度：64 个字符

### 响应参数

显示全部

#### 结果 (result) 结果对象 **必需**

请求结果，包含状态和错误代码。

**注意：此字段不表示退款结果。它仅表示调用查询退款接口是否成功。**

显示子参数

#### 退款Id (refundId) 字符串

支付宝为退款分配的唯一标识。与 _refundRequestId_ 一对一对应。

**注意：** 当找不到退款记录，或者 _result.resultStatus_ 为 `F` 或 `U` 时，此字段为 null。

此字段的更多信息

*   最大长度: 64 个字符

#### refundRequestId 字符串

商家为识别退款请求而分配的唯一ID。

**注意**: 当找不到退款记录，或者 _result.resultStatus_ 为 `F` 或 `U` 时，此字段为 null。

更多关于此字段的信息

*   最大长度: 64 个字符

#### refundAmount 金额对象

商家发起的退款金额。

**注意**: 当找不到退款记录，或者 _result.resultStatus_ 为 `F` 或 `U` 时，此字段为 null。

显示子参数

#### refundTime 日期时间

退款在支付宝侧成功完成的日期和时间，而不是在支付宝+移动支付提供商（Alipay+ MPP）侧。

**注意**: 当 _refundStatus_ 的值为 `SUCCESS` 时，返回此字段。

更多关于此字段的信息

*   值遵循 [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) 标准格式。例如，"2019-11-27T12:01:01+08:00"。

#### 退款状态 refundStatus 字符串

表示支付宝退款的最终状态，而不是支付宝+移动支付提供商（Alipay+ MPP）一侧的状态。有效值包括：

*   `SUCCESS`: 退款成功。
*   `PROCESSING`: 退款处理中。
*   `FAIL`: 退款失败。

**注意**：当找不到退款记录，或者 _result.resultStatus_ 为 `F` 或 `U` 时，此字段为 null。

关于此字段的更多信息：

*   最大长度：16 个字符

#### 总结算金额 grossSettlementAmount Amount 对象

退款结算金额，等于退款金额乘以 _settlementQuote_ 的值。当货币兑换在交易时预先确定且汇率被锁定时，此字段将返回。

显示子参数

#### 结算汇率 settlementQuote Quote 对象

结算货币和支付货币之间的汇率。当 _grossSettlementAmount_ 被返回时，此字段也会返回。

显示子参数

API 探索器

### 请求

URL

北美地区

<https://open-na-global.alipay.com/ams/api/v1/payments/inquiryRefund>

请求体

复制

```json
{
  "refundId": "2021080419401080130018866020092XXXX",
  "refundRequestId": "amsdemorefund_zhangyikai_zyk_20210804_165236_931"
}
```

请注意，这里的 `XXXX` 是一个占位符，实际使用时需要替换为具体的退款ID。

### 响应

响应体

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

```json
{
  "refundAmount": {
    "currency": "HKD",
    "value": "10000"
  },
  "refundId": "2021080419401080130018866020092XXXX",
  "refundRequestId": "amsdemorefund_zhangyikai_zyk_20210804_165236_931",
  "refundStatus": "SUCCESS",
  "refundTime": "2021-08-04T01:52:37-07:00",
  "result": {
    "resultCode": "SUCCESS",
    "resultMessage": "success.",
    "resultStatus": "S"
  }
}
```

请注意，JSON键未被翻译，以遵循您的要求。翻译后的文档保留了原始Markdown格式，并且语句通顺。

很抱歉，我看到您输入的内容似乎是以希伯来文字符重复组成的，这可能是一个输入错误。如果您能提供需要翻译的英文或中文Markdown文档，我将非常乐意帮助您进行翻译。请确保文档内容是与蚂蚁金服的业务或金融技术相关，以便我提供专业且准确的翻译。

更多信息
------------

本节提供关键参数的额外信息。详情如下：

*   _refundTime_:

支付宝成功执行退款的时间。这是指退款在支付宝端达到最终成功状态的时间，不包括支付宝+移动支付提供商（Alipay+ MPP）端的时间。

*   _refundStatus_:

退款状态，表示退款的当前状态。

此字段仅标识支付宝侧的退款状态，不包括支付宝+ MPP侧的状态。

*   _refundId_:

唯一退款处理ID。对于轮询相同的退款，此字段必须唯一。对于轮询不同的退款，此字段必须不同。此字段可用于退款查询。

*   _refundRequestId_ 或 _refundId_:

*   调用**退款**接口后，如果返回成功结果，商家可以使用_refundId_或_refundRequestId_查询原始退款状态。
*   如果调用**退款**接口后返回未知异常或超时，商家只能使用_refundRequestId_查询原始退款结果。
*   如果商家同时使用_refundId_和_refundRequestId_调用此接口，支付宝只会使用_refundId_进行查询，并忽略请求中的_refundRequestId_。
*   如果商家使用正确的_refundId_或_refundRequestId_调用此接口，但该退款不属于商家，会返回`ORDER_NOT_EXIST`错误。

结果处理逻辑
--------------------

针对不同的请求结果，需要执行不同的操作。具体如下：

* 如果_result.resultStatus_的值为`S`，则退款查询成功。
* 如果_result.resultStatus_的值为`F`，则退款查询失败。
* 如果_result.resultStatus_的值为`U`，则请求结果未知。使用相同的请求参数重试查询请求。

### 结果/错误代码

| 代码 | 值 | 消息 | 进一步操作 |
| --- | --- | --- | --- |
| SUCCESS | S | 成功 | 接口调用成功，无需进一步操作。 |
| ORDER\_NOT\_EXIST | F | 退款订单不存在。 | 15秒后再次调用接口。如果三次重试后仍无结果，订单可能未创建。 |
| CLIENT\_INVALID | F | 客户端无效。 | 检查_clientId_是否正确。 |
| METHOD\_NOT\_SUPPORTED | F | 服务器不支持请求的HTTP方法。 | 检查HTTP方法是否正确。 |
| MEDIA\_TYPE\_NOT\_ACCEPTABLE | F | 服务器不支持客户端可接受的媒体类型。 | 检查媒体类型是否正确。 |

查看文档的最新更新，请访问[发行说明](https://global.alipay.com/docs/releasenotes)。

![图片 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![图片 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 蚂蚁金服 [法律信息](https://global.alipay.com/docs/ac/platform/membership)

#### 这个页面是否有帮助？