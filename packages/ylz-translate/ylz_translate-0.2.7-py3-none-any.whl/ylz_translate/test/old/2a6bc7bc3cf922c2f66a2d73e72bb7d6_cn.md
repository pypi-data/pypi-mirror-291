[![支付宝，中国领先的第三方在线支付解决方案](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![支付宝，中国领先的第三方在线支付解决方案](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)  
[返回首页](../../)  
结账支付  
[概览](/docs/ac/cashierpay/overview)  
接收支付  
支付后操作  
支付方式  
其他资源  
高级功能  
[预前端解决方案API](/docs/ac/cashierpay/prefront)  
[先买后付API](/docs/ac/cashierpay/bnpl)  
[卡存储API](/docs/ac/cashierpay/cv)  
[卡存储SDK](/docs/ac/cashierpay/cvsdk)  
[卡支付功能API SDK](/docs/ac/cashierpay/mf?pageVersion=7)  
预前端解决方案
==============  
2024年4月24日 10:39  
预前端解决方案的最佳实践
==========================  
在标准集成体验中，买家需要重定向到支付方法页面来完成某些操作，如选择特定的银行支付方式、输入支付详情或扫描/复制支付密码。以下最佳实践指导您如何在您的页面上展示银行列表、支付详情、二维码或支付密码，减少支付过程中的页面重定向，提升买家体验。  
银行预前端解决方案
------------------  
在标准集成方案中，买家需要在支付方法页面上选择特定的在线银行选项，然后被重定向到在线银行页面。但这个过程可能耗时，且经常导致更高的买家流失率。为了解决这个问题，银行预前端解决方案允许买家直接在商家页面上选择特定银行完成支付，优化其在线银行支付体验。
### 用户体验  
这项前端前处理能力支持在网页、WAP和应用平台上的整合。以下图表比较了在商户应用平台上，使用iDEAL支付方式时，标准解决方案与优化解决方案之间的买家体验。

|        |        |
| ------ | ------ |
| **标准解决方案** | **优化解决方案** |
| ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") | ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") |

表1. 标准解决方案与银行预前端解决方案用户体验对比

标准解决方案与优化解决方案的主要差异：
*   **标准解决方案**：买家需要重定向到一个中间的iDEAL页面来选择特定的银行。
*   **优化解决方案**：买家可以直接在商户页面上选择银行，无需重定向到中间的iDEAL页面，减少了买家流失的可能性。
### 集成考量  
此解决方案的集成步骤与标准集成流程一致，只需要对API的输入和输出参数进行少量调整。  
*   当调用 **咨询**（[**consult**](https://global.alipay.com/docs/ac/ams/consult)）API获取支付方式列表时，对于支持银行预前台解决方案的支付方式，`paymentOptionDetail` 字段会返回 `_supportBanks` 列表。以支付方式 iDeal 为例，该支付方式的可用银行列表会显示在 `paymentOptionDetail.supportBanks` 的子参数 `_bankIdentifierCode` 和 `_bankShortName_` 中。此外，您可以联系技术支持获取对应的银行标识logo。
*   当调用 **支付**（[**pay**](https://global.alipay.com/docs/ac/ams/payment_cashier)）API时，需要传递支付方式并指定银行。例如，对于iDEAL支付方式，如果买家在iDEAL渠道下选择了Rabobank银行，您需要在 **pay** API 的输入参数中包含以下内容：  
    *   `_paymentMethod.paymentMethodType_`: `_IDEAL_`
    *   `_paymentMethod.paymentMethodMetaData.bankIdentifierCode_`: `_RABONL2U_`
### 支持的支付方式  
下表列出了银行预前端解决方案所支持的支付方式枚举值、银行简称以及对应的特定银行枚举值。  
|     |     |     |
| --- | --- | --- |
| **支付方式枚举值** | **银行简称** | **具体银行枚举** |
| **_paymentMethodType_** | _**bankShortName**_ | **_bankIdentifierCode_** |
| IDEAL | Rabobank | RABONL2U |
| ABN AMRO | ABNANL2A |
| Van Lanschot Bankiers | FVLBNL22 |
| Triodos Bank | TRIONL2U |
| ING Bank | INGBNL2A |
| SNS Bank | SNSBNL2A |
| ASN | ASNBNL21 |
| RegioBank | RBRBNL21 |
| Knab | KNABNL2H |
| Bunq | BUNQNL2A |
| Revolut | REVOLT21 |
| ONLINEBANKING\_FPX | Maybank | MYM2U |
| Bank Islam | MYBISM |
| RHB Bank | MYRHB |
| Hong Leong Bank | MYHLB |
| CIMB Bank | MYCIMBCLICKS |
| AmBank | MYAMB |
| Public Bank | MYPBB |
| Affin Bank | MYABB |
| Agro Bank | MYAGB |
| Alliance Bank | MYABMB |
| Bank Muamalat | MYBMMB |
| 中国银行 | MYBOC |
| Bank Rakyat | MYBKRM |
| Bank Simpanan Nasional | MYBSN |
| HSBC 银行 | MYHSBC |
| Kuwait Finance House | MYKFH |
| OCBC 银行 | MYOCBC |
| Standard Chartered Bank | MYSCB |
| UOB 银行 | MYUOB |  
表 2. 银行预前端解决方案支持的支付方式  
支付元素预前端解决方案
------------------------  
在标准集成解决方案中，买家需要在完成支付前导航至支付方式页面输入支付元素（如登录凭证、动态密码等）。然而，这一过程可能会耗时，并且往往导致较高的买家流失率。为了避免这种情况，您可以在商家页面上收集支付元素，并通过 **pay** API 将它们传递给支付编排平台（POP），省去了重定向的步骤，从而降低买家流失。
### 用户体验  
这种预前端能力也支持在Web、WAP和应用程序平台上的集成。下图比较了在商家应用中使用OVO支付方式时，标准解决方案和优化解决方案的买家用户体验的差异。

|     |     |
| --- | --- |
| **标准解决方案** | **优化解决方案** |
| ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") | ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") |

**表3. 标准解决方案与支付元素预前端解决方案的用户体验对比**

标准解决方案与优化解决方案之间的区别在于：
*   **标准解决方案**：买家需要被重定向到一个介于中间的蚂蚁页面来输入他们的OVO账户信息。
*   **优化解决方案**：买家可以直接在商家页面上输入账户信息，无需重定向到中间的蚂蚁页面，从而减少了买家流失的可能性。
### 集成考量  
该解决方案的集成步骤与标准集成流程一致，只需对以下内容做微小调整：  
在调用[**pay**](https://global.alipay.com/docs/ac/ams/payment_cashier) API 时，您需要传递支付方式及相应的支付要素。例如，对于BLIK支付方式，如果在商户端收集了BLIK代码，需要在[**pay**](https://global.alipay.com/docs/ac/ams/payment_cashier) API中包含相应的支付要素。请参考支持的支付方式列表以获取支付要素的参数名称。
### 支持的支付方式  
下表列出了支付元素预前端解决方案支持的支付方式、收集的支付元素、支付元素的参数名称，以及实现此解决方案的最佳实践。  

| 支付方式   | 收集的支付元素             | 支付元素参数名称         | 最佳实践                                                     |
| ---------- | ---------------------------- | ------------------------ | ------------------------------------------------------------ |
| OVO         | OVO 移动账户                 | order.buyer.buyerPhoneNo  | 提示买家在商家页面输入他们的 OVO 移动账户，建议信息：请手动打开 OVO 应用并在 55 秒内完成支付。 |
| BLIK        | BLIK 6 位动态密码<br><br>客户端 IP 地址<br><br>买家浏览器代理 | paymentMethodMetaData.blikCode<br><br>env.clientIp<br><br>env.browserInfo.userAgent | 提示买家在商家页面输入 BLIK 代码，建议信息：如何获取 BLIK 代码：请在 BLIK 应用中查找；如何支付：请手动打开 BLIK 应用并在 15 秒内完成支付。 |
| Przelewy24  | 买家的电子邮件地址           | paymentMethodMetaData.payerEmail | 1. 提示买家在商家页面输入电子邮件或使用已存储的买家电子邮件。<br>2. 使用支付接口返回的支付方法链接将买家重定向到支付方法页面。 |
| Mercado Pago（巴西） | 巴西个人税号（CPF） | paymentMethodMetaData.cpf | 提示买家在商家页面输入巴西个人税号，并手动打开 Mercado Pago 应用完成支付。 |
| Mercado Pago（巴西、墨西哥、智利、秘鲁） | 买家电子邮件地址       | paymentMethodMetaData.payerEmail | 提示买家在商家页面输入电子邮件，并手动打开 Mercado Pago 应用完成支付。 |

表 4. 支付元素预前端解决方案支持的支付方式。  

### 二维码/密码预前端解决方案  
在标准集成方案中，买家需要导航到支付方法页面扫描二维码或输入支付密码来完成支付。但这个过程可能耗时，经常导致较高的买家流失率。为了解决这个问题，您可以在商家页面上显示支付二维码或支付密码，减少重定向的需要，最大限度地减少买家流失。
### 用户体验  
这项前置能力支持在网页、WAP和应用平台上的集成。下图比较了商家网页平台上的买家使用AlipayHK二维码前置方式支付和商家应用平台上的银行转账密码前置方式支付时的用户体验、最佳实践以及标准和优化的解决方案。

| | | | |
| --- | --- | --- | --- |
| **前置模式** | **标准解决方案** | **优化解决方案** | **最佳实践** |
| 二维码前置方案 | ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") | ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") | * 建议指定_orderCodeForm.expireTime_参数设置超时时间，并在商家页面上显示支付二维码的倒计时。<br> * 建议使用浮动层展示支付二维码。<br> * 对于AlipayHK、AlipayCN、GCash、Touch'n Go、KakaoPay、Rabbit LINE Pay、TrueMoney、Akulaku PayLater支付方式，应按照品牌规范在浮动层中展示二维码，并在代码页面底部显示“powered by A+”标志。<br> * Qris、PayNow和PromptPay支付方式在所有三个平台（Web、WAP和App）上都有扫码体验，您可以在所有三个平台上提供这一功能。<br> * 对于其他支付方式，建议仅在Web上显示二维码，并在WAP和App上使用唤起应用支付或密码支付体验。 |
| 密码前置方案 | ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") | ![image.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "image.png") | * 建议指定_orderCodeForm.expireTime_参数设置超时时间，并在商家页面上显示支付密码的倒计时。<br> * 建议使用浮动层展示支付密码，浮动层支持买家复制密码，并为买家提供操作提示。 |

**表5. 标准解决方案与二维码/密码前置方案用户体验对比**

标准解决方案与优化解决方案的差异：
* **标准解决方案**：买家需要被重定向到一个中间的Antom页面来扫描二维码或获取密码。
* **优化解决方案**：买家可以直接在商家页面上扫描二维码或获取密码，无需重定向到中间的Antom页面，减少了买家流失。
### 集成考量  
尽管此解决方案的集成步骤与标准集成流程一致，但有几点重要差异需要注意：  
在支付请求的响应中，可以通过_orderCodeForm.codeDetails.codeValue_字段获取支付二维码或支付密码。支付二维码可以以文本格式（_displayType_ = `TEXT`）或图像格式（_displayType_ = `MIDDLEIMAGE/SMALLIMAGE/BIGIMAGE`）提供。支付密码则以文本格式给出。您可以根据需要在商户页面上展示支付二维码或支付密码。
### 支持的支付方式  
下表显示了二维码/密码预前台解决方案支持的支付方式以及推荐的商家端实现类型。  

| 预前台模式 | 支持的支付方式 | 推荐的商家端实现类型 |
| --- | --- | --- |
| 二维码预前台解决方案 | Qris, PayNow, PromptPay | 网页, WAP, 应用程序 |
| AlipayHK, AlipayCN, GCash, Touch'n Go, KakaoPay, Rabbit LINE Pay, TrueMoney, Akulaku Paylater PH, ShopeePay | 网页 |
| 密码预前台解决方案 | Pix | 网页, WAP, 应用程序 |
| Maybank |  |
| BNI |  |
| Permata |  |
| CIMBNiaga |  |
| Mandiri |  |
| BSI |  |
| ATMtransfer\_ID |  |
| Bangkok Bank |  |
| Siam Commercial Bank |  |
| Bank of Ayudhya |  |
| Krungthai Bank |  |
| Kasikorn Bank |  |
| Government Savings Bank |  

表6. 二维码和密码预前台解决方案支持的支付方式  

![](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)  
@2024 Alipay [法律信息](https://global.alipay.com/docs/ac/platform/membership)  

#### 本页面内容  
[预前台解决方案的最佳实践](#XcoVx "预前台解决方案的最佳实践")  
[银行预前台解决方案](#GK7ay "银行预前台解决方案")  
[用户体验](#Jy6Tq "用户体验")  
[集成考虑因素](#ZOc7v "集成考虑因素")  
[支持的支付方式](#IqRnV "支持的支付方式")  
[支付元素预前台解决方案](#cfUcW "支付元素预前台解决方案")  
[用户体验](#uBvOI "用户体验")  
[集成考虑因素](#n2XOA "集成考虑因素")  
[支持的支付方式](#WGw7D "支持的支付方式")  
[二维码/密码预前台解决方案](#b2zaW "二维码/密码预前台解决方案")  
[用户体验](#QkxgQ "用户体验")  
[集成考虑因素](#dvjE5 "集成考虑因素")  
[支持的支付方式](#B8drJ "支持的支付方式")