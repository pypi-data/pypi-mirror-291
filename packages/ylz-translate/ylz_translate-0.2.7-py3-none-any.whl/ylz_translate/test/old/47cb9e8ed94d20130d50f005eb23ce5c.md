[![Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Go to Homepage](../../)

Scan to Bind

[Overview](/docs/ac/scantopay_en/overview)

Integration guide

After payments

[Cancel](/docs/ac/scantopay_en/cancel_cn)

[Refund](/docs/ac/scantopay_en/refund)

[Notifications](/docs/ac/scantopay_en/notification)

[Reconciliation](/docs/ac/scantopay_en/settle_reconcile)

Refund
======

2023-08-31 07:50

After a payment is completed, you can issue a refund via the [**refund**](#xS4nJ)
 API or Alipay Global Merchant Portal if your buyer demands a refund.

Before issuing a refund, you must be familiar with the following information:

*   **Commission fee**: Whether the commission fee is returned is subject to the contract.
*   **Refund exchange rate**: For cross-currency settlement which applies when the transaction currency differs from the settlement currency, the Alipay exchange rate on the day after the refund is issued is applied.
*   **Partial refund**: Whether a partial refund is allowed depends on the payment method that the buyer used for a payment. For details, see [Refund capabilities of payment methods](https://global.alipay.com/docs/ac/cashierpay/payment_method_capabilities)
    .
*   **Minimum refundable amount**: The minimum refundable amount depends on the payment method that the buyer used for a payment. For details, see [Refund capabilities of payment methods](https://global.alipay.com/docs/ac/cashierpay/payment_method_capabilities)
    .
*   **Refund period**: The refund period depends on the payment method that the buyer used for a payment. For details, see [Refund capabilities of payment methods](https://global.alipay.com/docs/ac/cashierpay/payment_method_capabilities)
    .

Refund using API
================

You can use APIs to initiate a refund and obtain refund results. The following figure illustrates the workflow of the refund process:

![001.png](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png "001.png")

Figure 1. Refund workflow

Initiate a refund
-----------------

The following requirements about a refund request must be satisfied when you use the **refund** API. Otherwise, the corresponding error codes are to be returned by Alipay:

|     |     |     |
| --- | --- | --- |
| **Item** | **Requirement** | **Error code** |
| **Refund currency** | The value of the parameter _refundAmount.currency_ in the refund request needs to be consistent with the value of the parameter _paymentAmount.currency_ used for initiating a payment. | CURRENCY\_NOT\_SUPPORT |
| **Refund amount** | The value of the parameter _refundAmount.value_ in the refund request needs to be no less than the minimum refund amount (which is usually the same as the minimum payment amount) and no greater than the refundable amount of a payment. | REFUND\_AMOUNT\_EXCEED |
| **Payment status** | The refund is allowed only when the value of the _paymentStatus_ parameter is `SUCCESS`. | ORDER\_STATUS\_INVALID |
| **Refund period** | The refund is allowed only when the refund is issued within the refund window of the corresponding payment method. | REFUND\_WINDOW\_EXCEED |
| **To-be-settled balance of the merchant's account** | Alipay deducts funds from the to-be-settled balance of the merchant's account for a refund. The refund fails if the balance is insufficient. If the contract specifies that the commission fee is not returned, the full refund of the first payment fails. Therefore, it is recommended that you keep a sufficient balance in your account before you test in a production environment. | MERCHANT\_BALANCE\_NOT\_ENOUGH |

Table 1. Requirements about a refund request

The key parameters contained in refund requests are listed as follows (For details, see the **refund** API):

|     |     |
| --- | --- |
| **Parameter** | **Description** |
| refundRequestId | The unique identifier that you assign to a payment. |
| paymentId | The unique identifier that Alipay assigns to the original payment to be refunded. |
| refundAmount | The refund amount must be no less than the minimum refund amount (which is usually the same as the minimum payment amount) and no greater than the refundable amount of a payment. |
| refundNotifyUrl | The URL for receiving asynchronous refund notifications. |

Table 2. Key parameters of refund requests

Obtain the refund result
------------------------

After you call the [**refund**](https://global.alipay.com/docs/ac/ams/refund_online)
 API, Alipay synchronously returns the refund result:

*   If the value of _result.resultStatus_ in the response is `S`, the refund is successful.
*   If the value of _result.resultStatus_ is `F`, the refund failed. See [Error codes](https://global.alipay.com/docs/ac/ams/ir_online)
     of the **refund** API for troubleshooting.
*   If the response is not received due to network issues or the value of _result.resultStatus_ is `U`, you can call the [**inquiryRefund**](https://global.alipay.com/docs/ac/ams/ir_online)
     API to inquire about the refund status. The refund status is indicated by the _refundStatus_ parameter in the response. The following table shows the possible values of the _refundStatus_ parameter:

|     |     |
| --- | --- |
| **refundStatus** | **Description** |
| SUCCESS | The refund is successful. |
| PROCESSING | The refund is being processed (which also occurs when the error code is `MERCHANT_BALANCE_NOT_ENOUGH`). |
| FAIL | The refund fails. |

Table 2. Explanation of _refundStatus_

Inquire about the refund records
--------------------------------

You can view the refund records of a transaction by using the **inquiryRefund** API. If a transaction has been refunded, the parameter _transactions_ shows the refund records of the transaction.

Refund in Alipay Merchant Portal
================================

You can issue a refund on [Alipay Merchant Portal](https://intl-sea.alipay.com/ilogin/account_login.htm)
. For more information about how to issue a refund and view the refund result, see [Refund transactions on Alipay Merchant Portal](https://global.alipay.com/docs/ac/merchant_service/transactions#QySzf)
.

![](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)
 

#### On this page

[Refund using API](#JV8AN "Refund using API")

[Initiate a refund](#kdstP "Initiate a refund")

[Obtain the refund result](#uRDv4 "Obtain the refund result")

[Inquire about the refund records](#KMUVd "Inquire about the refund records")

[Refund in Alipay Merchant Portal](#Ote0I "Refund in Alipay Merchant Portal")