Cancel | Checkout Payment | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fcashierpay%2Fcancel)

[Go to Homepage](../../)

Checkout Payment

[Overview](/docs/ac/cashierpay/overview)

Accept payments

After payments

[Notifications](/docs/ac/cashierpay/notifications)

[Cancel](/docs/ac/cashierpay/cancel)

[Refund](/docs/ac/cashierpay/refund?pageVersion=8)

[Dispute](/docs/ac/cashierpay/dispute)

[Reconciliation](/docs/ac/cashierpay/reconcile)

Payment methods

Other resources

Advanced features

[Pre-front solutionAPI](/docs/ac/cashierpay/prefront)

[Buy now pay laterAPI](/docs/ac/cashierpay/bnpl)

[Card vaultingAPI](/docs/ac/cashierpay/cv)

[Card vaultingSDK](/docs/ac/cashierpay/cvsdk)

[Card payment featuresAPISDK](/docs/ac/cashierpay/mf)

Cancel
======

2024-04-24 10:39

You can use the [**cancel**](https://global.alipay.com/docs/ac/ams/paymentc_online) API to cancel a transaction. The cancellation period is subject to the contract.

Before issuing a cancellation, you must be familiar with the following information:

*   After a transaction is canceled before it is paid, a buyer cannot continue to pay.
*   After a paid transaction is canceled, the payment amount is returned to a buyer's account.
*   **Commission fee**: The commission fee is returned for the canceled transaction.
*   **Partial cancellation**: Only a full cancellation is allowed.
*   **Cancellation period**: The cancellation period depends on the payment method that a buyer used for a payment. See the following table for details:



| **Payment method** | **Cancellation period** |
| --- | --- |
| Indonesia-based payment methods, and JKOPay | Cancellation is not allowed. |
| Thailand-based Online Banking, Mobile Banking APP, and Bank Transfer payment methods | * The transaction can be canceled before the payment of a submitted order is completed. * A paid transaction cannot be canceled. |
| Card payment methods | * A transaction can be canceled for up to seven days after it is paid. * A transaction whose payment is captured cannot be canceled. |
| Mercado Pago (Brazil, Chile, Mexico, and Peru) | A transaction can be canceled for up to seven days after it is paid. |
| Other payment methods | A paid transaction can be canceled before 00:15 on T+1 day (UTC+8:00). |



Table 1. Cancellation periods of payment methods

When to cancel a transaction
============================

If you have business scenarios where there are transactions that need to be canceled (such as flash sales, hotel booking services, and ticket selling services). You can cancel a transaction by using the [**cancel**](https://global.alipay.com/docs/ac/ams/paymentc_online) API. After a transaction is canceled, the payment status is `CANCELLED`. Even if a notification of a successful payment is received after the transaction is canceled, the payment status remains `CANCELLED`. You can cancel a transaction in the following scenarios, and Antom handles the cancellation accordingly:



| **Scenario** | **Result** |
| --- | --- |
| The cancellation request is issued when the transaction is paid and within the cancellation period. | Full refund without charging the commission fee. |
| The cancellation request is issued when the transaction is not paid and within the payment expiration period (14 minutes). | The transaction is canceled. Full refund without charging the commission fee if the transaction is paid after it is canceled. |
| The cancellation request is issued when the transaction is paid and the payment result is still unknown after you receive the Antom asynchronous notification or use the [**inquiryPayment**](https://global.alipay.com/docs/ac/ams/paymentri_online)API. | The transaction is canceled. Full refund without charging the commission fee if the payment success notification of the canceled transaction is received. |
| For card payments, the cancellation request is issued when the payment is authorized but is not captured. | The authorized transaction is canceled. |



Table 2. Handling of a cancellation request in different scenarios

> **Notes**:
> 
> *   You cannot cancel a transaction that has been refunded, including full and partial refunds. Attempting to cancel a refunded transaction results in the `PROCESS_FAIL` error code.
> *   You cannot cancel a card payment after the payment funds are captured. However, you can initiate a refund for the payment.
> *   For the Mercado Pago payment method in Brazil, Chile, Mexico, and Peru, if you specify a payment expiration time that is earlier than seven days after the payment is initiated, you need to call the **cancel** API to close the transaction to prevent the buyer from further payments.  

How to cancel a transaction
===========================

Step 1:  Call the cancel API
----------------------------

You can cancel a transaction by using the [**cancel**](https://global.alipay.com/docs/ac/ams/paymentc_online) API. You must pass in one of the following parameters in your request:



| **Parameter** | **Required or not** | **Description** |
| --- | --- | --- |
| paymentId | OPTIONAL | The unique identifier that Antom assigns to a transaction. |
| paymentRequestId | OPTIONAL | The unique identifier that you assign to a request. |



Table 3. Details of the request parameters of the **cancel** API

Step 2: Obtain the cancellation result
--------------------------------------

After you call the [**cancel**](https://global.alipay.com/docs/ac/ams/paymentc_online) API, Antom is to synchronously return the cancellation result by _result.resultStatus_ :



| **resultStatus** | **Explanation** |
| --- | --- |
| S | The cancellation is successful. *cancelTime* indicates the time when the cancellation succeeds. |
| F | The cancellation failed. See [Error codes](https://global.alipay.com/docs/ac/ams/paymentc_online) of the [**cancel**](https://global.alipay.com/docs/ac/ams/paymentc_online) API for troubleshooting. |
| U | The cancellation is unknown. Resend the API request with the same value of *paymentRequestId*. *paymentRequestId* is the unique identifier of a cancellation, so resending the request by using the same value of the parameter cannot trigger multiple cancellations. Contact Antom Technical Support if the value of *result.resultStatus* is still `U` after three consecutive retries. |



Table 4. Explanation of _result.resultStatus_

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?

#### On this page

[When to cancel a transaction](#i72v6 "When to cancel a transaction")

[How to cancel a transaction](#ujrNd "How to cancel a transaction")

[Step 1: Call the cancel API](#NDy3c "Step 1:  Call the cancel API")

[Step 2: Obtain the cancellation result](#lOYZi "Step 2: Obtain the cancellation result")