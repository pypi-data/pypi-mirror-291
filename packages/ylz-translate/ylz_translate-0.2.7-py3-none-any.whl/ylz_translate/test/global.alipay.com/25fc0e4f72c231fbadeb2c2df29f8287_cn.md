通知支付 | 产品API | 支付宝文档
==================

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg) ![图片2：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fpaymentrn)  
[返回首页](../../)  
产品API  
[支付宝API](/docs/ac/ams/api)  
在线支付  
店内支付  
支付  
[支付（用户出示模式支付）](/docs/ac/ams/upm)  
[支付（订单码支付）](/docs/ac/ams/oc)  
[支付（入口码支付）](/docs/ac/ams/ec)  
[通知支付](/docs/ac/ams/paymentrn)  
[查询支付](/docs/ac/ams/paymentri)  
[取消](/docs/ac/ams/paymentc)  
退款  
注册  
通知支付
==========

2022-12-01 08:40  
当支付处理达到成功状态时，支付宝使用**notifyPayment** API 向商家发送支付结果。商家根据支付结果在商户端促进交易。

结构
====

消息由头部和主体组成。以下部分专注于主体结构。头部结构请参考：

*   [请求头部](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [响应头部](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**注意**：除数组外，每个字段的数据类型应设置为字符串。这意味着字段值必须用双引号（" "）括起来。例如：

*   如果字段的数据类型为Integer，值为20，则设置为"20"。
*   如果字段的数据类型为Boolean，值为true，则设置为"true"。
### 请求参数  
显示全部  
#### notifyType 字符串  必填  
支付状态通知类型。有效值为：  
*   `PAYMENT_RESULT`: 表示通知为支付结果。
*   `OFFLINE_PAYMENT_CODE`: 表示通知为线下支付码。  
#### result Result对象  
支付结果  
显示子参数  
#### paymentRequestId 字符串  必填  
商家为识别支付请求而分配的唯一ID。  
关于此字段的更多信息：  
*   最大长度：64个字符  
#### paymentId 字符串  必填  
支付宝为识别支付分配的唯一ID。_paymentId_ 与 _paymentRequestId_ 之间存在一对一对应关系。  
关于此字段的更多信息：  
*   最大长度：64个字符  
#### paymentAmount Amount对象  必填  
商家在订单货币中请求收取的支付金额。  
显示子参数  
#### paymentCreateTime 日期时间  
支付创建的日期和时间。  
关于此字段的更多信息：  
*   值遵循 [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) 标准格式。例如，"2019-11-27T12:01:01+08:00"。  
#### paymentTime 日期时间  
支付成功或失败的最终状态的日期和时间。  
关于此字段的更多信息：  
*   值遵循 [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) 标准格式。例如，"2019-11-27T12:01:01+08:00"。  
#### pspCustomerInfo PspCustomerInfo对象  
支付宝+移动支付提供商（Alipay+ MPP）的客户信息。  
注意：支付宝+移动支付提供商是指参与支付宝+核心或其他与蚂蚁集团成员合作，以实现支付的面向用户或发卡方的支付服务提供商。  
显示子参数  
#### grossSettlementAmount Amount对象
总结算金额，等于交易金额乘以_settlementQuote_的值。
注意：当结算货币与交易货币相同时，此字段为空。
显示子参数

#### settlementQuote 货币兑换对象
交易时结算货币与交易货币之间的汇率，仅在锁定汇率的情况下提供。
注意：当结算货币与交易货币相同时，此字段为空。
显示子参数
### 响应参数  
显示全部  
#### result 结果对象 **必需**  
请求结果包含状态和错误代码等信息。  
显示子参数  
API 探索器
### 请求  
请求体  
复制  
1  
2  
3  
4  
5  
6  
7  
8  
9  
10  
11  
12  
13  
14  
15  
16  
{  
"notifyType": "PAYMENT\_RESULT",  
"result": {  
"resultCode": "SUCCESS",  
"resultStatus": "S",  
"resultMessage": "成功"  
},  
"paymentRequestId": "2020010123456789XXXX",  
"paymentId": "2020010123456789XXXX",  
"paymentAmount": {  
"value": "8000",  
"currency": "EUR"  
},  
"paymentCreateTime": "2020-01-01T12:01:00+08:30",  
"paymentTime": "2020-01-01T12:01:01+08:30"  
}  
请注意：此请求是一个支付结果通知。以下是详细信息：

- 通知类型：PAYMENT\_RESULT
- 结果：  
  - 结果代码：SUCCESS
  - 结果状态：S
  - 结果消息：成功
- 支付请求ID：2020010123456789XXXX
- 支付ID：2020010123456789XXXX
- 支付金额：  
  - 金额：8000
  - 货币：EUR
- 支付创建时间：2020-01-01 12:01:00 (北京时间)
- 支付完成时间：2020-01-01 12:01:01 (北京时间)

由于原文档后部分为空，此处没有更多内容进行翻译。如果有遗漏或需要翻译其他部分，请提供详细信息。
### 响应  
响应体  
复制  
1  
2  
3  
4  
5  
6  
7  
{  
"result": {  
"resultCode": "SUCCESS",  
"resultStatus": "S",  
"resultMessage": "success"  
}  
}  
注意：此部分只提供关键参数的额外信息。详情如下：  
*   _result_（由支付宝发送的通知请求中）：
支付结果。如果 _result.resultStatus_ 的值为 `S`，则支付成功。
*   _paymentTime_：
仅当 _result.resultStatus_ 的值为 `S` 时，此字段才会返回。
*   _paymentActionForm_：
在店内支付场景中，此字段会传递 _paymentCode_，商家可以将此代码展示给顾客。  
结果处理逻辑  
如果 _result.resultStatus_ 的值为 `S`，支付结果通知成功。支付宝不会采取进一步行动。
### 结果/错误代码  
| 代码 | 值 | 消息 | 进一步操作 |
| --- | --- | --- | --- |
| SUCCESS | S | 成功 | 支付成功，无需进一步操作。 |

要查看文档的最新更新，请访问 [发行说明](https://global.alipay.com/docs/releasenotes)。  
![图片 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png) ![图片 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)  

@2024 蚂蚁金服 [法律信息](https://global.alipay.com/docs/ac/platform/membership)  

#### 这个页面有帮助吗？