inquiryRefund | Product APIs | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fir)

[Go to Homepage](../../)

Product APIs

[Alipay APIs](/docs/ac/ams/api)

Online payments

In-store payments

Payment

Refund

[refund](/docs/ac/ams/refund)

[inquiryRefund](/docs/ac/ams/ir)

Registration

inquiryRefund
=============

2022-12-01 08:40

POST /v1/payments/inquiryRefund

Use the **inquiryRefund** API to query for information about a previously submitted refund request.

Structure
=========

A message consists of a header and body. The following sections are focused on the body structure. For the header structure, see：

*   [Request header](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [Response header](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**Note**: Set the data type of each field (except array) as String. This means that you must use double quotation marks (" ") to enclose the field value. Examples:

*   If the data type of a field is Integer and its value is 20, set it as "20".
*   If the data type of a field is Boolean and its value is true, set it as "true".

### Request parameters

#### refundRequestId String  

The unique ID assigned by a merchant to identify a refund request. _refundRequestId_ and _refundId_ cannot both be null. Special characters are not supported. If both _refundRequestId_ and _refundId_ are specified, _refundId_ takes precedence.

More information about this field

*   Maximum length: 64 characters

#### refundId String  

The unique ID assigned by Alipay to identify a refund. _refundRequestId_ and _refundId_ cannot both be null. A one-to-one correspondence between _refundId_ and _refundRequestId_ exists. If both _refundRequestId_ and _refundId_ are specified, _refundId_ takes precedence.

More information about this field

*   Maximum length: 64 characters

### Response parameters

Show all

#### result Result object REQUIRED

The request result contains information such as status and error codes.

**Note: This field does not indicate the refund result. This field only indicates whether the inquiryRefund interface is called successfully.**

Show child parameters

#### refundId String  

The unique ID assigned by Alipay to identify a refund. A one-to-one correspondence between _refundId_ and _refundRequestId_ exists.

**Note**: This field is null when the refund record cannot be found, or _result.resultStatus_ is `F` or `U`.

More information about this field

*   Maximum length: 64 characters

#### refundRequestId String  

The unique ID assigned by the merchant to identify a refund request.

**Note**: This field is null when the refund record cannot be found, or _result.resultStatus_ is `F` or `U`.

More information about this field

*   Maximum length: 64 characters

#### refundAmount Amount object 

The refund amount that is initiated by the merchant.

**Note**: This field is null when the refund record cannot be found, or _result.resultStatus_ is `F` or `U`.

Show child parameters

#### refundTime Datetime  

The date and time when the refund reaches a final state of success on the Alipay side, not the Alipay+ Mobile Payment Provider (Alipay+ MPP) side.

**Note:** This field is returned when the value of _refundStatus_ is `SUCCESS`.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### refundStatus String  

Indicates the final status of the Alipay refund, not the Alipay+ Mobile Payment Provider (Alipay+ MPP) side. Valid values are:

*   `SUCCESS`: Indicates the refund is successful. 
*   `PROCESSING`: Indicates the refund is still under process. 
*   `FAIL`: Indicates the refund failed.

**Note**: This field is null when the refund record cannot be found, or _result.resultStatus_ is `F` or `U`.

More information about this field

*   Maximum length: 16 characters

#### grossSettlementAmount Amount object 

The refund settlement amount, which equals the refund amount multiplied by the value of _settlementQuote_. This field is returned when the currency exchange is predetermined and the exchange rate is locked at the time of the transaction.

Show child parameters

#### settlementQuote Quote object 

The exchange rate between the settlement currency and payment currency. This field is returned when _grossSettlementAmount_ is returned.

Show child parameters

API Explorer

### Request

URL

North America

https://open-na-global.alipay.com/ams/api/v1/payments/inquiryRefund

Request Body

Copy

1

2

3

4

{

"refundId": "2021080419401080130018866020092XXXX",

"refundRequestId": "amsdemorefund\_zhangyikai\_zyk\_20210804\_165236\_931"

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Response

Response Body

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

{

"refundAmount": {

"currency": "HKD",

"value": "10000"

},

"refundId": "2021080419401080130018866020092XXXX",

"refundRequestId": "amsdemorefund\_zhangyikai\_zyk\_20210804\_165236\_931",

"refundStatus": "SUCCESS",

"refundTime": "2021-08-04T01:52:37-07:00",

"result": {

"resultCode": "SUCCESS",

"resultMessage": "success.",

"resultStatus": "S"

}

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

More Information
----------------

This section provides additional information about key parameters. See the following list for details:

*   _refundTime_:

The time when Alipay successfully executes the refund. This is when the refund reaches a final state of success on the Alipay side, and does not include the Alipay+ Mobile Payment Provider (Alipay+ MPP) side.

*   _refundStatus_:

This field only identifies the refund status on the Alipay side and does not include the Alipay+ MPP side.

*   _refundId_:

The unique refund processing ID. For polling the same refund, this field must be unique. For polling different refunds, this field must be different. This field can be used for the refund inquiry.

*   _refundRequestId_ or _refundId_:

*   If a successful result is returned after calling the **refund** interface, the merchant can use _refundId_ or _refundRequestId_ to query the original refund result.
*   If an unknown exception or timeout is returned after calling the **refund** interface, the merchant can only use _refundRequestId_ to query the original refund result.
*   If the merchant uses both _refundId_ and _refundRequestId_ to call this interface, Alipay will only use _refundId_ to do the query, and ignore the _refundRequestId_ in the request.
*   If the merchant uses a correct _refundId_ or _refundRequestId_ to call this interface, while that refund does not belong to the merchant, an error of `ORDER_NOT_EXIST` is returned.

Result process logic
--------------------

For different request results, different actions need to be performed. See the following list for details:

*   If the value of _result.resultStatus_ is `S`, then the refund result inquiry is successful.
*   If the value of _result.resultStatus_ is `F`, then the refund inquiry failed.
*   If the value of _result.resultStatus_ is `U`, then the request result is unknown. Use the same request parameters to retry the inquiry request. 

### Result/Error codes

| Code | Value | Message | Further action |
| --- | --- | --- | --- |
| SUCCESS | S | Success | The interface was called successfully, no further action is needed.
 |
| ORDER\_NOT\_EXIST | F | The refund order does not exist. | Call the interface again after 15 seconds. If no results are returned after three retries, the order has not been placed.

 |
| CLIENT\_INVALID | F | The client is invalid. | Check whether _clientId_ is correct.

 |
| METHOD\_NOT\_SUPPORTED | F | The server does not implement the requested HTTP method. | Check whether the HTTP method is correct.

 |
| MEDIA\_TYPE\_NOT\_ACCEPTABLE | F | The server does not implement the media type that is acceptable to the client. | Check whether the media type is correct.

 |

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?