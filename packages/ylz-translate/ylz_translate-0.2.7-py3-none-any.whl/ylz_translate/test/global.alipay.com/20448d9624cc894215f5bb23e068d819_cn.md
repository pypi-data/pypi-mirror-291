撤销 | 产品API | 支付宝文档
==================

[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)](/docs/) [![图片2：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fauthrevocation)  
[返回首页](../../)

产品API  
[支付宝API](/docs/ac/ams/api)  
在线支付  
授权  
[咨询](/docs/ac/ams/authconsult)  
[通知授权](/docs/ac/ams/notifyauth)  
[申请令牌](/docs/ac/ams/accesstokenapp)  
[撤销](/docs/ac/ams/authrevocation)  
安全库  
支付  
订阅  
争议  
退款  
申报  
店内支付  
撤销
======

2024-04-10 03:24  
POST /v1/authorizations/revoke  
使用此API取消用户对商户的授权。支付宝收到撤销请求后，访问令牌将失效，商户无法再使用该访问令牌访问用户资源范围。此外，商户也无法使用相关的刷新令牌获取新的访问令牌。

结构
===

消息由头和体组成。以下部分专注于体的结构。关于头的结构，请参阅：

*   [请求头](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [响应头](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)

**注意**：除数组外，每个字段的数据类型都设置为String。这意味着必须使用双引号（" "）包围字段值。例如：

如果字段的数据类型为Integer，其值为20，则设置为"20"。
如果字段的数据类型为Boolean，其值为`true`，则设置为"true"。
### 请求参数  
#### accessToken 字符串  必需  
用于访问用户资源相应范围的访问令牌。  
关于此字段的更多信息  
*   最大长度：128个字符
### 响应参数  
显示全部  
#### result 结果对象 **必需**  
指示该API调用是否成功。如果API调用成功，授权将被成功取消。  
显示子参数  
API探索器  
示例代码 在沙箱中运行
### 请求  
URL  
北美地区  
https://open-na-global.alipay.com/ams/api/v1/authorizations/revoke  

请求体  
复制  
1  
2  
3  
{  
"accessToken": "281010033AB2F588D14B43238637264FCA5Axxxx"  
}  

此处内容被省略，表现为“XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX”。
### 响应  
案例  
成功  
响应体  
复制  
1  
2  
3  
4  
5  
6  
7  
{  
"result": {  
"resultCode": "SUCCESS",  
"resultStatus": "S",  
"resultMessage": "成功"  
}  
}  
注意：此部分为希伯来语，但根据上下文应翻译为中文。  
结果处理逻辑
--------------------

对于不同的请求结果，需要执行不同的操作。具体如下：

*   如果`result.resultStatus`的值为`S`，授权已成功取消。访问令牌不能再用于访问用户的资源，同时，对应的刷新令牌也无法再用于更新访问令牌。
*   如果`result.resultStatus`的值为`F`，表示存在系统缺陷或系统故障。建议手动检查系统并根据结果代码采取相应措施。
*   如果`result.resultStatus`的值为`U`，表示此API的调用状态未知。应再次调用此API以重试过程。
### 结果/错误代码  
| 代码 | 值 | 消息 | 进一步行动 |
| --- | --- | --- | --- |
| SUCCESS | S | 成功 | 撤销成功。访问令牌无效。 |
| ACCESS\_DENIED | F | 访问被拒绝。 | 联系支付宝技术支持获取详细原因。 |
| CLIENT\_FORBIDDEN\_ACCESS\_API | F | 客户端无权使用此API。 | 联系支付宝技术支持获取详细原因。 |
| INVALID\_ACCESS\_TOKEN | F | 访问令牌过期、已被撤销或不存在。 | 检查\_accessToken\_\_是否正确。如果不正确，请传入正确值。如果正确，请联系支付宝技术支持获取详细原因。 |
| INVALID\_API | F | 调用的API无效或未激活。 | 联系支付宝技术支持解决问题。 |
| INVALID\_CLIENT\_STATUS | F | 客户端状态无效。 | 联系支付宝技术支持获取详细原因。 |
| INVALID\_SIGNATURE | F | 签名验证失败。请求签名所用的私钥与Antom Dashboard的公钥不匹配。 | 检查用于签名请求的私钥是否与Antom Dashboard的公钥匹配。参考以下签名信息：  
* 请求头中的[签名](https://global.alipay.com/docs/ac/ams/api_fund)字段  
* 如何[计算签名](https://global.alipay.com/docs/ac/ams/digital_signature)  
|
| KEY\_NOT\_FOUND | F | Antom或商户的私钥或公钥未找到。 | 检查私钥或公钥是否存在。如果不存在，请在Antom Dashboard上上传私钥。 |
| NO\_INTERFACE\_DEF | F | API未定义。 | 检查URL是否正确。请参考API文档中的端点。 |
| OAUTH\_FAILED | F | OAuth流程失败。 | 联系支付宝技术支持获取详细原因。 |
| 参数非法 | F | 缺少必需的参数，或者存在非法参数。例如，非数字输入、无效日期或参数长度及类型错误。 | 检查并确认当前API的请求字段（包括头部字段和正文字段）是否正确传递并有效。  
|
| 过程失败 | F | 发生了一般性的业务错误。 | 不要重试，通常需要人工介入。建议联系支付宝技术支持解决问题。  
|
| 系统错误 | F | 系统出现错误。 | 不要重试，联系支付宝技术支持获取更多详细信息。  
|
| 未知客户端 | F | 客户端未知。 | 联系支付宝技术支持获取详细原因。  
|
| 请求流量超出限制 | U | 请求流量超过限制。 | 再次调用接口以解决问题。如果未解决，联系支付宝技术支持。  
|
| 未知异常 | U | API调用失败，原因未知。 | 再次调用接口以解决问题。如果未解决，联系支付宝技术支持。  
|  
要查看文档的最新更新，请访问[发行说明](https://global.alipay.com/docs/releasenotes)。  
![图片3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![图片4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)  
@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)  
#### 这个页面有帮助吗？