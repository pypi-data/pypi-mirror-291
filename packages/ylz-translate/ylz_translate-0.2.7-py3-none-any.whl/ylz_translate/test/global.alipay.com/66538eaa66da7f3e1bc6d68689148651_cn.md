交易项目 | 结账支付 | 支付宝文档
===============  
[![图片1：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![图片2：中国领先的第三方在线支付解决方案 - 支付宝](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)  
[登录](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fcashierpay%2Ftransactionitems)  
[返回首页](../../)  
结账支付  
[概览](/docs/ac/cashierpay/overview)  
接收支付  
支付后处理  
支付方式  
其他资源  
高级功能  
[预前端解决方案API](/docs/ac/cashierpay/prefront)  
[先买后付API](/docs/ac/cashierpay/bnpl)  
[卡存储API](/docs/ac/cashierpay/cv)  
[卡存储SDK](/docs/ac/cashierpay/cvsdk)  
[卡支付功能API SDK](/docs/ac/cashierpay/mf)  
交易项目
=================  
2023-05-25 06:43  
交易项目报告由支付宝用于向商家提供T日所有成功交易的详细信息，并在T+1日生成。  
报告路径和名称
====================  
交易详情报告是一个使用UTF-8编码的文本文件，上传到SFTP中约定的目录供商家下载和使用。文件存储路径默认为`/v1/settlements/<商户获取者标识>/<交易日期>/` 加上文件名。文件名为 `transactionItems_<交易日期>_<序列号>.csv`:  
*   **商户获取者标识**：支付宝为商家分配的身份标识。
*   **交易日期**：交易的日期。
*   **序列号**：文件序列号。  
报告字段
=============
交易项目文件分为两部分：交易详情和文件结束。文件结束标识 `<END>` 位于文件的最后一行。交易详情由多个字段及其对应的值来描述。以下表格展示了报告主体中出现的字段详情：

| **字段** | **描述** |
| --- | --- |
| customerId | **必填** 字符串 (64) - 发卡机构为识别商家分配的唯一ID。 |
| acquirer | **必填** 字符串 (64) - 处理交易的收单机构名称。这里的收单机构特指为商家提供收单和资金结算服务的机构。 |
| acquirerReferenceNo | **可选** 字符串 (64) - 非支付宝收单机构为交易分配的唯一ID。当交易由非支付宝收单机构结算时，需要指定此参数。如果收单机构是支付宝，交易ID与 *transactionId* 相同。 |
| referenceMerchantId | **可选** 字符串 (64) - 直接向用户提供服务或商品的商家的唯一ID，由对应商家分配。**注意**：对于所有其他类型的交易，此字段的值需要与原始支付或授权请求中的 *referenceMerchantId* 字段相同。 |
| referenceStoreId | **可选** 字符串 (64) - 商家所属店铺的唯一ID，由对应商家分配。 |
| 交易ID | **必填** 字符串（64）支付宝为识别一笔交易分配的唯一ID。此字段的值遵循以下规则：* 当 *transactionType* 为 `PAYMENT`, `CANCEL`, 或 `AUTHORIZATION` 时，此字段的值与 *paymentId* 相同。* 当 *transactionType* 为 `CAPTURE` 时，此字段的值与 *captureId* 相同。* 当 *transactionType* 为 `REFUND` 时，此字段的值与 *refundId* 相同。* 当 *transactionType* 为 `DISPUTE` 时，此字段的值与 *disputeId* 相同。 |
| 原始交易ID | **可选** 字符串（64）原始交易的标识符。* 当 *transactionType* 为 `PAYMENT`, `CANCEL`, 或 `AUTHORIZATION` 时，此字段的值为空。* 当 *transactionType* 为 `VOID` 时，此字段的值与原始授权的 *paymentId* 相同。* 当 *transactionType* 为 `REFUND` 时，此字段的值与原始支付或授权的 *paymentId* 相同。* 当 *transactionType* 为 `CAPTURE` 时，此字段的值与原始授权的 *paymentId* 相同。* 当 *transactionType* 为 `DISPUTE` 时，此字段的值与原始授权的 *paymentId* 相同。 |
| 交易请求ID | **必填** 字符串（64）商家为识别交易请求分配的唯一ID。此字段的值对于支付与 *paymentRequestId* 相同，对于退款与 *refundRequestId* 相同。当 *transactionType* 为 `DISPUTE` 时，此字段的值为空。 |
| 参考交易ID | **可选** 字符串（64）直接向用户提供服务或商品的商家分配的交易唯一ID。此字段的值对于支付与 *referenceOrderId* 相同。当 *transactionType* 为 `CANCEL`, `CAPTURE`, 或 `DISPUTE` 时，此字段的值为空。 |
| 订单描述 | **可选** 字符串 (256) | 订单的描述。 |
| 支付方式类型 | **必填** 字符串 (64) | 处理的支付方式类型。请参考 [支付方式](https://global.alipay.com/docs/ac/ref/payment_method) 查看有效值。**注意**：对于其他所有交易类型，此字段的值需要与原始支付或授权请求中的 *paymentMethodType* 字段相同。 |
| 第三方支付商名称 | **可选** 字符串 (64) | Alipay+ 移动支付提供商的名称，例如 GCash。**注意**：对于其他所有交易类型，此字段的值需要与原始支付或授权请求中的 *pspName* 字段相同。 |
| 交易类型 | **必填** 字符串 | 交易类型。可能的值包括：* `PAYMENT`：表示支付过程。* `REFUND`：表示退款过程。* `CANCEL`：表示取消过程。* `AUTHORIZATION`：表示授权过程。* `CAPTURE`：表示扣款过程。* `VOID`：表示取消授权。* `DISPUTE`：表示争议过程。 |
| 支付时间 | **必填** 字符串 (64) | 对应交易达到最终成功状态的日期和时间，格式为 ISO 8601 中定义的 `YYYY-MM-DDTHH:MM:SS+hh:mm`。 |
| 产品代码 | **必填** 字符串 | Alipay 与商家之间签订的支付产品的类型。有效值包括：* `AGREEMENT_PAYMENT`：表示自动扣款支付。* `IN_STORE_PAYMENT`：表示店内支付。* `CASHIER_PAYMENT`：表示收银台支付。**注意**：对于其他所有交易类型，此字段的值需要与原始支付或授权请求中的 *productCode* 字段相同。 |
| 交易金额值 | **必填** 字符串 (16) 以对应货币的主要单位表示的交易金额（例如，对于 USD 是美元，对于 JPY 是日元）。 |
| 交易货币 | **必填** 字符串 (3) 交易金额值的货币，用 [ISO 4217](https://www.iso.org/iso-4217-currency-codes.html) 中定义的3字母货币代码指定。 |
| 原始交易请求ID | **可选** 字符串 (64) 当交易类型为 `REFUND`, `CANCEL` 或 `CAPTURE` 时，交易的原始支付请求ID。否则，此参数的值为空。 |
| 分期数 | **可选** 字符串 (8) 表示分期付款的次数。 |
| 发卡国家/地区 | **可选** 字符串 (2) 卡片的发行国家/地区。这是一个遵循 [ISO 3166 国家代码](https://www.iso.org/obp/ui/#search) 标准的2字母国家/地区代码。当 *paymentMethodType* 为 `CARD` 时指定此参数。 |
| 卡片品牌 | **可选** 字符串 (256) 卡片的品牌。当 *paymentMethodType* 为 `CARD` 时指定此参数。 |
| 资金来源 | **可选** 字符串 (6) 卡片的资金类型。有效值为：* `CREDIT`：表示信用卡。 * `DEBIT`：表示借记卡。  当 *paymentMethodType* 为 `CARD` 时指定此参数。 |

报告示例
==========

示例 1
-------
2018年12月25日的交易日，商户ID为1022188000000000001的商户有两个交易，一个是支付，另一个是退款。

*   支付信息：
    *   _paymentId_：2018122519074101000000000112612，这也是 _transactionId_ 的值。
    *   _支付金额_：18000 KRW（_transactionAmountValue_）用于支付。
*   退款信息：
    *   _refundId_：2018122519074102000000000041675，这也是 _transactionId_ 的值。
    *   _退款金额_：9000 KRW（_transactionAmountValue_）用于退款。
在2018年12月26日，支付宝生成了一个名为`transactionItems_20181225_000.csv`的CSV文件。在这个例子中，商家客户ID是1022188000000000001。文件路径是`/v1/settlements/1022188000000000001/20181225/transactionItems_20181225_000.csv`。

交易详情如下：

```
customerId,acquirer,acquirerReferenceNo,referenceMerchantId,referenceStoreId,transactionId,originalTransactionId,transactionRequestId,referenceTransactionId,orderDescription,paymentMethodType,pspName,transactionType,paymentTime,productCode,transactionAmountValue,transactionCurrency,originalTransactionRequestId,issuingCountry,cardBrand,funding
1022188000000000001,,,,2018122519074101000000000112612,,20190326L648423000404,,,KAKAOPAY,KaKaoPay,PAYMENT,2018-12-25T10:00:00+08:30,AGREEMENT_PAYMENT,18000,KRW,,,,,
1022188000000000001,,,,2018122519074102000000000041675,2018122519074101000000000112612,20190326L648423000404,,,KAKAOPAY,KaKaoPay,REFUND,2018-12-25T10:00:00+08:30,AGREEMENT_PAYMENT,-9000,KRW,20190326L648423000404,,,,
```

示例2：

在2018年12月25日没有交易。2018年12月26日，支付宝生成了一个名为`transactionItems_20181225_000.csv`的CSV文件。

交易详情文件内容如下：

```
customerId,acquirer,acquirerReferenceNo,referenceMerchantId,referenceStoreId,transactionId,originalTransactionId,transactionRequestId,referenceTransactionId,orderDescription,paymentMethodType,pspName,transactionType,paymentTime,productCode,transactionAmountValue,transactionCurrency,originalTransactionRequestId,issuingCountry,cardBrand,funding
```

要查看文档的最新更新，请访问[发行说明](https://global.alipay.com/docs/releasenotes)。

![图片3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png) ![图片4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)
@2024 支付宝 [法律信息](https://global.alipay.com/docs/ac/platform/membership)  
#### 这个页面有帮助吗？  
#### 在此页面上  
[报告路径和名称](#CdJlR "报告路径和名称")  
[报告字段](#cY6B8 "报告字段")  
[报告示例](#xWwEr "报告示例")  
[示例1](#YllMq "示例1")  
[示例2](#VeayW "示例2")  

---

请注意，由于您要求的是专业领域的翻译，但提供的文档内容非常简洁，没有具体的金融或技术细节，因此翻译可能不够详尽。如果文档中包含更复杂的技术或业务信息，翻译会有所不同。如果需要更详细的翻译或有特定的术语需要处理，请提供更多的上下文或文档详细内容。