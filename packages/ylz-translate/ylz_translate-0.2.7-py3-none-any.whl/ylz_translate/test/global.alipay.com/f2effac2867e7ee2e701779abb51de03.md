iDiagnose | Services & Tools | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Ftool%2Fidiagnose)

[Go to Homepage](../../)

Services & Tools

[Sandbox](/docs/ac/tool/sandbox)

[Service mocking](/docs/ac/tool/mocking)

[iDiagnose](/docs/ac/tool/idiagnose)

[iValidate](/docs/ac/tool/ivalidate)

[Key pair generation and validation](/docs/ac/tool/key_pair)

[Mini program](/docs/ac/tool/miniapp)

iDiagnose
=========

2021-02-26 07:47

iDiagnose is a function provided by Alipay sandbox to help you to pinpoint errors when certain error codes are returned in the integration process. With iDiagnose, you can improve integration efficiency and quality with lower integration cost and better user experience.

By now, iDiagnose supports the following error codes:

*   `ILLEGAL_SIGN`
*   `INVALID_PARAMETER`

Before using iDiagnose, you must have an Alipay merchant account. If you don't have one, go to [Alipay portal](https://global.alipay.com/) to sign up. The following video explains how to create an Alipay merchant account:

ILLEGAL\_SIGN
-------------

When ILLEGAL\_SIGN error occurs, you can try the following steps to diagnose.

Firtstly login to [iSandbox](https://isandbox.alipaydev.com/user/intlAccountDetails.htm), go to **Global Products**, and select **iDiagnose** under **Sandbox Tool**. Select error code `ILLEGAL_SIGN`, product, API, and then click **Start**. Follow the steps below to pinpoint the error. You can adjust your integration according to the diagnose results in each step.

**Notes:**

*   You can go to the next step only after errors that occur in the current step are fixed.
*   Ensure that all required parameters are passed in. See [API docs](https://global.alipay.com/doc/global/spot_pay) for details.
*   If the cause of `ILLEGAL_SIGN` is still not found, please contact Technical Support overseas\_support@service.alibaba.com for help.

**Step 1. Verify the private key**

This step is to check whether the private key used is correct. Before you start, please upload the public key that is paired with the private key to be verified.

If your private key is incorrect, correct it before you proceed to the next step.

**Step 2. Check the pre-sign string**

This step is to check whether your pre-sign string is correct. Except for `sign` and `sign_type`, all parameters used must be signed.

If your pre-sign string is incorrect, correct the pre-sign string before you proceed to the next step.

**Step 3. Check the signature**

This step is to check whether the signature is correctly generated. If not, correct the result before you proceed to the next step.

**Step 4. Check the final URL** (skip this step if POST method is used)

This step is to check whether the request URL is correct, especially,  whether all parameters are connected in the correct format in this step.

INVALID\_PARAMETER
------------------

When INVALID\_PARAMETER error occurs, you can try the following steps to diagnose.

Login to [iSandbox](https://isandbox.alipaydev.com/user/intlAccountDetails.htm), go to **Global Products**, and select **iDiagnose** under **Sandbox Tool**. Select error code `INVALID_PARAMETER`, and API (the API can be automatically matched if you select **automatic matching**). Then enter the request URL to pinpoint errors. The diagnostics result is then displayed. You can adjust your request accordingly.

### Result sample

#### Sample success

copy

    The request of alipay.acquire.overseas.spot.pay is valid
    The request contains all required parameters, and the request format is correct

#### Sample missing required parameters

copy

    One or more required parameters are missing in the request
    ["service","sign_type","sign"]

#### Sample invalid format

copy

    The request format of alipay.acquire.overseas.spot.pay is invalid
    ["trans_amount"]

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?

#### On this page

[ILLEGAL\_SIGN](#yZEyl "ILLEGAL_SIGN")

[INVALID\_PARAMETER](#xhUvP "INVALID_PARAMETER")

[Result sample](#FvCsY "Result sample")

[Sample success](#HgDWz "Sample success")

[Sample missing required parameters](#0pbmq "Sample missing required parameters")

[Sample invalid format](#V1b0l "Sample invalid format")