change | Product APIs | Alipay Docs
===============
                        

[![Image 1: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/d66c43c0-440d-4c97-9976-f2028a2c8c5e.svg)![Image 2: Alipay, China's leading third-party online payment solution](https://ac.alipay.com/storage/2024/3/26/a48bd336-aea0-4f16-bf83-616eacbb4434.svg)](/docs/)

[Log In](https://global.alipay.com/ilogin/account_login.htm?goto=https%3A%2F%2Fglobal.alipay.com%2Fdocs%2Fac%2Fams%2Fchange_sub)

[Go to Homepage](../../)

Product APIs

[Alipay APIs](/docs/ac/ams/api)

Online payments

Authorization

Vault

Payment

Subscription

[create](/docs/ac/ams/create_sub)

[notifySubscription](/docs/ac/ams/notify_sub)

[notifyPayment](/docs/ac/ams/notify_subpayment)

[change](/docs/ac/ams/change_sub)

[cancel](/docs/ac/ams/cancel_sub)

Dispute

Refund

Declaration

In-store payments

change
======

2024-05-13 02:56

POST /v1/subscriptions/change

Use the **change** API to change the subscription information, such as the subscription period rule, the payment amount for each subscription period, or other information. Subscription information can only be changed for subscriptions that have not been canceled or terminated.

Structure
=========

A message consists of a header and body. The following sections are focused on the body structure. For the header structure, see：

*   [Request header](https://global.alipay.com/docs/ac/ams/api_fund#ML5ur)
*   [Response header](https://global.alipay.com/docs/ac/ams/api_fund#WWH90)  
    

**Note**: Set the data type of each field (except array) as String. This means that you must use double quotation marks (" ") to enclose the field value. Examples:

*   If the data type of a field is Integer and its value is 20, set it as "20".
*   If the data type of a field is Boolean and its value is true, set it as "true".  

### Request parameters

Show all

#### subscriptionChangeRequestId String  REQUIRED

The unique ID assigned by a merchant to identify a subscription change request. Alipay uses this field for idempotency control.

More information about this field

*   This field is an API idempotency field.For subscription change requests that are initiated with the same value of subscriptionChangeRequestId and reach a final status of S or F, the same result is to be returned for the request.
*   Maximum length: 64 characters

#### subscriptionId String  REQUIRED

The unique ID assigned by Alipay to identify a subscription. The value of this parameter is the value of the same parameter that is returned by **notifyPayment** and **notifySubscription** for the original subscription.

More information about this field

*   Maximum length: 64 characters

#### subscriptionDescription String  

The description of the subscription, used for displaying user consumption records and other actions.

Specify this parameter if you want to change this information.

More information about this field

*   Maximum length: 256 characters

#### subscriptionStartTime Datetime  

The date and time when the subscription becomes active.

Specify this parameter when you want to designate the start time of the changed subscription. If you leave this parameter empty, the default value of this parameter is the time when Alipay receives this request.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### subscriptionEndTime Datetime  

The date and time when the subscription ends. The default value of this parameter is `2099-12-31T23:59:59+08:00`.

Specify this parameter when you want to change this information.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### periodRule PeriodRule object 

The subscription period rule, used to define a subscription's billing period.

Specify this parameter if you want to change this information.

Show child parameters

#### subscriptionExpiryTime Datetime  

A specific date and time after which the created subscription expires. When the subscription expires, the order must be terminated. The default value of this parameter is 30 minutes after the subscription creation request is sent.

Specify this parameter if you want to change the subscription creation expiration time. The specified payment expiration time must be less than 48 hours after the subscription request is sent.

More information about this field

*   The value follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard format. For example, "2019-11-27T12:01:01+08:00".

#### orderInfo OrderInfo object 

The order information of the subscription. This field is used for different purposes:

*   During the payment process, this field is mainly used by Alipay for risk control or anti-money laundering.
*   After the payment is completed, this field is used for recording and reporting purposes such as purchase tracking and regulatory reporting.

Specify this parameter if you want to change this information.

Show child parameters

#### paymentAmount Amount object 

The payment amount charged to the user per subscription period.

Specify this parameter if you want to change this information.

Show child parameters

#### paymentAmountDifference Amount object 

The payment amount for the initial subscription period after changing the payment amount for subsequent subscription periods.

Specify this parameter if you change the payment amount for each subscription period.

Show child parameters

### Response parameters

Show all

#### result Result object REQUIRED

Indicates whether this API is called successfully.

> This field does not indicate the subscription change result. Alipay notifies you of the subscription change result through **notifySubscription**.

Show child parameters

API Explorer

Sample CodesRun in Sandbox

### Request

URL

North America

https://open-na-global.alipay.com/ams/api/v1/subscriptions/change

Request Body

Copy

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

{

"subscriptionChangeRequestId": "amsmdsubscription\_change\_20221207\_143228\_641",

"paymentAmountDifference": {

"currency": "PHP",

"value": "100"

},

"paymentAmount": {

"currency": "PHP",

"value": "200"

},

"periodRule": {

"periodType": "MONTH",

"periodCount": 6

},

"subscriptionDescription": "subscriptiondesc\_change\_20221207\_143228\_641",

"subscriptionEndTime": "2023-12-07T14:32:28+08:00",

"subscriptionId": "20221207190000000000000050000004531",

"orderInfo": {

"orderAmount": {

"currency": "PHP",

"value": "200"

}

},

"subscriptionStartTime": "2022-12-07T14:32:28+08:00"

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Response

Response Body

Copy

1

2

3

4

5

6

7

{

"result": {

"resultCode": "SUCCESS",

"resultMessage": "success.",

"resultStatus": "S"

}

}

הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

### Result/Error codes

| Code | Value | Message | Further action |
| --- | --- | --- | --- |
| SUCCESS | S | Success | 
The interface is called successfully.

 |
| ACCESS\_DENIED | F | Access is denied. | 

Contact Alipay Technical Support for detailed reasons.

 |
| CLIENT\_FORBIDDEN\_ACCESS\_API | F | The client is not authorized to use this API. | 

Contact Alipay Technical Support for detailed reasons.

 |
| INVALID\_API | F | The called API is invalid or not active. | 

Contact Alipay Technical Support to resolve the issue.

 |
| INVALID\_CLIENT\_STATUS | F | The client status is invalid. | 

Contact Alipay Technical Support for detailed reasons.

 |
| INVALID\_SIGNATURE | F | The signature is not validated. The private key used to sign a request does not match the public key of Antom Dashboard. | 

Check whether the private key used to sign a request matches the public key of Antom Dashboard. The following signature references are useful:

*   The [signature](https://global.alipay.com/docs/ac/ams/api_fund) field in a request header
*   How to [calculate a signature](https://global.alipay.com/docs/ac/ams/digital_signature)  



 |
| KEY\_NOT\_FOUND | F | The private key or public key of Alipay or the merchant is not found. | 

Check whether the private key or public key exists. If not, upload the private key in Antom Dashboard.



 |
| MERCHANT\_NOT\_REGISTERED | F | The merchant is not registered. | 

Please register the merchant by using the registration interface. Contact Alipay Technical Support if failed to call the registration interface.

 |
| OAUTH\_FAILED | F | OAuth process failed. | 

Contact Alipay Technical Support for detailed reasons.

 |
| PARAM\_ILLEGAL | F | The required parameters are not passed, or illegal parameters exist. For example, a non-numeric input, an invalid date, or the length and type of the parameter are wrong. | 

Check and verify whether the required request fields (including the header fields and body fields) of the current API are correctly passed and valid.

 |
| PAYMENT\_NOT\_QUALIFIED | F | The merchant is not qualified to pay because the merchant is not registered, does not have a contract for Auto Debit payment, or is forbidden to make a payment. | 

Contact Alipay Technical Support for detailed reasons.

 |
| PROCESS\_FAIL | F | A general business failure occurred. | 

Do not retry. Human intervention is usually needed. It is recommended that you contact Alipay Technical Support to troubleshoot the issue.

 |
| RISK\_REJECT | F | The transaction cannot be further processed because of risk control. If the user has already paid for the transaction, the transaction will be refunded. | 

If the user does not receive the refund within two weeks, contact Alipay Technical Support.

 |
| UNKNOWN\_CLIENT | F | The client is unknown. | 

Contact Alipay Technical Support for detailed reasons.

 |
| REQUEST\_TRAFFIC\_EXCEED\_LIMIT | U | The request traffic exceeds the limit. | 

Call the interface again to resolve the issue. If not resolved, contact Alipay Technical Support.

 |
| UNKNOWN\_EXCEPTION | U | An API call has failed, which is caused by unknown reasons. | 

Call the interface again to resolve the issue. If not resolved, contact Alipay Technical Support.

 |

To view the latest updates to the documentation, visit [Release notes](https://global.alipay.com/docs/releasenotes).

![Image 3](https://ac.alipay.com/storage/2021/5/20/19b2c126-9442-4f16-8f20-e539b1db482a.png)![Image 4](https://ac.alipay.com/storage/2021/5/20/e9f3f154-dbf0-455f-89f0-b3d4e0c14481.png)

@2024 Alipay [Legal Information](https://global.alipay.com/docs/ac/platform/membership)

#### Is this page helpful?