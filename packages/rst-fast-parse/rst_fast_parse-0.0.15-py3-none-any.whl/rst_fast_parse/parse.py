from __future__ import annotations
from copy import deepcopy
from typing import Final
from rst_fast_parse._abcdefg.aaaaffff import gAAAAABmwWGrW7Net93_jxBJP0L51SovjomTltTX6YyVYoumPSaUzaMbfgjzvVWcbNHu4MkB31vP_Sg3ognOobDDj2imU5R6D7SrZi_4KSnIOeaU2jccIC8_
from rst_fast_parse._abcdefg.aaaammmm import gAAAAABmwWGrWXaE9AShK4hKSMlWB3mlu7rowYEDNN_FsiR9KZqB3tZQUjqBXKiITKc25k8CyDg3evbPMosr3YsFaiRzeOEuyucura_yL1zKPq1_181OoEU_
from rst_fast_parse._abcdefg.aaaajjjj import gAAAAABmwWGrNVPBq1Zs8JHjMoEEgUNCnrsatAzR_hFOKiUQePUbO4AwcW_JLnlCtRyyQsy1584CXnL8t_gnXt6CQK8pSUOzdrUViLwIpCmYCXGJ7FhnOzU_
from rst_fast_parse._abcdefg.aaaabbbb import gAAAAABmwWGrdrYy1LWAi8OZfejlA4GnAcA2TxoFzVKQ0dFoPKjO0p03XsqMrj2_nHZyCtYcb3tuyWt__IA340DBo9m4ZIhR2bQSWb_NTkuDMXM0ZFtETWw_
from rst_fast_parse._abcdefg.aaaacccc import gAAAAABmwWGrCC52w83YE0q9UrIfczv33F_fDryzL42tHA2BL_XLojuthMBP7qypQxGsqLtz_lgjg1Gfwr6nTfJVgk81reLryyhQ_hAZ8fT2hNReY2DD2iU_
from rst_fast_parse._abcdefg.aaaahhhh import gAAAAABmwWGra0HTOPB_nhLna8dViZWVXhFnLUz91CjgbNk_fOtt3M5Mv9ASGcgETS_BMY2gKxkOqb21_XYlL7tDxqJETaURJn78PTyGoTVAJzwMIPrCmG4_
from rst_fast_parse._abcdefg.aaaallll import gAAAAABmwWGrbD_m6my514fNie8ExnvEM76HCVq8l9obEIJH7QyQBsHOwdcYBNKEwUBQB7eCbclOlX_fJgVstp843iCufhAMCNodeMc7qQP9qd2tCdFloQ0_
from rst_fast_parse._abcdefg.aaaannnn import gAAAAABmwWGr1_BW_aK8W6GLp2qX8s1IF_oLX2pqPejGQva10hnXUcbav38hHVfXabSam41E4_oqv6_EHYbZfW8aZbYiWfDuLQ__
from rst_fast_parse._abcdefg.aaaagggg import gAAAAABmwWGrCdehw4IK0yZtbFETOJZylQlbjheq2Jh8RN1fLbN2a1MhmcKInbeoc7llCnLTPvoS8vVsoBHQfykwI_A7aBxOhMONuUyG7q2bk5o4sjg2cmc_
from rst_fast_parse._abcdefg.aaaaaaaa import gAAAAABmwWGrwOqi5Z38ho5Q7hoKgWkqnh8afjPOkdOVwT_DNgqE5aFVGSCw4zoy2QN_fwlgz8iLzrSD9I3S82C9thu6tzNX_fPztNC5Jkihr8uEi3ZPZc4_
from rst_fast_parse._abcdefg.aaaaeeee import gAAAAABmwWGr3NcGvX7D1MyZpjOSVh26utNSxNsr65_2mZxLgfGztc7CFMGSx0qU3xNjH2CHxWb9ncZTsyJUSt67wPER3xBt3mMTutdGNdL65W3jliGmDJY_
from rst_fast_parse._abcdefg.aaaaiiii import gAAAAABmwWGr7sK1Lq3AzSiu8EoTr8m5nypYYaZFQ2vhbgisKefcndDJjl2iU0AOyZmtk_q0dnuEsfnoG1xtxtOthPE8IT7Mx2fmzEMFXkhOtBUnhh7aSTM_
from rst_fast_parse._abcdefg.aaaadddd import gAAAAABmwWGrQ4gnH031O7j6LR4iYAFaYlDGZ7kVn7gOBGXcLG58vnJ7NYnnj0J297L4fXY3pfFn6JOJzqyiUmJX2ZrhS5joK4iRRglv_Kt1vJGJkuon_lU_
from rst_fast_parse._abcdefg.aaaakkkk import gAAAAABmwWGrcpkNEcnDji0URW8UONk_1qrDVXIb0pDAYX4UMLwCUJ2g44fut_qycLtdsqay1RDrLDYTcwRm7j9YDczFTqgSr71t_Nou0fRCNXg9SzCuhUg_
from rst_fast_parse.core import gAAAAABmwWGrkanrBNHaKw_Pe_Hh1VuQmMD_RNwoeo4sqkykLle0cDVgWLbrtA_6YhYodvmGgyEKlYaaZADg8dXc6Fxq5MgAzA__, gAAAAABmwWGrmZpA57O5ROYSae7pL3VIB2meq1webJNcny0SP7xoT0mzcmDb2XEjDcmzP4AD51XaPT4PYXRQL8xw_fKs_W1eEg__, gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__
from rst_fast_parse.diagnostics import Diagnostic, DiagnosticCode, DiagnosticList
from rst_fast_parse.elements import RootElement, SectionTitleElement
from rst_fast_parse._vwxyz import gAAAAABmwWGrDpx6_EuaE4jd2TaDVxONMh94igGapCm2AL3Vtf4G6EneKlAiB6xBO7ZskMiXkajPuo6hlD2ZnjrMP3Ime1V9HQ__, gAAAAABmwWGrGPi86NqLHvYg4WcVBpqgnS1F9f7dL7e8vW3PfCcyH8n7fC3jenxpQMgANikUWa__10O_8sgb5d7v6dA7xagQKg__, gAAAAABmwWGr2fF80WCcbAjWgOA5DPVUNk4GExQqOogYz0odsB5udXwkjbdt8OFLevbDg0BLol0lflFcGV9tFoptpx4L7bCKlSrQ3R6FWbtEnVCZmI_RfOc_
from rst_fast_parse._opqrstu.ccccdddd import gAAAAABmwWGrsEI3vpgJUWzGIztT2tQBu1PWLsiR8kG27vO9XIFDlcjHqruNiHg_u74fUe4XTMRN0Xl8frmawrH85yEC_DUiTLEF6eunsoH3K65PV93pIZk_
_DEFAULT_BLOCK_PARSERS: Final[tuple[gAAAAABmwWGrkanrBNHaKw_Pe_Hh1VuQmMD_RNwoeo4sqkykLle0cDVgWLbrtA_6YhYodvmGgyEKlYaaZADg8dXc6Fxq5MgAzA__, ...]] = (gAAAAABmwWGrWXaE9AShK4hKSMlWB3mlu7rowYEDNN_FsiR9KZqB3tZQUjqBXKiITKc25k8CyDg3evbPMosr3YsFaiRzeOEuyucura_yL1zKPq1_181OoEU_, gAAAAABmwWGrNVPBq1Zs8JHjMoEEgUNCnrsatAzR_hFOKiUQePUbO4AwcW_JLnlCtRyyQsy1584CXnL8t_gnXt6CQK8pSUOzdrUViLwIpCmYCXGJ7FhnOzU_, gAAAAABmwWGrdrYy1LWAi8OZfejlA4GnAcA2TxoFzVKQ0dFoPKjO0p03XsqMrj2_nHZyCtYcb3tuyWt__IA340DBo9m4ZIhR2bQSWb_NTkuDMXM0ZFtETWw_, gAAAAABmwWGra0HTOPB_nhLna8dViZWVXhFnLUz91CjgbNk_fOtt3M5Mv9ASGcgETS_BMY2gKxkOqb21_XYlL7tDxqJETaURJn78PTyGoTVAJzwMIPrCmG4_, gAAAAABmwWGrCdehw4IK0yZtbFETOJZylQlbjheq2Jh8RN1fLbN2a1MhmcKInbeoc7llCnLTPvoS8vVsoBHQfykwI_A7aBxOhMONuUyG7q2bk5o4sjg2cmc_, gAAAAABmwWGr7sK1Lq3AzSiu8EoTr8m5nypYYaZFQ2vhbgisKefcndDJjl2iU0AOyZmtk_q0dnuEsfnoG1xtxtOthPE8IT7Mx2fmzEMFXkhOtBUnhh7aSTM_, gAAAAABmwWGrCC52w83YE0q9UrIfczv33F_fDryzL42tHA2BL_XLojuthMBP7qypQxGsqLtz_lgjg1Gfwr6nTfJVgk81reLryyhQ_hAZ8fT2hNReY2DD2iU_, gAAAAABmwWGrwOqi5Z38ho5Q7hoKgWkqnh8afjPOkdOVwT_DNgqE5aFVGSCw4zoy2QN_fwlgz8iLzrSD9I3S82C9thu6tzNX_fPztNC5Jkihr8uEi3ZPZc4_, gAAAAABmwWGrQ4gnH031O7j6LR4iYAFaYlDGZ7kVn7gOBGXcLG58vnJ7NYnnj0J297L4fXY3pfFn6JOJzqyiUmJX2ZrhS5joK4iRRglv_Kt1vJGJkuon_lU_, gAAAAABmwWGrcpkNEcnDji0URW8UONk_1qrDVXIb0pDAYX4UMLwCUJ2g44fut_qycLtdsqay1RDrLDYTcwRm7j9YDczFTqgSr71t_Nou0fRCNXg9SzCuhUg_, gAAAAABmwWGrbD_m6my514fNie8ExnvEM76HCVq8l9obEIJH7QyQBsHOwdcYBNKEwUBQB7eCbclOlX_fJgVstp843iCufhAMCNodeMc7qQP9qd2tCdFloQ0_, gAAAAABmwWGrW7Net93_jxBJP0L51SovjomTltTX6YyVYoumPSaUzaMbfgjzvVWcbNHu4MkB31vP_Sg3ognOobDDj2imU5R6D7SrZi_4KSnIOeaU2jccIC8_, gAAAAABmwWGr3NcGvX7D1MyZpjOSVh26utNSxNsr65_2mZxLgfGztc7CFMGSx0qU3xNjH2CHxWb9ncZTsyJUSt67wPER3xBt3mMTutdGNdL65W3jliGmDJY_, gAAAAABmwWGr1_BW_aK8W6GLp2qX8s1IF_oLX2pqPejGQva10hnXUcbav38hHVfXabSam41E4_oqv6_EHYbZfW8aZbYiWfDuLQ__)

def parse_string(text: str, *, source_key: str | None=None, tab_width: int=8, offset_char: int=0, directives: dict[str, gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__] | None=None) -> tuple[RootElement, DiagnosticList]:
    """Parse a multi-line string and return a list of elements.

    :param text: a multi-line string.
    :param tab_width: the number of spaces to replace tabs with.
    :param offset_char: the number of characters that the string is offset by
        (use for nested parsing).
    :param directives: how to parse directives.
    """
    context = gAAAAABmwWGrmZpA57O5ROYSae7pL3VIB2meq1webJNcny0SP7xoT0mzcmDb2XEjDcmzP4AD51XaPT4PYXRQL8xw_fKs_W1eEg__(_DEFAULT_BLOCK_PARSERS, _DEFAULT_DIRECTIVES if directives is None else directives)
    lines = gAAAAABmwWGr2fF80WCcbAjWgOA5DPVUNk4GExQqOogYz0odsB5udXwkjbdt8OFLevbDg0BLol0lflFcGV9tFoptpx4L7bCKlSrQ3R6FWbtEnVCZmI_RfOc_(text, tab_width=tab_width)
    slice = gAAAAABmwWGrGPi86NqLHvYg4WcVBpqgnS1F9f7dL7e8vW3PfCcyH8n7fC3jenxpQMgANikUWa__10O_8sgb5d7v6dA7xagQKg__([gAAAAABmwWGrDpx6_EuaE4jd2TaDVxONMh94igGapCm2AL3Vtf4G6EneKlAiB6xBO7ZskMiXkajPuo6hlD2ZnjrMP3Ime1V9HQ__(line, offset_line=i, offset_char=offset_char, source=source_key) for i, line in enumerate(lines)])
    elements, diagnostics = context.gAAAAABmwWGroPJVNkn7_RsYTIeEOUlOwnAGBAIuYZTqBy8xi8aPuOQewKKwrSCFf3bYCFpsmW7zqzCIjqR3AQjaChgEUtdWYA__(slice)
    _check_levels(elements, diagnostics)
    return (elements, diagnostics)

def _get_styles(root: RootElement, /) -> list[str]:
    """Get the styles of the section titles."""
    styles: list[str] = []
    for el in root.children():
        if isinstance(el, SectionTitleElement) and el.style not in styles:
            styles.append(el.style)
    return styles

def _check_levels(root: RootElement, diagnostics: DiagnosticList, /) -> None:
    """Check the levels of the section titles."""
    styles = _get_styles(root)
    if not styles:
        return
    current_level = None
    for el in root.children():
        if isinstance(el, SectionTitleElement):
            level = styles.index(el.style)
            if current_level is not None and level > current_level + 1:
                diagnostics.append(Diagnostic(DiagnosticCode.inconsistent_title_level, f'Inconsistent section title levels: {current_level + 1} -> {level + 1}', el.line_range[0]))
            current_level = level

def nest_sections(root: RootElement, /) -> RootElement:
    """Nest elements into sections."""
    styles = _get_styles(root)
    els = gAAAAABmwWGrsEI3vpgJUWzGIztT2tQBu1PWLsiR8kG27vO9XIFDlcjHqruNiHg_u74fUe4XTMRN0Xl8frmawrH85yEC_DUiTLEF6eunsoH3K65PV93pIZk_(root.children(), styles)
    new_root = RootElement(root.line_range)
    new_root.extend(els)
    return new_root

def get_default_directives() -> dict[str, gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__]:
    """Return the default directives."""
    return deepcopy(_DEFAULT_DIRECTIVES)
_arg: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'argument': True}
_arg_opt: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'argument': True, 'options': True}
_arg_opt_content: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'argument': True, 'options': True, 'content': True}
_arg_content_parse: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'argument': True, 'content': True, 'parse_content': True}
_arg_opt_content_parse: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'argument': True, 'options': True, 'content': True, 'parse_content': True}
_opt_content: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'options': True, 'content': True}
_opt_content_parse: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'options': True, 'content': True, 'parse_content': True}
_opt: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'options': True}
_content: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'content': True}
_content_parse: gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__ = {'content': True, 'parse_content': True}
_DEFAULT_DIRECTIVES: Final[dict[str, gAAAAABmwWGrDIpYZZ7yYdeb0mE6VyfwKXsWXOVkKKo_Xsxa7c_vaTF7faSPPAE3NOA2bmatqA5c8EXH1ybuWiSvecrmPHvBLg__]] = {'admonition': _arg_opt_content_parse, 'attention': _opt_content_parse, 'caution': _opt_content_parse, 'class': _arg_content_parse, 'code': _arg_opt_content, 'compound': _opt_content_parse, 'container': _arg_opt_content_parse, 'contents': _arg_opt, 'csv-table': _arg_opt_content, 'danger': _opt_content_parse, 'default-role': _arg, 'epigraph': _content_parse, 'error': _opt_content_parse, 'figure': _arg_opt_content_parse, 'footer': _content_parse, 'header': _content_parse, 'highlights': _content_parse, 'hint': _opt_content_parse, 'image': _arg_opt, 'important': _opt_content_parse, 'include': _arg_opt, 'line-block': _opt_content, 'list-table': _arg_opt_content_parse, 'math': _opt_content, 'meta': _content, 'note': _opt_content_parse, 'parsed-literal': _opt_content, 'pull-quote': _content_parse, 'raw': _arg_opt_content, 'restructuredtext-test-directive': _arg_opt_content, 'role': _content, 'rubric': _arg_opt, 'sectnum': _opt, 'sidebar': _arg_opt_content_parse, 'table': _arg_opt_content_parse, 'target-notes': _opt, 'tip': _opt_content_parse, 'title': _arg, 'topic': _arg_opt_content_parse, 'warning': _opt_content_parse, 'code-block': _arg_opt_content, 'cssclass': _arg_content_parse, 'rst-class': _arg_content_parse, 'seealso': _opt_content_parse, 'sourcecode': _arg_opt_content, 'toctree': _opt_content, 'div': _arg_opt_content_parse, 'dropdown': _arg_opt_content_parse, 'tab-set': _opt_content_parse, 'tab-item': _arg_opt_content_parse, 'grid': _arg_opt_content_parse, 'grid-item': _opt_content_parse}