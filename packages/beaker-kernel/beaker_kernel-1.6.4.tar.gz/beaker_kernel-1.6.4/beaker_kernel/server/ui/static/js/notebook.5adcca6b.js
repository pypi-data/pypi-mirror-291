var beaker_vue;(function(){"use strict";var e={31326:function(e,t,n){n.r(t);var s=n(49242),r=n(17729),o=n(73396),i=n(87139),a=n(44870),c=n(86755),u=n(39748),l=n(50852),d=n(68595),h=n(53435);const _={id:"app"},p={id:"notebook-container"};var f=(0,o.aZ)({__name:"NotebookInterface",props:["connectionSettings","sessionName","sessionId","defaultKernel","renderers"],setup(e){const t=(0,h.p)(),n=({title:e,detail:n,life:s=3e3,severity:r="success",position:o="bottom-right"})=>{t.add({summary:e,detail:n,life:s,severity:r})},s=e,r=(0,a.iH)("connecting");return(0,o.wF)((()=>{document.title="Beaker Development Interface"})),(0,o.JJ)("show_toast",n),(e,t)=>((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",p,[(0,o.Wm)(u.ZP,(0,i.vs)((0,o.F4)(s)),{default:(0,o.w5)((()=>[(0,o.Wm)(l.Z,{connectionStatus:r.value},null,8,["connectionStatus"]),(0,o.Wm)(c.Z,{class:"notebook",connectionStatus:r.value},null,8,["connectionStatus"])])),_:1},16)]),(0,o.Wm)((0,a.SU)(d.Z),{position:"bottom-right"})]))}});const y=f;var g=y,m=n(46720),b=n(79511),v=n(23689),k=n(46501);const w=k.PageConfig.getBaseUrl();(async()=>{let e;{const t=k.URLExt.join(w,"/config"),n=await fetch(t);e=await n.json()}const t=(0,s.ri)(g,{connectionSettings:e,sessionName:"BasicNotebook",sessionId:"basicnotebook",defaultKernel:"beaker_kernel"});t.use(r.ZP),t.use(b.Z),t.directive("tooltip",m.Z),t.directive("focustrap",v.Z),t.mount("#app")})()},3507:function(e,t,n){n.d(t,{F1:function(){return f}});var s=n(81265),r=n(19770),o=n(85574),i=n(49293),a=n(37353),c=n(728),u=n(82293),l=n.n(u),d=n(17769),h=n(35200);n(70560);class _{constructor(e){this.sessionId=e,this.events=[]}addEvent(e){this.events.push(e)}clear(){this.events.splice(0,this.events.splice.length)}}var p=n(31439);class f{constructor(e){this._sessionId=(0,c.Z)(),this._sessionOptions=e,this._serverSettings=o.ServerConnection.makeSettings(e.settings),this._services=new i.ServiceManager({serverSettings:this._serverSettings}),this._renderer=new p.T4(e.rendererOptions),this._history=new _(this._sessionId),this.notebook=new h.qC,this._services.ready.then((()=>{this.initialize(e)}))}async initialize(e){this._sessionContext=new r.B({sessionManager:this._services.sessions,specsManager:this._services.kernelspecs,name:e.name,path:e.sessionId,kernelPreference:{name:e.kernelName}}),this._sessionContext.initialize().then((()=>{this._sessionContext.ready.then((()=>{e.messageHandler?(this._messageHandler=e.messageHandler,this._sessionContext.iopubMessage.connect(this._messageHandler)):this._messageHandler=void 0,this._sessionContext.iopubMessage.connect(this._sessionMessageHandler,this)}))}))}sendBeakerMessage(e,t,n=null){null===n&&(n=(0,d.gb)(e));const s=a.createMessage({session:this.session.session.id,channel:"shell",msgType:e,content:t,msgId:n}),r=this.kernel.sendShellMessage(s,!0,!0);return r.msgId=n,r}_sessionMessageHandler(e,t){"context_setup_response"!==t.header.msg_type&&"context_info_response"!==t.header.msg_type||("context_setup_response"===t.header.msg_type?this._sessionInfo=t.content:"context_info_response"===t.header.msg_type&&(this._sessionInfo=t.content.info),this.notebook.setSubkernelInfo(this._sessionInfo))}async availableContexts(){return new Promise((async e=>{this._serverSettings.baseUrl;const t=await l()(`${this._serverSettings.baseUrl}contexts`),n=await t.json();e(n)}))}async activeContext(){return new Promise((async(e,t)=>{await this.sessionReady;const n=this.sendBeakerMessage("context_info_request",{});n.onIOPub=t=>{"context_info_response"===t.header.msg_type&&e(t.content)},await n.done,t({})}))}executeAction(e,t,n=null){const s=`${e}_request`,r=`${e}_response`,o=this.sendBeakerMessage(s,t,n),i=async e=>{if(e.header.msg_type===r&&o.onResponse)await o.onResponse(e);else if("code_cell"===e.header.msg_type){const t=this.notebook,n=new h.yt({cell_type:"code",source:e.content.code,metadata:{},outputs:[]});t.addCell(n)}return!0};return o.registerMessageHook(i),o}addCodeCell(e,t={},n=[]){const s=new h.yt({cell_type:"code",source:e,metadata:t,outputs:n});return this.notebook.addCell(s),s}addMarkdownCell(e,t={}){const n=new h.EK({cell_type:"markdown",source:e,metadata:t});return this.notebook.addCell(n),n}addRawCell(e,t={}){const n=new h.Gn({cell_type:"raw",source:e,metadata:t});return this.notebook.addCell(n),n}addQueryCell(e,t={}){const n=new h.b9({cell_type:"query",source:e,metadata:t});return this.notebook.addCell(n),n}loadNotebook(e){this.notebook.loadFromIPynb(e)}reset(){this.notebook.cells.splice(0,this.notebook.cells.length),this._history.clear(),this._sessionContext.restartKernel()}get sessionReady(){return new Promise((async e=>{await this._services.ready,await this._sessionContext.ready,e()}))}get session(){return this._sessionContext}get kernel(){return this._sessionContext?.session?.kernel}get services(){return this._services}get renderer(){return this._renderer}}if(void 0===s.Z)throw new Error("Unable to extend Jupyterlab types")},31439:function(e,t,n){n.d(t,{T4:function(){return c}});var s=n(81914),r=n(88915),o=n(42304);class i{render(e,t,n){return new HTMLElement}}class a extends i{constructor(e){super(),this._factory=e,this.rank=e.defaultRank,this.mimetypes=[...e.mimeTypes]}render(e,t,n){const o=this._factory.createRenderer({mimeType:e,resolver:null,sanitizer:new r.T,linkHandler:null,latexTypesetter:null,markdownParser:null,translator:null}),i=new s.a({trusted:!0,data:{[e]:t},metadata:n});return o.renderModel(i),o.node}}class c{constructor(e){this._renderers={};for(const t of o.Nf){const e=new a(t);this.addRenderer(e)}for(const t of e?.renderers)this.addRenderer(t)}addRenderer(e){for(const t of e.mimetypes)if(Object.keys(this._renderers).includes(t)){const n=this._renderers[t];e.rank<=n.rank&&(this._renderers[t]=e)}else this._renderers[t]=e}get rankedMimetypes(){const e=Object.keys(this._renderers);return e.sort(((e,t)=>this._renderers[e].rank-this._renderers[t].rank)),e}render(e,t,n){const s=this._renderers[e];if(s)return s.render(e,t,n)}renderMimeBundle(e,t){const n={};for(const s in e)n[s]=this.render(s,e[s],t);return n}rankedMimetypesInBundle(e){const t=this.rankedMimetypes.filter((t=>e&&Object.keys(e).includes(t)));return t}}},17769:function(e,t,n){n.d(t,{Fp:function(){return a},Kf:function(){return c},gb:function(){return i}});n(70560);var s,r=n(728),o=n(73304);(function(e){e["unknown"]="unknown",e["starting"]="starting",e["idle"]="idle",e["busy"]="busy",e["terminating"]="terminating",e["restarting"]="restarting",e["autorestarting"]="autorestarting",e["dead"]="dead"})(s||(s={}));const i=e=>{const t=(0,r.Z)().replaceAll("-","").slice(0,16);return`beaker-${t}-${e}`};class a extends o.KernelFutureHandler{constructor(e,t,n,s,r){const o=e.header.msg_id;void 0===e.channel&&(e.channel="shell");const i=()=>{s._futures.delete(o)};super(i,e,t,n,s),s._futures?.set(o,this),this.cell=r,this.onIOPub=e=>c.handleIOPub(e,this.cell),this.onReply=e=>c.handleReply(e,this.cell)}}var c;(function(e){e.handleIOPub=(e,t)=>{const n=e.header.msg_type,s=e.content;"status"===n?t.status=s.execution_state:"execute_result"===n?(t.busy=!1,s.execution_count&&(t.execution_count=s.execution_count),t.outputs.push({output_type:"execute_result",...s})):"stream"===n?t.outputs.push({output_type:"stream",...s}):"display_data"===n&&t.outputs.push({output_type:"display_data",...s})},e.handleReply=(e,t)=>{if(t.busy=!1,"ok"===e.content.status)t.last_execution={...t.last_execution,status:"ok"},t.execution_count=Number(e.content.execution_count);else if("error"===e.content.status){t.execution_count=Number(e.content.execution_count);const n={ename:e.content.ename,evalue:e.content.evalue,traceback:e.content.traceback};t.last_execution={status:"error",...n},t.outputs.push({output_type:"error",...n})}else if("abort"===e.content.status){t.execution_count=e.content.execution_count;const n={ename:"Execution aborted",evalue:"Execution aborted",traceback:[]};t.last_execution={status:"error",...n},t.outputs.push({output_type:"error",content:n})}}})(c||(c={}))}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,r,o){if(!s){var i=1/0;for(l=0;l<e.length;l++){s=e[l][0],r=e[l][1],o=e[l][2];for(var a=!0,c=0;c<s.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[c])}))?s.splice(c--,1):(a=!1,o<i&&(i=o));if(a){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[s,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=412}(),function(){n.p="/"}(),function(){var e={412:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,i=s[0],a=s[1],c=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var l=c(n)}for(t&&t(s);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},s=self["webpackChunkbeaker_vue"]=self["webpackChunkbeaker_vue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998,64],(function(){return n(31326)}));s=n.O(s),beaker_vue=s})();
//# sourceMappingURL=notebook.5adcca6b.js.map