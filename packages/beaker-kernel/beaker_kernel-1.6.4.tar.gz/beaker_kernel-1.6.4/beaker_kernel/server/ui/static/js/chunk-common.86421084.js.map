{"version":3,"file":"static/js/chunk-common.86421084.js","mappings":"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","sources":["webpack://beaker_vue/../beaker-ts/dist/extension.js","webpack://beaker_vue/../beaker-ts/dist/notebook.js","webpack://beaker_vue/./src/components/dev-interface/BeakerHeader.vue","webpack://beaker_vue/./src/components/dev-interface/BeakerHeader.vue?1999","webpack://beaker_vue/./src/components/notebook/BeakerNotebook.vue","webpack://beaker_vue/./src/components/notebook/BeakerNotebook.vue?c527","webpack://beaker_vue/./src/components/session/BeakerSession.vue","webpack://beaker_vue/./src/components/session/BeakerSession.vue?f06c"],"sourcesContent":["export default {};\n","import * as messages from '@jupyterlab/services/lib/kernel/messages';\nimport { v4 as uuidv4 } from 'uuid';\nimport { BeakerCellFuture, BeakerCellFutures } from './util';\nexport class BeakerBaseCell {\n    constructor() {\n        // Override index type to allow methods to be defined on the class\n        this.IPYNB_KEYS = [\"cell_type\", \"source\", \"metadata\", \"id\", \"attachments\",\n            \"outputs\", \"execution_count\"];\n        this.status = \"idle\";\n        this.last_execution = { status: \"none\" };\n        this.children = [];\n    }\n    reset_execution_state() {\n        this.last_execution = { status: \"modified\" };\n    }\n    fromJSON(obj) {\n        Object.keys(obj).forEach((key) => {\n            this[key] = obj[key];\n        });\n    }\n    toJSON() {\n        return { ...this };\n    }\n    fromIPynb(obj) {\n        Object.keys(obj).forEach((key) => {\n            this[key] = obj[key];\n        });\n    }\n    toIPynb() {\n        const output = {};\n        for (const key of Object.keys(this)) {\n            if (this.IPYNB_KEYS.includes(key)) {\n                output[key] = this[key];\n            }\n        }\n        return (output);\n    }\n}\n;\n;\nexport class BeakerRawCell extends BeakerBaseCell {\n    constructor(content) {\n        super();\n        Object.keys(content).forEach((key) => { this[key] = content[key]; });\n        if (this.id === undefined) {\n            this.id = uuidv4();\n        }\n    }\n    execute(session) {\n        return null;\n    }\n    ;\n}\nexport class BeakerCodeCell extends BeakerBaseCell {\n    constructor(content) {\n        super();\n        Object.keys(content).forEach((key) => { this[key] = content[key]; });\n        this.outputs = this.outputs ?? [];\n        if (this.id === undefined) {\n            this.id = uuidv4();\n        }\n        if (this.execution_count === undefined) {\n            this.execution_count = null;\n        }\n        this.busy = false;\n        if (Array.isArray(this.source)) {\n            this.source = this.source.join(\"\\n\");\n        }\n    }\n    execute(session, syntheticFuture = undefined) {\n        this.busy = true;\n        var future;\n        this.outputs.splice(0, this.outputs.length);\n        if (syntheticFuture !== undefined) {\n            future = syntheticFuture;\n        }\n        else {\n            future = session.sendBeakerMessage(\"execute_request\", {\n                code: this.source,\n                silent: false,\n                store_history: true,\n                user_expressions: {},\n                allow_stdin: true,\n                stop_on_error: false,\n            });\n            future.onIOPub = (msg) => BeakerCellFutures.handleIOPub(msg, this);\n            future.onReply = (msg) => BeakerCellFutures.handleReply(msg, this);\n        }\n        return future;\n    }\n    rollback(session) {\n        if (this?.last_execution?.status === \"ok\") {\n            const future = session.executeAction(\"rollback\", {\n                checkpoint_index: this.last_execution.checkpoint_index\n            });\n            // Treat rolling back like an execution as it may fail\n            this.busy = true;\n            // Clear outputs and children when rollback completes\n            future.done.then((reply_msg) => {\n                if (reply_msg.content.status === \"ok\") {\n                    this.busy = false;\n                    this.last_execution = { \"status\": \"none\" };\n                    this.execution_count = null;\n                    this.outputs.splice(0, this.outputs.length);\n                    this.children.splice(0, this.children.length);\n                }\n                else if (reply_msg.content.status === \"error\") {\n                    this.last_execution = reply_msg.content;\n                    this.outputs.push({ ...reply_msg.content, output_type: \"error\" });\n                }\n            });\n            return future;\n        }\n        return null;\n    }\n    ;\n}\nexport class BeakerMarkdownCell extends BeakerBaseCell {\n    constructor(content) {\n        super();\n        Object.keys(content).forEach((key) => { this[key] = content[key]; });\n        if (this.id === undefined) {\n            this.id = uuidv4();\n        }\n    }\n    execute(session) {\n        // TODO: Replace this with code to render markdown.\n        return null;\n    }\n    ;\n}\nexport class BeakerQueryCell extends BeakerBaseCell {\n    constructor(content) {\n        super();\n        this.events = [];\n        Object.keys(content).forEach((key) => { this[key] = content[key]; });\n        if (this.id === undefined) {\n            this.id = uuidv4();\n        }\n    }\n    execute(session) {\n        this.events.splice(0, this.events.length);\n        this.children.splice(0, this.children.length);\n        const handleIOPub = async (msg) => {\n            const msg_type = msg.header.msg_type;\n            const content = msg.content;\n            if (msg_type === \"status\") {\n                this.status = content.execution_state;\n            }\n            else if (msg_type === \"llm_thought\") {\n                if (content.thought === \"\") {\n                    return;\n                }\n                this.events.push({\n                    type: \"thought\",\n                    content: content.thought,\n                });\n            }\n            else if (msg_type === \"llm_response\" && content.name === \"response_text\") {\n                this.events.push({\n                    type: \"response\",\n                    content: content.text,\n                });\n            }\n            else if (msg_type === \"code_cell\") {\n                const nb = session.notebook;\n                const codeCell = new BeakerCodeCell({\n                    cell_type: \"code\",\n                    source: content.code,\n                    metadata: {\n                        parent_cell: this.id,\n                    },\n                    outputs: [],\n                });\n                const queryCellIndex = nb.cells.findIndex((cell) => (cell.id === this.id));\n                if (queryCellIndex >= 0) {\n                    session.notebook.cells.splice(queryCellIndex + 1, 0, codeCell);\n                }\n                else {\n                    nb.addCell(codeCell);\n                }\n            }\n            else if (msg_type === \"add_child_codecell\") {\n                const autoexecute = content.autoexecute;\n                const codeCell = new BeakerCodeCell({\n                    cell_type: \"code\",\n                    source: content.code,\n                    metadata: {\n                        parent_cell: this.id,\n                    },\n                    outputs: [],\n                    busy: true,\n                });\n                codeCell.last_execution = {\n                    status: \"pending\",\n                    checkpoint_index: content.checkpoint_index,\n                };\n                // cell is stored in events - we point the children field to the same object\n                // to make selection and execution work\n                this.events.push({\n                    type: \"code_cell\",\n                    content: {\n                        parent_id: this.id,\n                        cell_id: codeCell.id,\n                        metadata: {}\n                    }\n                });\n                this.children.push(codeCell);\n                const reactiveCell = this.children[this.children.length - 1];\n                if (autoexecute && content.execute_request_msg) {\n                    const executeRequest = content.execute_request_msg;\n                    const future = new BeakerCellFuture(executeRequest, // Message that is presumably sent\n                    true, // expectReply\n                    true, // disposeOnDone\n                    session.kernel, // kernel\n                    reactiveCell);\n                }\n            }\n            else if (msg_type == \"update_child_codecell\") {\n                const cellId = content.id;\n                const cell = this.children.find((value) => (value.id === cellId));\n                if (cell === undefined || cell === null) {\n                    console.log(\"Can't find cell\");\n                    throw Error(\"Cell to be updated not found \");\n                }\n                cell.execution_count = content.execution_count;\n                let status = {\n                    status: content.execution_status\n                };\n                if (content.execution_status === \"error\") {\n                    // TODO: align to message output, placeholder\n                    const error_details = {\n                        ename: msg.content.ename,\n                        evalue: msg.content.evalue,\n                        traceback: msg.content.traceback,\n                    };\n                    cell.outputs.push({\n                        output_type: \"error\",\n                        ...error_details,\n                    });\n                    status = { ...status, ...error_details };\n                }\n                else if (status.status === \"ok\") {\n                    status = { ...status, checkpoint_index: content.checkpoint_index };\n                    cell.outputs.push({\n                        output_type: \"execute_result\",\n                        data: {\n                            \"text/plain\": content.execution_return\n                        }\n                    });\n                }\n                cell.last_execution = status;\n            }\n        };\n        const handleStdin = async (msg) => {\n            if (messages.isInputRequestMsg(msg)) {\n                this.events.push({\n                    type: \"user_question\",\n                    content: msg.content.prompt,\n                });\n                this.status = \"awaiting_input\";\n                this._current_input_request_message = msg;\n            }\n        };\n        const handleReply = async (msg) => {\n            if (msg.content.status === \"ok\") {\n                this.last_execution = {\n                    status: \"ok\",\n                };\n            }\n            else if (msg.content.status === \"error\") {\n                const error_details = {\n                    ename: msg.content.ename,\n                    evalue: msg.content.evalue,\n                    traceback: msg.content.traceback,\n                };\n                this.last_execution = {\n                    status: \"error\",\n                    ...error_details\n                };\n                this.events.push({\n                    type: \"error\",\n                    content: { ...msg.content }\n                });\n            }\n            else if (msg.content.status === \"abort\") {\n                this.last_execution = {\n                    status: \"abort\",\n                };\n                this.events.push({\n                    type: \"abort\",\n                    content: \"Request aborted\",\n                });\n            }\n        };\n        const future = session.sendBeakerMessage(\"llm_request\", {\n            request: this.source\n        });\n        future.onIOPub = handleIOPub;\n        future.onStdin = handleStdin;\n        future.onReply = handleReply;\n        return future;\n    }\n    ;\n    respond(response, session) {\n        // Only handle if we're awaiting input\n        if (this.status !== \"awaiting_input\") {\n            return;\n        }\n        this.events.push({\n            type: \"user_answer\",\n            content: response,\n        });\n        // Send the reply to the kernel\n        session.kernel.sendInputReply({\n            \"value\": response,\n            \"status\": \"ok\",\n        }, this._current_input_request_message.header);\n        //cleanup\n        this.status = \"busy\";\n        this._current_input_request_message = undefined;\n    }\n    toMarkdownCell() {\n        const renderedMarkdownLines = [`# ${this.source}\\n`];\n        this.events.forEach((event) => {\n            if (event.type === \"thought\") {\n                renderedMarkdownLines.push(`> Thought: ${event.content}\\n> `);\n            }\n            else if (event.type === \"response\") {\n                renderedMarkdownLines.push(`**${event.content}**`);\n            }\n            else if (event.type === \"user_question\") {\n                renderedMarkdownLines.push(`*Beaker asks:* ${event.content}\\n`);\n            }\n            else if (event.type === \"user_answer\") {\n                renderedMarkdownLines.push(`*The user responds:* ${event.content}\\n`);\n            }\n        });\n        const renderedMarkdown = renderedMarkdownLines.join(\"\\n\");\n        const metadata = {\n            ...this.metadata,\n            beaker_cell_type: \"query\",\n            prompt: this.source,\n            events: this.events,\n        };\n        return new BeakerMarkdownCell({\n            cell_type: \"markdown\",\n            id: this.id,\n            source: renderedMarkdown,\n            metadata: metadata,\n        });\n    }\n    // public fromJSON(obj: any) {\n    //     if (this.metadata.beaker_cell_type !== \"query\") {\n    //         throw TypeError(\"Cell is trying to be parsed as a query cell, but doesn't have the required metadata.\")\n    //     }\n    //     this.source = obj.metadata.prompt;\n    //     this.events = obj.metadata.events;\n    // }\n    // public toJSON() {\n    //     return this.toMarkdownCell();\n    // }\n    fromIPynb(obj) {\n        if (this.metadata.beaker_cell_type !== \"query\") {\n            throw TypeError(\"Cell is trying to be parsed as a query cell, but doesn't have the required metadata.\");\n        }\n        this.source = obj.metadata.prompt;\n        this.events = obj.metadata.events;\n    }\n    toIPynb() {\n        // TODO: Is this modifying the cells in memory, if so, is this causing problems?\n        const taggedChildren = this.children?.map((cell) => {\n            cell.metadata.beaker_child_of = this?.id;\n            return cell.toIPynb();\n        });\n        return [this.toMarkdownCell().toIPynb(), ...taggedChildren];\n    }\n}\nexport class BeakerNotebookContent {\n}\nexport class BeakerNotebook {\n    constructor() {\n        this.content = {\n            nbformat: 4,\n            nbformat_minor: 5,\n            cells: [],\n            metadata: {\n                \"kernelspec\": {\n                    \"display_name\": \"Beaker Kernel\",\n                    \"name\": \"beaker\",\n                    \"language\": \"beaker\",\n                },\n                \"language_info\": this.subkernelInfo,\n            },\n        };\n        // Using a Proxy to get around issues with reactivity in getters/setters\n        this.cells = new Proxy(this.content.cells, {});\n    }\n    toJSON() {\n        this.content.metadata.language_info = this.subkernelInfo;\n        return { ...this.content };\n    }\n    fromJSON(obj) {\n        Object.keys(obj).forEach((key) => {\n            this.content[key] = obj[key];\n        });\n    }\n    loadFromIPynb(obj) {\n        this.content.nbformat = obj.nbformat;\n        this.content.nbformat_minor = obj.nbformat_minor;\n        const cellList = obj.cells.map((cell) => {\n            if (cell.cell_type === \"raw\") {\n                return new BeakerRawCell(cell);\n            }\n            else if (cell.cell_type === \"code\") {\n                return new BeakerCodeCell(cell);\n            }\n            else if (cell.metadata.beaker_cell_type === \"query\") {\n                return new BeakerQueryCell({\n                    cell_type: \"query\",\n                    id: cell.id,\n                    source: cell.metadata.prompt,\n                    events: cell.metadata.events,\n                    metadata: cell.metadata,\n                });\n            }\n            else if (cell.cell_type === \"markdown\") {\n                return new BeakerMarkdownCell(cell);\n            }\n        });\n        let cellMap = {};\n        cellList.forEach((cell) => {\n            cellMap[cell.id] = cell;\n        });\n        let i = 0;\n        while (i < cellList.length) {\n            const cell = cellList[i];\n            if (typeof (cell.metadata.beaker_child_of) !== \"undefined\") {\n                cellMap[cell.metadata.beaker_child_of].children.push(cellList.splice(i, 1)[0]);\n            }\n            else {\n                i++;\n            }\n        }\n        this.cells.splice(0, this.cells.length, ...cellList);\n        this.content.metadata = obj.metadata;\n    }\n    toIPynb() {\n        this.content.metadata.language_info = this.subkernelInfo;\n        return {\n            nbformat: this.content.nbformat,\n            nbformat_minor: this.content.nbformat_minor,\n            cells: this.content.cells.flatMap((cell) => cell.toIPynb()),\n            metadata: this.content.metadata,\n        };\n    }\n    addCell(cell) {\n        this.cells.push(cell);\n    }\n    insertCell(cell, position) {\n        this.cells.splice(position, 0, cell);\n    }\n    removeCell(index) {\n        this.cells.splice(index, 1);\n    }\n    cutCell(index) {\n        const removedValues = this.cells.splice(index, 1);\n        if (removedValues.length > 0) {\n            return removedValues[0];\n        }\n        return null;\n    }\n    moveCell(fromIndex, toIndex) {\n        if (fromIndex !== toIndex) {\n            this.insertCell(this.cutCell(fromIndex), toIndex);\n        }\n    }\n    setSubkernelInfo(sessionInfo) {\n        this.subkernelInfo = {\n            \"name\": sessionInfo.subkernel,\n            \"display_name\": sessionInfo.language,\n        };\n    }\n    ;\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"status-bar\" };\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\"div\", { class: \"logo\" }, [\n    /*#__PURE__*/ _createElementVNode(\"h4\", null, [\n        /*#__PURE__*/ _createTextVNode(\" Beaker \"),\n        /*#__PURE__*/ _createElementVNode(\"span\", { class: \"longer-title\" }, \"Development Interface\")\n    ])\n], -1);\nconst _hoisted_3 = {\n    href: \"https://jataware.github.io/beaker-kernel\",\n    rel: \"noopener\",\n    target: \"_blank\"\n};\nconst _hoisted_4 = {\n    href: \"https://github.com/jataware/beaker-kernel\",\n    rel: \"noopener\",\n    target: \"_blank\"\n};\nimport { computed, inject } from \"vue\";\nimport Toolbar from 'primevue/toolbar';\nimport Button from 'primevue/button';\n// TODO too many granular props- use a slot instead?\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'BeakerHeader',\n    props: [\n        \"kernel\"\n    ],\n    emits: [\"selectKernel\"],\n    setup(__props, { emit: __emit }) {\n        const props = __props;\n        const emit = __emit;\n        const { theme, toggleDarkMode } = inject('theme');\n        const beakerSession = inject(\"beakerSession\");\n        function selectKernel() {\n            emit('selectKernel');\n        }\n        const themeIcon = computed(() => {\n            return `pi pi-${theme.mode === 'dark' ? 'sun' : 'moon'}`;\n        });\n        const statusLabels = {\n            unknown: 'Unknown',\n            starting: 'Starting',\n            idle: 'Ready',\n            busy: 'Busy',\n            terminating: 'Terminating',\n            restarting: 'Restarting',\n            autorestarting: 'Autorestarting',\n            dead: 'Dead',\n            // This extends kernel status for now.\n            connected: 'Connected',\n            connecting: 'Connecting'\n        };\n        const statusColors = {\n            connected: 'green-300',\n            idle: 'green-400',\n            connecting: 'green-200',\n            busy: 'orange-400',\n        };\n        const statusLabel = computed(() => {\n            return statusLabels[beakerSession.status] || \"unknown\";\n        });\n        const connectionColor = computed(() => {\n            // return connectionStatusColorMap[beakerSession.status];\n            return statusColors[beakerSession.status] || \"grey-200\";\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_unref(Toolbar), { class: \"toolbar\" }, {\n                start: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_1, [\n                        _createElementVNode(\"i\", {\n                            class: \"pi pi-circle-fill\",\n                            style: _normalizeStyle(`font-size: inherit; color: var(--${connectionColor.value});`)\n                        }, null, 4),\n                        _createTextVNode(\" \" + _toDisplayString(statusLabel.value), 1)\n                    ]),\n                    _createVNode(_unref(Button), {\n                        outlined: \"\",\n                        size: \"small\",\n                        icon: \"pi pi-angle-down\",\n                        iconPos: \"right\",\n                        class: \"connection-button\",\n                        onClick: selectKernel,\n                        label: _unref(beakerSession).activeContext?.slug,\n                        loading: !(_unref(beakerSession).activeContext?.slug)\n                    }, null, 8, [\"label\", \"loading\"])\n                ]),\n                center: _withCtx(() => [\n                    _hoisted_2\n                ]),\n                end: _withCtx(() => [\n                    _createElementVNode(\"nav\", null, [\n                        _createVNode(_unref(Button), {\n                            text: \"\",\n                            onClick: _unref(toggleDarkMode),\n                            style: { \"margin\": \"0\", \"color\": \"var(--gray-500)\" },\n                            icon: themeIcon.value\n                        }, null, 8, [\"onClick\", \"icon\"]),\n                        _createElementVNode(\"a\", _hoisted_3, [\n                            _createVNode(_unref(Button), {\n                                text: \"\",\n                                style: { \"margin\": \"0\", \"color\": \"var(--gray-500)\" },\n                                \"aria-label\": \"Beaker Documentation\",\n                                icon: \"pi pi-book\"\n                            })\n                        ]),\n                        _createElementVNode(\"a\", _hoisted_4, [\n                            _createVNode(_unref(Button), {\n                                text: \"\",\n                                style: { \"margin\": \"0\", \"color\": \"var(--gray-500)\" },\n                                \"aria-label\": \"Github Repository Link Icon\",\n                                icon: \"pi pi-github\"\n                            })\n                        ])\n                    ])\n                ]),\n                _: 1\n            }));\n        };\n    }\n});\n","import script from \"./BeakerHeader.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BeakerHeader.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BeakerHeader.vue?vue&type=style&index=0&id=85a6f6aa&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"beaker-notebook\" };\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n    return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _renderSlot(_ctx.$slots, \"default\")\n    ]));\n}\n","import { render } from \"./BeakerNotebook.vue?vue&type=template&id=5d073a90&ts=true\"\nimport script from \"./BeakerNotebook.vue?vue&type=script&lang=tsx\"\nexport * from \"./BeakerNotebook.vue?vue&type=script&lang=tsx\"\n\nimport \"./BeakerNotebook.vue?vue&type=style&index=0&id=5d073a90&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"beaker-session-container\" };\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n    return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _renderSlot(_ctx.$slots, \"default\")\n    ]));\n}\n","import { render } from \"./BeakerSession.vue?vue&type=template&id=2bbcafac&ts=true\"\nimport script from \"./BeakerSession.vue?vue&type=script&lang=ts\"\nexport * from \"./BeakerSession.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["BeakerBaseCell","constructor","this","IPYNB_KEYS","status","last_execution","children","reset_execution_state","fromJSON","obj","Object","keys","forEach","key","toJSON","fromIPynb","toIPynb","output","includes","BeakerRawCell","content","super","undefined","id","uuidv4","execute","session","BeakerCodeCell","outputs","execution_count","busy","Array","isArray","source","join","syntheticFuture","future","splice","length","sendBeakerMessage","code","silent","store_history","user_expressions","allow_stdin","stop_on_error","onIOPub","msg","BeakerCellFutures","handleIOPub","onReply","handleReply","rollback","executeAction","checkpoint_index","done","then","reply_msg","push","output_type","BeakerMarkdownCell","BeakerQueryCell","events","async","msg_type","header","execution_state","thought","type","name","text","nb","notebook","codeCell","cell_type","metadata","parent_cell","queryCellIndex","cells","findIndex","cell","addCell","autoexecute","parent_id","cell_id","reactiveCell","execute_request_msg","executeRequest","BeakerCellFuture","kernel","cellId","find","value","console","log","Error","execution_status","error_details","ename","evalue","traceback","data","execution_return","handleStdin","messages","prompt","_current_input_request_message","request","onStdin","respond","response","sendInputReply","toMarkdownCell","renderedMarkdownLines","event","renderedMarkdown","beaker_cell_type","TypeError","taggedChildren","map","beaker_child_of","BeakerNotebook","nbformat","nbformat_minor","subkernelInfo","Proxy","language_info","loadFromIPynb","cellList","cellMap","i","flatMap","insertCell","position","removeCell","index","cutCell","removedValues","moveCell","fromIndex","toIndex","setSubkernelInfo","sessionInfo","subkernel","language","_hoisted_1","class","_hoisted_2","_createElementVNode","_createTextVNode","_hoisted_3","href","rel","target","_hoisted_4","_defineComponent","__name","props","emits","setup","__props","emit","__emit","theme","toggleDarkMode","inject","beakerSession","selectKernel","themeIcon","computed","mode","statusLabels","unknown","starting","idle","terminating","restarting","autorestarting","dead","connected","connecting","statusColors","statusLabel","connectionColor","_ctx","_cache","_openBlock","_createBlock","_unref","Toolbar","start","_withCtx","style","_normalizeStyle","_toDisplayString","_createVNode","Button","outlined","size","icon","iconPos","onClick","label","activeContext","slug","loading","center","end","_","__exports__","render","$props","$setup","$data","$options","_createElementBlock","_renderSlot","$slots","BeakerNotebookComponent","defineComponent","ref","selectedCellId","provide","cellCount","methods","selectCell","newCellId","nextTick","scrollCellIntoView","selectedCell","el","$","vnode","closest","scrollIntoView","scrollMode","block","inline","findNotebookCellById","selectNextCell","referenceCell","enter","cellIndex","indexOf","notebookCell","childIndex","selectPrevCell","insertCellBefore","cellType","newCell","addCodeCell","insertCellAfter","parentId","cellModel","convertCellType","warn","modelClass","beforeMount","mounted","toBeakerCellComponent","component","reactive","proxy","exposed","BeakerSessionComponent","String","cellRegistry","rawSession","BeakerSession","settings","connectionSettings","sessionName","sessionId","kernelName","defaultKernel","rendererOptions","renderers","sessionReady","iopubMessage","connect","newStatus","anyMessage","direction","unhandledMessage","findNotebookCell","predicate","cellVnode","fetchContextInfo","activeContextInfo","$emit","setContext","contextPayload","showToast","result","title","severity","detail","life","formatted","endsWithPeriod","test"],"sourceRoot":""}