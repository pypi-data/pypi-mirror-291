{"version":3,"file":"4ef478a7a33966379ed7.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/rc-field-form/lib/FieldContext.js","webpack://superset/./node_modules/rc-util/lib/hooks/useMemo.js","webpack://superset/./node_modules/rc-util/lib/raf.js","webpack://superset/./node_modules/rc-util/lib/ref.js","webpack://superset/./packages/superset-ui-core/src/time-format/formatters/finestTemporalGrain.ts","webpack://superset/./src/components/Form/FormItem.tsx","webpack://superset/./src/explore/components/controls/FilterControl/types.ts","webpack://superset/./src/filters/components/Select/SelectFilterPlugin.tsx","webpack://superset/./src/filters/components/common.ts","webpack://superset/./src/filters/utils.ts","webpack://superset/./node_modules/use-immer/dist/use-immer.module.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.HOOK_MARK = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar HOOK_MARK = 'RC_FORM_INTERNAL_HOOKS'; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexports.HOOK_MARK = HOOK_MARK;\n\nvar warningFunc = function warningFunc() {\n  (0, _warning.default)(false, 'Can not find FormContext. Please make sure you wrap Field under Form.');\n};\n\nvar Context = /*#__PURE__*/React.createContext({\n  getFieldValue: warningFunc,\n  getFieldsValue: warningFunc,\n  getFieldError: warningFunc,\n  getFieldsError: warningFunc,\n  isFieldsTouched: warningFunc,\n  isFieldTouched: warningFunc,\n  isFieldValidating: warningFunc,\n  isFieldsValidating: warningFunc,\n  resetFields: warningFunc,\n  setFields: warningFunc,\n  setFieldsValue: warningFunc,\n  validateFields: warningFunc,\n  submit: warningFunc,\n  getInternalHooks: function getInternalHooks() {\n    warningFunc();\n    return {\n      dispatch: warningFunc,\n      initEntityValue: warningFunc,\n      registerField: warningFunc,\n      useSubscribe: warningFunc,\n      setInitialValues: warningFunc,\n      setCallbacks: warningFunc,\n      getFields: warningFunc,\n      setValidateMessages: warningFunc,\n      setPreserve: warningFunc\n    };\n  }\n});\nvar _default = Context;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMemo;\nvar React = _interopRequireWildcard(require(\"react\"));\nfunction useMemo(getValue, condition, shouldUpdate) {\n  var cacheRef = React.useRef({});\n  if (!('value' in cacheRef.current) || shouldUpdate(cacheRef.current.condition, condition)) {\n    cacheRef.current.value = getValue();\n    cacheRef.current.condition = condition;\n  }\n  return cacheRef.current.value;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar raf = function raf(callback) {\n  return +setTimeout(callback, 16);\n};\nvar caf = function caf(num) {\n  return clearTimeout(num);\n};\nif (typeof window !== 'undefined' && 'requestAnimationFrame' in window) {\n  raf = function raf(callback) {\n    return window.requestAnimationFrame(callback);\n  };\n  caf = function caf(handle) {\n    return window.cancelAnimationFrame(handle);\n  };\n}\nvar rafUUID = 0;\nvar rafIds = new Map();\nfunction cleanup(id) {\n  rafIds.delete(id);\n}\nvar wrapperRaf = function wrapperRaf(callback) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  rafUUID += 1;\n  var id = rafUUID;\n  function callRef(leftTimes) {\n    if (leftTimes === 0) {\n      // Clean up\n      cleanup(id);\n\n      // Trigger\n      callback();\n    } else {\n      // Next raf\n      var realId = raf(function () {\n        callRef(leftTimes - 1);\n      });\n\n      // Bind real raf id\n      rafIds.set(id, realId);\n    }\n  }\n  callRef(times);\n  return id;\n};\nwrapperRaf.cancel = function (id) {\n  var realId = rafIds.get(id);\n  cleanup(id);\n  return caf(realId);\n};\nif (process.env.NODE_ENV !== 'production') {\n  wrapperRaf.ids = function () {\n    return rafIds;\n  };\n}\nvar _default = exports.default = wrapperRaf;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.composeRef = composeRef;\nexports.fillRef = fillRef;\nexports.supportNodeRef = supportNodeRef;\nexports.supportRef = supportRef;\nexports.useComposeRef = useComposeRef;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _react = require(\"react\");\nvar _reactIs = require(\"react-is\");\nvar _useMemo = _interopRequireDefault(require(\"./hooks/useMemo\"));\n/* eslint-disable no-param-reassign */\n\nfunction fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if ((0, _typeof2.default)(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nfunction composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n  var refList = refs.filter(function (ref) {\n    return ref;\n  });\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}\nfunction useComposeRef() {\n  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    refs[_key2] = arguments[_key2];\n  }\n  return (0, _useMemo.default)(function () {\n    return composeRef.apply(void 0, refs);\n  }, refs, function (prev, next) {\n    return prev.length !== next.length || prev.every(function (ref, i) {\n      return ref !== next[i];\n    });\n  });\n}\nfunction supportRef(nodeOrComponent) {\n  var _type$prototype, _nodeOrComponent$prot;\n  var type = (0, _reactIs.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !((_type$prototype = type.prototype) !== null && _type$prototype !== void 0 && _type$prototype.render)) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !((_nodeOrComponent$prot = nodeOrComponent.prototype) !== null && _nodeOrComponent$prot !== void 0 && _nodeOrComponent$prot.render)) {\n    return false;\n  }\n  return true;\n}\nfunction supportNodeRef(node) {\n  if (! /*#__PURE__*/(0, _react.isValidElement)(node)) {\n    return false;\n  }\n  if ((0, _reactIs.isFragment)(node)) {\n    return false;\n  }\n  return supportRef(node);\n}\n/* eslint-enable */","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { utcFormat, timeFormat } from 'd3-time-format';\nimport { utcUtils, localTimeUtils } from '../utils/d3Time';\nimport TimeFormatter from '../TimeFormatter';\n\n/*\n * A formatter that examines all the values, and uses the finest temporal grain.\n */\nexport default function finestTemporalGrain(\n  values: any[],\n  useLocalTime = false,\n) {\n  const format = useLocalTime ? timeFormat : utcFormat;\n\n  const formatMillisecond = format('%Y-%m-%d %H:%M:%S.%L');\n  const formatSecond = format('%Y-%m-%d %H:%M:%S');\n  const formatMinute = format('%Y-%m-%d %H:%M');\n  const formatHour = format('%Y-%m-%d %H:%M');\n  const formatDay = format('%Y-%m-%d');\n  const formatMonth = format('%Y-%m-%d');\n  const formatYear = format('%Y');\n\n  const {\n    hasMillisecond,\n    hasSecond,\n    hasMinute,\n    hasHour,\n    isNotFirstDayOfMonth,\n    isNotFirstMonth,\n  } = useLocalTime ? localTimeUtils : utcUtils;\n\n  let formatFunc = formatYear;\n  values.forEach((value: any) => {\n    if (formatFunc === formatYear && isNotFirstMonth(value)) {\n      formatFunc = formatMonth;\n    }\n    if (formatFunc === formatMonth && isNotFirstDayOfMonth(value)) {\n      formatFunc = formatDay;\n    }\n    if (formatFunc === formatDay && hasHour(value)) {\n      formatFunc = formatHour;\n    }\n    if (formatFunc === formatHour && hasMinute(value)) {\n      formatFunc = formatMinute;\n    }\n    if (formatFunc === formatMinute && hasSecond(value)) {\n      formatFunc = formatSecond;\n    }\n    if (formatFunc === formatSecond && hasMillisecond(value)) {\n      formatFunc = formatMillisecond;\n    }\n  });\n\n  return new TimeFormatter({\n    description:\n      'Use the finest grain in an array of dates to format all dates in the array',\n    formatFunc,\n    id: 'finest_temporal_grain',\n    label: 'Format temporal columns with the finest grain',\n    useLocalTime,\n  });\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Form from 'antd/lib/form';\nimport { styled } from '@superset-ui/core';\n\nconst StyledItem = styled(Form.Item)`\n  ${({ theme }) => `\n    .ant-form-item-label {\n      padding-bottom: ${theme.gridUnit}px;\n      & > label {\n        text-transform: uppercase;\n        font-size: ${theme.typography.sizes.s}px;\n        color: ${theme.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${theme.colors.error.base};\n            font-size: ${theme.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}\n`;\n\nexport default StyledItem;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nexport enum ExpressionTypes {\n  Simple = 'SIMPLE',\n  Sql = 'SQL',\n}\n\nexport enum Clauses {\n  Having = 'HAVING',\n  Where = 'WHERE',\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable no-param-reassign */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  AppSection,\n  DataMask,\n  ensureIsArray,\n  ExtraFormData,\n  GenericDataType,\n  getColumnLabel,\n  JsonObject,\n  finestTemporalGrainFormatter,\n  t,\n  tn,\n} from '@superset-ui/core';\nimport { LabeledValue as AntdLabeledValue } from 'antd/lib/select';\nimport { debounce } from 'lodash';\nimport { useImmerReducer } from 'use-immer';\nimport { Select } from 'src/components';\nimport { SLOW_DEBOUNCE } from 'src/constants';\nimport { hasOption, propertyComparator } from 'src/components/Select/utils';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { PluginFilterSelectProps, SelectValue } from './types';\nimport { FilterPluginStyle, StatusMessage, StyledFormItem } from '../common';\nimport { getDataRecordFormatter, getSelectExtraFormData } from '../../utils';\n\ntype DataMaskAction =\n  | { type: 'ownState'; ownState: JsonObject }\n  | {\n      type: 'filterState';\n      extraFormData: ExtraFormData;\n      filterState: { value: SelectValue; label?: string };\n    };\n\nfunction reducer(draft: DataMask, action: DataMaskAction) {\n  switch (action.type) {\n    case 'ownState':\n      draft.ownState = {\n        ...draft.ownState,\n        ...action.ownState,\n      };\n      return draft;\n    case 'filterState':\n      if (\n        JSON.stringify(draft.extraFormData) !==\n        JSON.stringify(action.extraFormData)\n      ) {\n        draft.extraFormData = action.extraFormData;\n      }\n      if (\n        JSON.stringify(draft.filterState) !== JSON.stringify(action.filterState)\n      ) {\n        draft.filterState = { ...draft.filterState, ...action.filterState };\n      }\n\n      return draft;\n    default:\n      return draft;\n  }\n}\n\nexport default function PluginFilterSelect(props: PluginFilterSelectProps) {\n  const {\n    coltypeMap,\n    data,\n    filterState,\n    formData,\n    height,\n    isRefreshing,\n    width,\n    setDataMask,\n    setHoveredFilter,\n    unsetHoveredFilter,\n    setFocusedFilter,\n    unsetFocusedFilter,\n    setFilterActive,\n    appSection,\n    showOverflow,\n    parentRef,\n    inputRef,\n    filterBarOrientation,\n  } = props;\n  const {\n    enableEmptyFilter,\n    multiSelect,\n    showSearch,\n    inverseSelection,\n    defaultToFirstItem,\n    searchAllOptions,\n  } = formData;\n  const groupby = useMemo(\n    () => ensureIsArray(formData.groupby).map(getColumnLabel),\n    [formData.groupby],\n  );\n  const [col] = groupby;\n  const [initialColtypeMap] = useState(coltypeMap);\n  const [search, setSearch] = useState('');\n  const [dataMask, dispatchDataMask] = useImmerReducer(reducer, {\n    extraFormData: {},\n    filterState,\n  });\n  const datatype: GenericDataType = coltypeMap[col];\n  const labelFormatter = useMemo(\n    () =>\n      getDataRecordFormatter({\n        timeFormatter: finestTemporalGrainFormatter(data.map(el => el[col])),\n      }),\n    [data, col],\n  );\n\n  const updateDataMask = useCallback(\n    (values: SelectValue) => {\n      const emptyFilter =\n        enableEmptyFilter && !inverseSelection && !values?.length;\n\n      const suffix = inverseSelection && values?.length ? t(' (excluded)') : '';\n      dispatchDataMask({\n        type: 'filterState',\n        extraFormData: getSelectExtraFormData(\n          col,\n          values,\n          emptyFilter,\n          inverseSelection,\n        ),\n        filterState: {\n          ...filterState,\n          label: values?.length\n            ? `${(values || [])\n                .map(value => labelFormatter(value, datatype))\n                .join(', ')}${suffix}`\n            : undefined,\n          value:\n            appSection === AppSection.FilterConfigModal && defaultToFirstItem\n              ? undefined\n              : values,\n        },\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      appSection,\n      col,\n      datatype,\n      defaultToFirstItem,\n      dispatchDataMask,\n      enableEmptyFilter,\n      inverseSelection,\n      JSON.stringify(filterState),\n      labelFormatter,\n    ],\n  );\n\n  const isDisabled =\n    appSection === AppSection.FilterConfigModal && defaultToFirstItem;\n\n  const onSearch = useMemo(\n    () =>\n      debounce((search: string) => {\n        setSearch(search);\n        if (searchAllOptions) {\n          dispatchDataMask({\n            type: 'ownState',\n            ownState: {\n              coltypeMap: initialColtypeMap,\n              search,\n            },\n          });\n        }\n      }, SLOW_DEBOUNCE),\n    [dispatchDataMask, initialColtypeMap, searchAllOptions],\n  );\n\n  const handleBlur = useCallback(() => {\n    unsetFocusedFilter();\n    onSearch('');\n  }, [onSearch, unsetFocusedFilter]);\n\n  const handleChange = useCallback(\n    (value?: SelectValue | number | string) => {\n      const values = value === null ? [null] : ensureIsArray(value);\n\n      if (values.length === 0) {\n        updateDataMask(null);\n      } else {\n        updateDataMask(values);\n      }\n    },\n    [updateDataMask],\n  );\n\n  const placeholderText =\n    data.length === 0\n      ? t('No data')\n      : tn('%s option', '%s options', data.length, data.length);\n\n  const formItemExtra = useMemo(() => {\n    if (filterState.validateMessage) {\n      return (\n        <StatusMessage status={filterState.validateStatus}>\n          {filterState.validateMessage}\n        </StatusMessage>\n      );\n    }\n    return undefined;\n  }, [filterState.validateMessage, filterState.validateStatus]);\n\n  const uniqueOptions = useMemo(() => {\n    const allOptions = new Set([...data.map(el => el[col])]);\n    return [...allOptions].map((value: string) => ({\n      label: labelFormatter(value, datatype),\n      value,\n      isNewOption: false,\n    }));\n  }, [data, datatype, col, labelFormatter]);\n\n  const options = useMemo(() => {\n    if (search && !multiSelect && !hasOption(search, uniqueOptions, true)) {\n      uniqueOptions.unshift({\n        label: search,\n        value: search,\n        isNewOption: true,\n      });\n    }\n    return uniqueOptions;\n  }, [multiSelect, search, uniqueOptions]);\n\n  const sortComparator = useCallback(\n    (a: AntdLabeledValue, b: AntdLabeledValue) => {\n      const labelComparator = propertyComparator('label');\n      if (formData.sortAscending) {\n        return labelComparator(a, b);\n      }\n      return labelComparator(b, a);\n    },\n    [formData.sortAscending],\n  );\n\n  useEffect(() => {\n    if (defaultToFirstItem && filterState.value === undefined) {\n      // initialize to first value if set to default to first item\n      const firstItem: SelectValue = data[0]\n        ? (groupby.map(col => data[0][col]) as string[])\n        : null;\n      // firstItem[0] !== undefined for a case when groupby changed but new data still not fetched\n      // TODO: still need repopulate default value in config modal when column changed\n      if (firstItem?.[0] !== undefined) {\n        updateDataMask(firstItem);\n      }\n    } else if (isDisabled) {\n      // empty selection if filter is disabled\n      updateDataMask(null);\n    } else {\n      // reset data mask based on filter state\n      updateDataMask(filterState.value);\n    }\n  }, [\n    col,\n    isDisabled,\n    defaultToFirstItem,\n    enableEmptyFilter,\n    inverseSelection,\n    updateDataMask,\n    data,\n    groupby,\n    JSON.stringify(filterState.value),\n  ]);\n\n  useEffect(() => {\n    setDataMask(dataMask);\n  }, [JSON.stringify(dataMask)]);\n\n  return (\n    <FilterPluginStyle height={height} width={width}>\n      <StyledFormItem\n        validateStatus={filterState.validateStatus}\n        extra={formItemExtra}\n      >\n        <Select\n          allowClear\n          allowNewOptions={!searchAllOptions}\n          allowSelectAll={!searchAllOptions}\n          // @ts-ignore\n          value={filterState.value || []}\n          disabled={isDisabled}\n          getPopupContainer={\n            showOverflow\n              ? () => (parentRef?.current as HTMLElement) || document.body\n              : (trigger: HTMLElement) =>\n                  (trigger?.parentNode as HTMLElement) || document.body\n          }\n          showSearch={showSearch}\n          mode={multiSelect ? 'multiple' : 'single'}\n          placeholder={placeholderText}\n          onClear={() => onSearch('')}\n          onSearch={onSearch}\n          onBlur={handleBlur}\n          onFocus={setFocusedFilter}\n          onMouseEnter={setHoveredFilter}\n          onMouseLeave={unsetHoveredFilter}\n          // @ts-ignore\n          onChange={handleChange}\n          ref={inputRef}\n          loading={isRefreshing}\n          oneLine={filterBarOrientation === FilterBarOrientation.Horizontal}\n          invertSelection={inverseSelection}\n          options={options}\n          sortComparator={sortComparator}\n          onDropdownVisibleChange={setFilterActive}\n        />\n      </StyledFormItem>\n    </FilterPluginStyle>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled } from '@superset-ui/core';\nimport { PluginFilterStylesProps } from './types';\nimport FormItem from '../../components/Form/FormItem';\n\nexport const RESPONSIVE_WIDTH = 0;\n\nexport const FilterPluginStyle = styled.div<PluginFilterStylesProps>`\n  min-height: ${({ height }) => height}px;\n  width: ${({ width }) => (width === RESPONSIVE_WIDTH ? '100%' : `${width}px`)};\n`;\n\nexport const StyledFormItem = styled(FormItem)`\n  &.ant-row.ant-form-item {\n    margin: 0;\n  }\n`;\n\nexport const StatusMessage = styled.div<{\n  status?: 'error' | 'warning' | 'info';\n}>`\n  color: ${({ theme, status = 'error' }) => theme.colors[status]?.base};\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  DataRecordValue,\n  GenericDataType,\n  NumberFormatter,\n  QueryObjectFilterClause,\n  TimeFormatter,\n  ExtraFormData,\n} from '@superset-ui/core';\nimport { FALSE_STRING, NULL_STRING, TRUE_STRING } from 'src/utils/common';\nimport {\n  Clauses,\n  ExpressionTypes,\n} from '../explore/components/controls/FilterControl/types';\n\nexport const getSelectExtraFormData = (\n  col: string,\n  value?: null | (string | number | boolean | null)[],\n  emptyFilter = false,\n  inverseSelection = false,\n): ExtraFormData => {\n  const extra: ExtraFormData = {};\n  if (emptyFilter) {\n    extra.adhoc_filters = [\n      {\n        expressionType: ExpressionTypes.Sql,\n        clause: Clauses.Where,\n        sqlExpression: '1 = 0',\n      },\n    ];\n  } else if (value !== undefined && value !== null && value.length !== 0) {\n    extra.filters = [\n      {\n        col,\n        op: inverseSelection ? ('NOT IN' as const) : ('IN' as const),\n        // @ts-ignore\n        val: value,\n      },\n    ];\n  }\n  return extra;\n};\n\nexport const getRangeExtraFormData = (\n  col: string,\n  lower?: number | null,\n  upper?: number | null,\n) => {\n  const filters: QueryObjectFilterClause[] = [];\n  if (lower !== undefined && lower !== null && lower !== upper) {\n    filters.push({ col, op: '>=', val: lower });\n  }\n  if (upper !== undefined && upper !== null && upper !== lower) {\n    filters.push({ col, op: '<=', val: upper });\n  }\n  if (\n    upper !== undefined &&\n    upper !== null &&\n    lower !== undefined &&\n    lower !== null &&\n    upper === lower\n  ) {\n    filters.push({ col, op: '==', val: upper });\n  }\n\n  return filters.length\n    ? {\n        filters,\n      }\n    : {};\n};\n\nexport interface DataRecordValueFormatter {\n  (value: DataRecordValue, dtype: GenericDataType): string;\n}\n\nexport function getDataRecordFormatter({\n  timeFormatter,\n  numberFormatter,\n}: {\n  timeFormatter?: TimeFormatter;\n  numberFormatter?: NumberFormatter;\n} = {}): DataRecordValueFormatter {\n  return (value, dtype) => {\n    if (value === null || value === undefined) {\n      return NULL_STRING;\n    }\n    if (typeof value === 'boolean') {\n      return value ? TRUE_STRING : FALSE_STRING;\n    }\n    if (dtype === GenericDataType.Boolean) {\n      try {\n        return JSON.parse(String(value).toLowerCase())\n          ? TRUE_STRING\n          : FALSE_STRING;\n      } catch {\n        return FALSE_STRING;\n      }\n    }\n    if (typeof value === 'string') {\n      return value;\n    }\n    if (timeFormatter && dtype === GenericDataType.Temporal) {\n      return timeFormatter(value);\n    }\n    if (\n      numberFormatter &&\n      typeof value === 'number' &&\n      dtype === GenericDataType.Numeric\n    ) {\n      return numberFormatter(value);\n    }\n    return String(value);\n  };\n}\n","import{freeze as n,produce as r}from\"immer\";import{useState as t,useCallback as o,useMemo as f,useReducer as u}from\"react\";function i(f){var u=t(function(){return n(\"function\"==typeof f?f():f,!0)}),i=u[1];return[u[0],o(function(t){i(\"function\"==typeof t?r(t):n(t))},[])]}function e(n,t,o){var i=f(function(){return r(n)},[n]);return u(i,t,o)}export{i as useImmer,e as useImmerReducer};\n//# sourceMappingURL=use-immer.module.js.map\n"],"names":["_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","HOOK_MARK","React","_warning","warningFunc","default","_default","createContext","getFieldValue","getFieldsValue","getFieldError","getFieldsError","isFieldsTouched","isFieldTouched","isFieldValidating","isFieldsValidating","resetFields","setFields","setFieldsValue","validateFields","submit","getInternalHooks","dispatch","initEntityValue","registerField","useSubscribe","setInitialValues","setCallbacks","getFields","setValidateMessages","setPreserve","getValue","condition","shouldUpdate","cacheRef","useRef","current","raf","callback","setTimeout","caf","num","clearTimeout","window","requestAnimationFrame","handle","cancelAnimationFrame","rafUUID","rafIds","Map","cleanup","id","delete","wrapperRaf","callRef","leftTimes","realId","set","arguments","length","undefined","cancel","get","composeRef","fillRef","supportNodeRef","node","_react","isValidElement","_reactIs","isFragment","supportRef","useComposeRef","_len2","refs","Array","_key2","_useMemo","apply","prev","next","every","ref","i","_typeof2","_len","_key","refList","filter","forEach","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","type","isMemo","prototype","render","finestTemporalGrain","values","useLocalTime","format","timeFormat","utcFormat","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatMonth","formatYear","hasMillisecond","hasSecond","hasMinute","hasHour","isNotFirstDayOfMonth","isNotFirstMonth","localTimeUtils","utcUtils","formatFunc","TimeFormatter","description","label","styled","Form","Item","theme","gridUnit","typography","sizes","s","colors","grayscale","base","error","ExpressionTypes","Clauses","reducer","draft","action","ownState","JSON","stringify","extraFormData","filterState","PluginFilterSelect","props","coltypeMap","data","formData","height","isRefreshing","width","setDataMask","setHoveredFilter","unsetHoveredFilter","setFocusedFilter","unsetFocusedFilter","setFilterActive","appSection","showOverflow","parentRef","inputRef","filterBarOrientation","enableEmptyFilter","multiSelect","showSearch","inverseSelection","defaultToFirstItem","searchAllOptions","groupby","useMemo","ensureIsArray","map","getColumnLabel","col","initialColtypeMap","useState","search","setSearch","dataMask","dispatchDataMask","useImmerReducer","datatype","labelFormatter","getDataRecordFormatter","timeFormatter","finestTemporalGrainFormatter","el","updateDataMask","useCallback","emptyFilter","suffix","t","getSelectExtraFormData","join","AppSection","FilterConfigModal","isDisabled","onSearch","_debounce","SLOW_DEBOUNCE","handleBlur","handleChange","placeholderText","tn","formItemExtra","validateMessage","___EmotionJSX","StatusMessage","status","validateStatus","uniqueOptions","Set","isNewOption","options","hasOption","unshift","sortComparator","a","b","labelComparator","propertyComparator","sortAscending","useEffect","firstItem","FilterPluginStyle","StyledFormItem","extra","Select","allowClear","allowNewOptions","allowSelectAll","disabled","getPopupContainer","document","body","trigger","parentNode","mode","placeholder","onClear","onBlur","onFocus","onMouseEnter","onMouseLeave","onChange","loading","oneLine","FilterBarOrientation","Horizontal","invertSelection","onDropdownVisibleChange","RESPONSIVE_WIDTH","div","FormItem","_theme$colors$status","adhoc_filters","expressionType","Sql","clause","Where","sqlExpression","filters","op","val","getRangeExtraFormData","lower","upper","push","numberFormatter","dtype","NULL_STRING","TRUE_STRING","FALSE_STRING","GenericDataType","Boolean","parse","String","toLowerCase","Temporal","Numeric","f","u","e","n","o"],"sourceRoot":""}