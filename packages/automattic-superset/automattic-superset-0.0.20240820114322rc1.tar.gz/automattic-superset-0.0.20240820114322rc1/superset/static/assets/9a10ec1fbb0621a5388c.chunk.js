"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[2623],{45906:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var o=s(61988),n=s(31069),r=s(40174),l=s(67294),a=s(28216),i=s(16550),u=s(38703),d=s(72570),c=s(11965);function g(){const{clientId:e}=(0,i.UO)(),t=(0,a.I0)(),[{isLoading:s,data:g,error:h},p]=(0,l.useState)({isLoading:!0,data:null,error:null});return(0,l.useEffect)((()=>{t&&e&&(t((0,d.bM)((0,o.t)("Exporting results to Google Sheets"),{duration:0})),n.Z.get({endpoint:`/api/v1/sqllab/export/${e}/google-sheets/`}).then((e=>p({data:e.json,isLoading:!1,error:null}))).catch((e=>(0,r.getClientErrorObject)(e).then((({error:e,message:s})=>{const o=e?e.error||e.statusText||e:s;t((0,d.Gb)(o))})))))}),[t,e]),(0,l.useEffect)((()=>{t&&h&&(async e=>{const s=(null==(e=await(null==h?void 0:h.json()))?void 0:e.message)||await(null==h?void 0:h.text())||(null==h?void 0:h.message)||(0,o.t)("Unknown error.");t((0,d.Gb)(s,{duration:0}))})()}),[t,h]),(0,l.useEffect)((()=>{null!=g&&g.sheet_id&&(window.location.href=`https://docs.google.com/spreadsheets/d/${g.sheet_id}/`)}),[g]),s?(0,c.tZ)(u.Z,null):null}}}]);
//# sourceMappingURL=9a10ec1fbb0621a5388c.chunk.js.map