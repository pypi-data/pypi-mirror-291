{"version":3,"file":"a2c8fe9ff56dd8ed6aa5.chunk.js","mappings":"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","sources":["webpack://superset/./packages/superset-ui-core/src/utils/html.tsx","webpack://superset/./src/components/Table/utils/utils.ts","webpack://superset/./src/components/Table/utils/InteractiveTableUtils.ts","webpack://superset/./src/components/Table/VirtualTable.tsx","webpack://superset/./src/components/Table/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { FilterXSS, getDefaultWhiteList } from 'xss';\n\nconst xssFilter = new FilterXSS({\n  whiteList: {\n    ...getDefaultWhiteList(),\n    span: ['style', 'class', 'title'],\n    div: ['style', 'class'],\n    a: ['style', 'class', 'href', 'title', 'target'],\n    img: ['style', 'class', 'src', 'alt', 'title', 'width', 'height'],\n    video: [\n      'autoplay',\n      'controls',\n      'loop',\n      'preload',\n      'src',\n      'height',\n      'width',\n      'muted',\n    ],\n  },\n  stripIgnoreTag: true,\n  css: false,\n});\n\nexport function sanitizeHtml(htmlString: string) {\n  return xssFilter.process(htmlString);\n}\n\nexport function isProbablyHTML(text: string) {\n  return Array.from(\n    new DOMParser().parseFromString(text, 'text/html').body.childNodes,\n  ).some(({ nodeType }) => nodeType === 1);\n}\n\nexport function sanitizeHtmlIfNeeded(htmlString: string) {\n  return isProbablyHTML(htmlString) ? sanitizeHtml(htmlString) : htmlString;\n}\n\nexport function safeHtmlSpan(possiblyHtmlString: string) {\n  const isHtml = isProbablyHTML(possiblyHtmlString);\n  if (isHtml) {\n    return (\n      <span\n        className=\"safe-html-wrapper\"\n        dangerouslySetInnerHTML={{ __html: sanitizeHtml(possiblyHtmlString) }}\n      />\n    );\n  }\n  return possiblyHtmlString;\n}\n\nexport function removeHTMLTags(str: string): string {\n  return str.replace(/<[^>]*>/g, '');\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Method to check if a number is within inclusive range between a maximum value minus a threshold\n * Invalid non numeric inputs will not error, but will return false\n *\n * @param value number coordinate to determine if it is within bounds of the targetCoordinate - threshold.  Must be positive and less than maximum.\n * @param maximum number max value for the test range.  Must be positive and greater than value\n * @param threshold number values to determine a range from maximum - threshold.  Must be positive and greater than zero.\n * @returns boolean\n */\nexport const withinRange = (\n  value: number,\n  maximum: number,\n  threshold: number,\n): boolean => {\n  let within = false;\n  const diff = maximum - value;\n  if (diff > 0 && diff <= threshold) {\n    within = true;\n  }\n  return within;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport type { ColumnsType } from 'antd/es/table';\nimport { SUPERSET_TABLE_COLUMN } from 'src/components/Table';\nimport { withinRange } from './utils';\n\ninterface IInteractiveColumn extends HTMLElement {\n  mouseDown: boolean;\n  oldX: number;\n  oldWidth: number;\n  draggable: boolean;\n}\nexport default class InteractiveTableUtils {\n  tableRef: HTMLTableElement | null;\n\n  columnRef: IInteractiveColumn | null;\n\n  setDerivedColumns: Function;\n\n  isDragging: boolean;\n\n  resizable: boolean;\n\n  reorderable: boolean;\n\n  derivedColumns: ColumnsType<any>;\n\n  RESIZE_INDICATOR_THRESHOLD: number;\n\n  constructor(\n    tableRef: HTMLTableElement,\n    derivedColumns: ColumnsType<any>,\n    setDerivedColumns: Function,\n  ) {\n    this.setDerivedColumns = setDerivedColumns;\n    this.tableRef = tableRef;\n    this.isDragging = false;\n    this.RESIZE_INDICATOR_THRESHOLD = 8;\n    this.resizable = false;\n    this.reorderable = false;\n    this.derivedColumns = [...derivedColumns];\n    document.addEventListener('mouseup', this.handleMouseup);\n  }\n\n  clearListeners = () => {\n    document.removeEventListener('mouseup', this.handleMouseup);\n    this.initializeResizableColumns(false, this.tableRef);\n    this.initializeDragDropColumns(false, this.tableRef);\n  };\n\n  setTableRef = (table: HTMLTableElement) => {\n    this.tableRef = table;\n  };\n\n  getColumnIndex = (): number => {\n    let index = -1;\n    const parent = this.columnRef?.parentNode;\n    if (parent) {\n      index = Array.prototype.indexOf.call(parent.children, this.columnRef);\n    }\n    return index;\n  };\n\n  handleColumnDragStart = (ev: DragEvent): void => {\n    const target = ev?.currentTarget as IInteractiveColumn;\n    if (target) {\n      this.columnRef = target;\n    }\n    this.isDragging = true;\n    const index = this.getColumnIndex();\n    const columnData = this.derivedColumns[index];\n    const dragData = { index, columnData };\n    ev?.dataTransfer?.setData(SUPERSET_TABLE_COLUMN, JSON.stringify(dragData));\n  };\n\n  handleDragDrop = (ev: DragEvent): void => {\n    const data = ev.dataTransfer?.getData?.(SUPERSET_TABLE_COLUMN);\n    if (data) {\n      ev.preventDefault();\n      const parent = (ev.currentTarget as HTMLElement)\n        ?.parentNode as HTMLElement;\n      const dropIndex = Array.prototype.indexOf.call(\n        parent.children,\n        ev.currentTarget,\n      );\n      const dragIndex = this.getColumnIndex();\n      const columnsCopy = [...this.derivedColumns];\n      const removedItem = columnsCopy.slice(dragIndex, dragIndex + 1);\n      columnsCopy.splice(dragIndex, 1);\n      columnsCopy.splice(dropIndex, 0, removedItem[0]);\n      this.derivedColumns = [...columnsCopy];\n      this.setDerivedColumns(columnsCopy);\n    }\n  };\n\n  allowDrop = (ev: DragEvent): void => {\n    ev.preventDefault();\n  };\n\n  handleMouseDown = (event: MouseEvent) => {\n    const target = event?.currentTarget as IInteractiveColumn;\n    if (target) {\n      this.columnRef = target;\n      if (\n        event &&\n        withinRange(\n          event.offsetX,\n          target.offsetWidth,\n          this.RESIZE_INDICATOR_THRESHOLD,\n        )\n      ) {\n        target.mouseDown = true;\n        target.oldX = event.x;\n        target.oldWidth = target.offsetWidth;\n        target.draggable = false;\n      } else if (this.reorderable) {\n        target.draggable = true;\n      }\n    }\n  };\n\n  handleMouseMove = (event: MouseEvent) => {\n    if (this.resizable === true && !this.isDragging) {\n      const target = event.currentTarget as IInteractiveColumn;\n      if (\n        event &&\n        withinRange(\n          event.offsetX,\n          target.offsetWidth,\n          this.RESIZE_INDICATOR_THRESHOLD,\n        )\n      ) {\n        target.style.cursor = 'col-resize';\n      } else {\n        target.style.cursor = 'default';\n      }\n\n      const column = this.columnRef;\n      if (column?.mouseDown) {\n        let width = column.oldWidth;\n        const diff = event.x - column.oldX;\n        if (column.oldWidth + (event.x - column.oldX) > 0) {\n          width = column.oldWidth + diff;\n        }\n        const colIndex = this.getColumnIndex();\n        if (!Number.isNaN(colIndex)) {\n          const columnDef = { ...this.derivedColumns[colIndex] };\n          columnDef.width = width;\n          this.derivedColumns[colIndex] = columnDef;\n          this.setDerivedColumns([...this.derivedColumns]);\n        }\n      }\n    }\n  };\n\n  handleMouseup = () => {\n    if (this.columnRef) {\n      this.columnRef.mouseDown = false;\n      this.columnRef.style.cursor = 'default';\n      this.columnRef.draggable = false;\n    }\n    this.isDragging = false;\n  };\n\n  initializeResizableColumns = (\n    resizable = false,\n    table: HTMLTableElement | null,\n  ) => {\n    this.tableRef = table;\n    const header: HTMLTableRowElement | undefined = this.tableRef?.rows?.[0];\n    if (header) {\n      const { cells } = header;\n      const len = cells.length;\n      for (let i = 0; i < len; i += 1) {\n        const cell = cells[i];\n        if (resizable === true) {\n          this.resizable = true;\n          cell.addEventListener('mousedown', this.handleMouseDown);\n          cell.addEventListener('mousemove', this.handleMouseMove, true);\n        } else {\n          this.resizable = false;\n          cell.removeEventListener('mousedown', this.handleMouseDown);\n          cell.removeEventListener('mousemove', this.handleMouseMove, true);\n        }\n      }\n    }\n  };\n\n  initializeDragDropColumns = (\n    reorderable = false,\n    table: HTMLTableElement | null,\n  ) => {\n    this.tableRef = table;\n    const header: HTMLTableRowElement | undefined = this.tableRef?.rows?.[0];\n    if (header) {\n      const { cells } = header;\n      const len = cells.length;\n      for (let i = 0; i < len; i += 1) {\n        const cell = cells[i];\n        if (reorderable === true) {\n          this.reorderable = true;\n          cell.addEventListener('mousedown', this.handleMouseDown);\n          cell.addEventListener('dragover', this.allowDrop);\n          cell.addEventListener('dragstart', this.handleColumnDragStart);\n          cell.addEventListener('drop', this.handleDragDrop);\n        } else {\n          this.reorderable = false;\n          cell.draggable = false;\n          cell.removeEventListener('mousedown', this.handleMouseDown);\n          cell.removeEventListener('dragover', this.allowDrop);\n          cell.removeEventListener('dragstart', this.handleColumnDragStart);\n          cell.removeEventListener('drop', this.handleDragDrop);\n        }\n      }\n    }\n  };\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport AntTable, {\n  TablePaginationConfig,\n  TableProps as AntTableProps,\n} from 'antd/lib/table';\nimport classNames from 'classnames';\nimport { useResizeDetector } from 'react-resize-detector';\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { VariableSizeGrid as Grid } from 'react-window';\nimport { useTheme, styled, safeHtmlSpan } from '@superset-ui/core';\n\nimport { TableSize, ETableAction } from './index';\n\ninterface VirtualTableProps<RecordType> extends AntTableProps<RecordType> {\n  height?: number;\n  allowHTML?: boolean;\n}\n\nconst StyledCell = styled('div')<{ height?: number }>(\n  ({ theme, height }) => `\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-left: ${theme.gridUnit * 2}px;\n  padding-right: ${theme.gridUnit}px;\n  border-bottom: 1px solid ${theme.colors.grayscale.light3};\n  transition: background 0.3s;\n  line-height: ${height}px;\n  box-sizing: border-box;\n`,\n);\n\nconst StyledTable = styled(AntTable)<{ height?: number }>(\n  ({ theme }) => `\n    th.ant-table-cell {\n      font-weight: ${theme.typography.weights.bold};\n      color: ${theme.colors.grayscale.dark1};\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .ant-pagination-item-active {\n      border-color: ${theme.colors.primary.base};\n      }\n    }\n    .ant-table.ant-table-small {\n      font-size: ${theme.typography.sizes.s}px;\n    }\n`,\n);\n\nconst SMALL = 39;\nconst MIDDLE = 47;\n\nconst VirtualTable = <RecordType extends object>(\n  props: VirtualTableProps<RecordType>,\n) => {\n  const {\n    columns,\n    pagination,\n    onChange,\n    height,\n    scroll,\n    size,\n    allowHTML = false,\n  } = props;\n  const [tableWidth, setTableWidth] = useState<number>(0);\n  const onResize = useCallback((width: number) => {\n    setTableWidth(width);\n  }, []);\n  const { ref } = useResizeDetector({ onResize });\n  const theme = useTheme();\n\n  // If a column definition has no width, react-window will use this as the default column width\n  const DEFAULT_COL_WIDTH = theme?.gridUnit * 37 || 150;\n  const widthColumnCount = columns!.filter(({ width }) => !width).length;\n  let staticColWidthTotal = 0;\n  columns?.forEach(column => {\n    if (column.width) {\n      staticColWidthTotal += column.width as number;\n    }\n  });\n\n  let totalWidth = 0;\n  const defaultWidth = Math.max(\n    Math.floor((tableWidth - staticColWidthTotal) / widthColumnCount),\n    50,\n  );\n\n  const mergedColumns =\n    columns?.map?.(column => {\n      const modifiedColumn = { ...column };\n      if (!column.width) {\n        modifiedColumn.width = defaultWidth;\n      }\n      totalWidth += modifiedColumn.width as number;\n      return modifiedColumn;\n    }) ?? [];\n\n  /*\n   * There are cases where a user could set the width of each column and the total width is less than width of\n   * the table.  In this case we will stretch the last column to use the extra space\n   */\n  if (totalWidth < tableWidth) {\n    const lastColumn = mergedColumns[mergedColumns.length - 1];\n    lastColumn.width =\n      (lastColumn.width as number) + Math.floor(tableWidth - totalWidth);\n  }\n\n  const gridRef = useRef<any>();\n  const [connectObject] = useState<any>(() => {\n    const obj = {};\n    Object.defineProperty(obj, 'scrollLeft', {\n      get: () => {\n        if (gridRef.current) {\n          return gridRef.current?.state?.scrollLeft;\n        }\n        return null;\n      },\n      set: (scrollLeft: number) => {\n        if (gridRef.current) {\n          gridRef.current.scrollTo({ scrollLeft });\n        }\n      },\n    });\n\n    return obj;\n  });\n\n  const resetVirtualGrid = () => {\n    gridRef.current?.resetAfterIndices({\n      columnIndex: 0,\n      shouldForceUpdate: true,\n    });\n  };\n\n  useEffect(() => resetVirtualGrid, [tableWidth, columns, size]);\n\n  /*\n   * antd Table has a runtime error when it tries to fire the onChange event triggered from a pageChange\n   * when the table body is overridden with the virtualized table.  This function capture the page change event\n   * from within the pagination controls and proxies the onChange event payload\n   */\n  const onPageChange = (page: number, size: number) => {\n    /**\n     * This resets vertical scroll position to 0 (top) when page changes\n     * We intentionally leave horizontal scroll where it was so user can focus on\n     * specific range of columns as they page through data\n     */\n    gridRef.current?.scrollTo?.({ scrollTop: 0 });\n\n    onChange?.(\n      {\n        ...pagination,\n        current: page,\n        pageSize: size,\n      } as TablePaginationConfig,\n      {},\n      {},\n      {\n        action: ETableAction.Paginate,\n        currentDataSource: [],\n      },\n    );\n  };\n\n  const renderVirtualList = (rawData: object[], { ref, onScroll }: any) => {\n    // eslint-disable-next-line no-param-reassign\n    ref.current = connectObject;\n    const cellSize = size === TableSize.Middle ? MIDDLE : SMALL;\n    return (\n      <Grid\n        ref={gridRef}\n        className=\"virtual-grid\"\n        columnCount={mergedColumns.length}\n        columnWidth={(index: number) => {\n          const { width = DEFAULT_COL_WIDTH } = mergedColumns[index];\n          return width as number;\n        }}\n        height={height || (scroll!.y as number)}\n        rowCount={rawData.length}\n        rowHeight={() => cellSize}\n        width={tableWidth}\n        onScroll={({ scrollLeft }: { scrollLeft: number }) => {\n          onScroll({ scrollLeft });\n        }}\n      >\n        {({\n          columnIndex,\n          rowIndex,\n          style,\n        }: {\n          columnIndex: number;\n          rowIndex: number;\n          style: React.CSSProperties;\n        }) => {\n          const data: any = rawData?.[rowIndex];\n          // Set default content\n          let content =\n            data?.[(mergedColumns as any)?.[columnIndex]?.dataIndex];\n          // Check if the column has a render function\n          const render = mergedColumns[columnIndex]?.render;\n          if (typeof render === 'function') {\n            // Use render function to generate formatted content using column's render function\n            content = render(content, data, rowIndex);\n          }\n\n          if (allowHTML && typeof content === 'string') {\n            content = safeHtmlSpan(content);\n          }\n\n          return (\n            <StyledCell\n              className={classNames('virtual-table-cell', {\n                'virtual-table-cell-last':\n                  columnIndex === mergedColumns.length - 1,\n              })}\n              style={style}\n              title={typeof content === 'string' ? content : undefined}\n              theme={theme}\n              height={cellSize}\n            >\n              {content}\n            </StyledCell>\n          );\n        }}\n      </Grid>\n    );\n  };\n\n  const modifiedPagination = {\n    ...pagination,\n    onChange: onPageChange,\n  };\n\n  return (\n    <div ref={ref}>\n      <StyledTable\n        {...props}\n        sticky={false}\n        className=\"virtual-table\"\n        columns={mergedColumns}\n        components={{\n          body: renderVirtualList,\n        }}\n        pagination={pagination ? modifiedPagination : false}\n      />\n    </div>\n  );\n};\n\nexport default VirtualTable;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * License); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useRef, ReactElement } from 'react';\nimport AntTable, {\n  ColumnsType,\n  TableProps as AntTableProps,\n} from 'antd/lib/table';\nimport ConfigProvider from 'antd/lib/config-provider';\nimport { PaginationProps } from 'antd/lib/pagination';\nimport { t, useTheme, logging, styled } from '@superset-ui/core';\nimport Loading from 'src/components/Loading';\nimport InteractiveTableUtils from './utils/InteractiveTableUtils';\nimport VirtualTable from './VirtualTable';\n\nexport const SUPERSET_TABLE_COLUMN = 'superset/table-column';\n\nexport enum SelectionType {\n  Disabled = 'disabled',\n  Single = 'single',\n  Multi = 'multi',\n}\n\nexport type SortOrder = 'descend' | 'ascend' | null;\n\nexport enum ETableAction {\n  Paginate = 'paginate',\n  Sort = 'sort',\n  Filter = 'filter',\n}\n\nexport type { ColumnsType };\nexport type OnChangeFunction<RecordType> =\n  AntTableProps<RecordType>['onChange'];\n\nexport enum TableSize {\n  Small = 'small',\n  Middle = 'middle',\n}\n\nexport interface TableProps<RecordType> {\n  /**\n   * Data that will populate the each row and map to the column key.\n   */\n  data: RecordType[];\n  /**\n   * Whether to show all table borders\n   */\n  bordered?: boolean;\n  /**\n   * Table column definitions.\n   */\n  columns: ColumnsType<RecordType>;\n  /**\n   * Array of row keys to represent list of selected rows.\n   */\n  selectedRows?: React.Key[];\n  /**\n   * Callback function invoked when a row is selected by user.\n   */\n  handleRowSelection?: (newSelectedRowKeys: React.Key[]) => void;\n  /**\n   * Controls the size of the table.\n   */\n  size: TableSize;\n  /**\n   * Controls if table rows are selectable and if multiple select is supported.\n   */\n  selectionType?: SelectionType;\n  /*\n   * Places table in visual loading state.  Use while waiting to retrieve data or perform an async operation that will update the table.\n   */\n  loading?: boolean;\n  /**\n   * Uses a sticky header which always displays when vertically scrolling the table.  Default: true\n   */\n  sticky?: boolean;\n  /**\n   * Controls if columns are resizable by user.\n   */\n  resizable?: boolean;\n  /**\n   * EXPERIMENTAL: Controls if columns are re-orderable by user drag drop.\n   */\n  reorderable?: boolean;\n  /**\n   * Controls if pagination is active or disabled.\n   */\n  usePagination?: boolean;\n  /**\n   * Default number of rows table will display per page of data.\n   */\n  defaultPageSize?: number;\n  /**\n   * Array of numeric options for the number of rows table will display per page of data.\n   * The user can select from these options in the page size drop down menu.\n   */\n  pageSizeOptions?: string[];\n  /**\n   * Set table to display no data even if data has been provided\n   */\n  hideData?: boolean;\n  /**\n   * emptyComponent\n   */\n  emptyComponent?: ReactElement;\n  /**\n   * Enables setting the text displayed in various components and tooltips within the Table UI.\n   */\n  locale?: Partial<AntTableProps<RecordType>['locale']>;\n  /**\n   * Restricts the visible height of the table and allows for internal scrolling within the table\n   * when the number of rows exceeds the visible space.\n   */\n  height?: number;\n  /**\n   * Sets the table to use react-window for scroll virtualization in cases where\n   * there are unknown amount of columns, or many, many rows\n   */\n  virtualize?: boolean;\n  /**\n   * Used to override page controls total record count when using server-side paging.\n   */\n  recordCount?: number;\n  /**\n   * Invoked when the tables sorting, paging, or filtering is changed.\n   */\n  onChange?: OnChangeFunction<RecordType>;\n  /**\n   * Returns props that should be applied to each row component.\n   */\n  onRow?: AntTableProps<RecordType>['onRow'];\n  /**\n   * Will render html safely if set to true, anchor tags and such. Currently\n   * only supported for virtualize == true\n   */\n  allowHTML?: boolean;\n\n  /**\n   * The column that contains children to display.\n   * Check https://ant.design/components/table#table for more details.\n   */\n  childrenColumnName?: string;\n}\n\nconst defaultRowSelection: React.Key[] = [];\n\nconst PAGINATION_HEIGHT = 40;\nconst HEADER_HEIGHT = 68;\n\nconst StyledTable = styled(AntTable)<{ height?: number }>(\n  ({ theme, height }) => `\n    .ant-table-body {\n      overflow: auto;\n      height: ${height ? `${height}px` : undefined};\n    }\n\n    th.ant-table-cell {\n      font-weight: ${theme.typography.weights.bold};\n      color: ${theme.colors.grayscale.dark1};\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .ant-table-tbody > tr > td {\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      border-bottom: 1px solid ${theme.colors.grayscale.light3};\n    }\n\n    .ant-pagination-item-active {\n      border-color: ${theme.colors.primary.base};\n    }\n\n    .ant-table.ant-table-small {\n      font-size: ${theme.typography.sizes.s}px;\n    }\n  `,\n);\nconst StyledVirtualTable = styled(VirtualTable)(\n  ({ theme }) => `\n  .virtual-table .ant-table-container:before,\n  .virtual-table .ant-table-container:after {\n    display: none;\n  }\n  .virtual-table-cell {\n    box-sizing: border-box;\n    padding: ${theme.gridUnit * 4}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`,\n);\n\nconst defaultLocale = {\n  filterTitle: t('Filter menu'),\n  filterConfirm: t('OK'),\n  filterReset: t('Reset'),\n  filterEmptyText: t('No filters'),\n  filterCheckall: t('Select all items'),\n  filterSearchPlaceholder: t('Search in filters'),\n  emptyText: t('No data'),\n  selectAll: t('Select current page'),\n  selectInvert: t('Invert current page'),\n  selectNone: t('Clear all data'),\n  selectionAll: t('Select all data'),\n  sortTitle: t('Sort'),\n  expand: t('Expand row'),\n  collapse: t('Collapse row'),\n  triggerDesc: t('Click to sort descending'),\n  triggerAsc: t('Click to sort ascending'),\n  cancelSort: t('Click to cancel sorting'),\n};\n\nconst selectionMap = {};\nconst noop = () => {};\nselectionMap[SelectionType.Multi] = 'checkbox';\nselectionMap[SelectionType.Single] = 'radio';\nselectionMap[SelectionType.Disabled] = null;\n\nexport function Table<RecordType extends object>(\n  props: TableProps<RecordType>,\n) {\n  const {\n    data,\n    bordered,\n    columns,\n    selectedRows = defaultRowSelection,\n    handleRowSelection,\n    size = TableSize.Small,\n    selectionType = SelectionType.Disabled,\n    sticky = true,\n    loading = false,\n    resizable = false,\n    reorderable = false,\n    usePagination = true,\n    defaultPageSize = 15,\n    pageSizeOptions = ['5', '15', '25', '50', '100'],\n    hideData = false,\n    emptyComponent,\n    locale,\n    height,\n    virtualize = false,\n    onChange = noop,\n    recordCount,\n    onRow,\n    allowHTML = false,\n    childrenColumnName,\n  } = props;\n\n  const wrapperRef = useRef<HTMLDivElement | null>(null);\n  const [derivedColumns, setDerivedColumns] = useState(columns);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n  const [mergedLocale, setMergedLocale] = useState<\n    Required<AntTableProps<RecordType>>['locale']\n  >({ ...defaultLocale });\n  const [selectedRowKeys, setSelectedRowKeys] =\n    useState<React.Key[]>(selectedRows);\n  const interactiveTableUtils = useRef<InteractiveTableUtils | null>(null);\n\n  const onSelectChange = (newSelectedRowKeys: React.Key[]) => {\n    setSelectedRowKeys(newSelectedRowKeys);\n    handleRowSelection?.(newSelectedRowKeys);\n  };\n\n  const selectionTypeValue = selectionMap[selectionType];\n  const rowSelection = {\n    type: selectionTypeValue,\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  const renderEmpty = () =>\n    emptyComponent ?? <div>{mergedLocale.emptyText}</div>;\n\n  // Log use of experimental features\n  useEffect(() => {\n    if (reorderable === true) {\n      logging.warn(\n        'EXPERIMENTAL FEATURE ENABLED: The \"reorderable\" prop of Table is experimental and NOT recommended for use in production deployments.',\n      );\n    }\n    if (resizable === true) {\n      logging.warn(\n        'EXPERIMENTAL FEATURE ENABLED: The \"resizable\" prop of Table is experimental and NOT recommended for use in production deployments.',\n      );\n    }\n  }, [reorderable, resizable]);\n\n  useEffect(() => {\n    let updatedLocale;\n    if (locale) {\n      // This spread allows for locale to only contain a subset of locale overrides on props\n      updatedLocale = { ...defaultLocale, ...locale };\n    } else {\n      updatedLocale = { ...defaultLocale };\n    }\n    setMergedLocale(updatedLocale);\n  }, [locale]);\n\n  useEffect(() => setDerivedColumns(columns), [columns]);\n\n  useEffect(() => {\n    if (interactiveTableUtils.current) {\n      interactiveTableUtils.current?.clearListeners();\n    }\n    const table = wrapperRef.current?.getElementsByTagName('table')[0];\n    if (table) {\n      interactiveTableUtils.current = new InteractiveTableUtils(\n        table,\n        derivedColumns,\n        setDerivedColumns,\n      );\n      if (reorderable) {\n        interactiveTableUtils?.current?.initializeDragDropColumns(\n          reorderable,\n          table,\n        );\n      }\n      if (resizable) {\n        interactiveTableUtils?.current?.initializeResizableColumns(\n          resizable,\n          table,\n        );\n      }\n    }\n    return () => {\n      interactiveTableUtils?.current?.clearListeners?.();\n    };\n    /**\n     * We DO NOT want this effect to trigger when derivedColumns changes as it will break functionality\n     * The exclusion from the effect dependencies is intentional and should not be modified\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [wrapperRef, reorderable, resizable, virtualize, interactiveTableUtils]);\n\n  const theme = useTheme();\n\n  const paginationSettings: PaginationProps | false = usePagination\n    ? {\n        hideOnSinglePage: true,\n        pageSize,\n        pageSizeOptions,\n        onShowSizeChange: (page: number, size: number) => setPageSize(size),\n      }\n    : false;\n\n  /**\n   * When recordCount is provided it lets the user of Table control total number of pages\n   * independent from data.length.  This allows the parent component do things like server side paging\n   * where the user can be shown the total mount of data they can page through, but the component can provide\n   * data one page at a time, and respond to the onPageChange event to fetch and set new data\n   */\n  if (paginationSettings && recordCount) {\n    paginationSettings.total = recordCount;\n  }\n\n  let bodyHeight = height;\n  if (bodyHeight) {\n    bodyHeight -= HEADER_HEIGHT;\n    const hasPagination =\n      usePagination && recordCount && recordCount > pageSize;\n    if (hasPagination) {\n      bodyHeight -= PAGINATION_HEIGHT;\n    }\n  }\n\n  const sharedProps = {\n    loading: { spinning: loading ?? false, indicator: <Loading /> },\n    hasData: hideData ? false : data,\n    columns: derivedColumns,\n    dataSource: hideData ? undefined : data,\n    size,\n    pagination: paginationSettings,\n    locale: mergedLocale,\n    showSorterTooltip: false,\n    onChange,\n    onRow,\n    theme,\n    height: bodyHeight,\n    bordered,\n    expandable: {\n      childrenColumnName,\n    },\n  };\n\n  return (\n    <ConfigProvider renderEmpty={renderEmpty}>\n      <div ref={wrapperRef}>\n        {!virtualize && (\n          <StyledTable\n            {...sharedProps}\n            rowSelection={selectionTypeValue ? rowSelection : undefined}\n            sticky={sticky}\n          />\n        )}\n        {virtualize && (\n          <StyledVirtualTable\n            {...sharedProps}\n            scroll={{\n              y: 300,\n              x: '100vw',\n              // To avoid jest failure by scrollTo\n              ...(process.env.WEBPACK_MODE === 'test' && {\n                scrollToFirstRowOnChange: false,\n              }),\n            }}\n            allowHTML={allowHTML}\n          />\n        )}\n      </div>\n    </ConfigProvider>\n  );\n}\n\nexport default Table;\n"],"names":["xssFilter","FilterXSS","whiteList","getDefaultWhiteList","span","div","a","img","video","stripIgnoreTag","css","sanitizeHtml","htmlString","process","isProbablyHTML","text","Array","from","DOMParser","parseFromString","body","childNodes","some","nodeType","sanitizeHtmlIfNeeded","safeHtmlSpan","possiblyHtmlString","___EmotionJSX","className","dangerouslySetInnerHTML","__html","removeHTMLTags","str","replace","withinRange","value","maximum","threshold","within","diff","InteractiveTableUtils","constructor","tableRef","derivedColumns","setDerivedColumns","columnRef","isDragging","resizable","reorderable","RESIZE_INDICATOR_THRESHOLD","clearListeners","document","removeEventListener","this","handleMouseup","initializeResizableColumns","initializeDragDropColumns","setTableRef","table","getColumnIndex","_this$columnRef","index","parent","parentNode","prototype","indexOf","call","children","handleColumnDragStart","ev","_ev$dataTransfer","target","currentTarget","dragData","columnData","dataTransfer","setData","SUPERSET_TABLE_COLUMN","JSON","stringify","handleDragDrop","_ev$dataTransfer2","getData","_ev$currentTarget","preventDefault","dropIndex","dragIndex","columnsCopy","removedItem","slice","splice","allowDrop","handleMouseDown","event","offsetX","offsetWidth","mouseDown","oldX","x","oldWidth","draggable","handleMouseMove","style","cursor","column","width","colIndex","Number","isNaN","columnDef","_this$tableRef","_this$tableRef$rows","header","rows","cells","len","length","i","cell","addEventListener","_this$tableRef2","_this$tableRef2$rows","StyledCell","styled","theme","height","gridUnit","colors","grayscale","light3","StyledTable","AntTable","typography","weights","bold","dark1","primary","base","sizes","s","SelectionType","ETableAction","TableSize","defaultRowSelection","PAGINATION_HEIGHT","HEADER_HEIGHT","undefined","StyledVirtualTable","props","_columns$map","columns","pagination","onChange","scroll","size","allowHTML","tableWidth","setTableWidth","useState","onResize","useCallback","ref","useResizeDetector","useTheme","DEFAULT_COL_WIDTH","widthColumnCount","filter","staticColWidthTotal","forEach","totalWidth","defaultWidth","Math","max","floor","mergedColumns","map","modifiedColumn","lastColumn","gridRef","useRef","connectObject","obj","Object","defineProperty","get","_gridRef$current","_gridRef$current$stat","current","state","scrollLeft","set","scrollTo","resetVirtualGrid","_gridRef$current2","resetAfterIndices","columnIndex","shouldForceUpdate","useEffect","modifiedPagination","onPageChange","page","_gridRef$current3","scrollTop","pageSize","action","Paginate","currentDataSource","_extends","sticky","components","renderVirtualList","rawData","onScroll","cellSize","Middle","Grid","columnCount","columnWidth","y","rowCount","rowHeight","rowIndex","_mergedColumns$column","_mergedColumns$column2","data","content","dataIndex","render","classNames","title","defaultLocale","filterTitle","t","filterConfirm","filterReset","filterEmptyText","filterCheckall","filterSearchPlaceholder","emptyText","selectAll","selectInvert","selectNone","selectionAll","sortTitle","expand","collapse","triggerDesc","triggerAsc","cancelSort","selectionMap","noop","Table","bordered","selectedRows","handleRowSelection","Small","selectionType","Disabled","loading","usePagination","defaultPageSize","pageSizeOptions","hideData","emptyComponent","locale","virtualize","recordCount","onRow","childrenColumnName","wrapperRef","setPageSize","mergedLocale","setMergedLocale","selectedRowKeys","setSelectedRowKeys","interactiveTableUtils","selectionTypeValue","rowSelection","type","newSelectedRowKeys","logging","warn","updatedLocale","_wrapperRef$current","_interactiveTableUtil","getElementsByTagName","_interactiveTableUtil2","_interactiveTableUtil3","_interactiveTableUtil4","paginationSettings","hideOnSinglePage","onShowSizeChange","total","bodyHeight","sharedProps","spinning","indicator","Loading","hasData","dataSource","showSorterTooltip","expandable","ConfigProvider","renderEmpty","Multi","Single"],"sourceRoot":""}